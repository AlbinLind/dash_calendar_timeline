/*! For license information please see dash_calendar_timeline.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.dash_calendar_timeline=t(require("react")):e.dash_calendar_timeline=t(e.React)}(self,e=>(()=>{var t={20:(e,t,r)=>{"use strict";var n=r(295),i=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,l={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!a.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:u,props:l,_owner:s.current}}t.jsx=l,t.jsxs=l},56:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},s=[],a=0;a<e.length;a++){var l=e[a],c=n.base?l[0]+n.base:l[0],u=o[c]||0,p="".concat(c," ").concat(u);o[c]=u+1;var d=r(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var f=i(h,n);n.byIndex=a,t.splice(a,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var o=n(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=r(o[s]);t[a].references--}for(var l=n(e,i),c=0;c<o.length;c++){var u=r(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},80:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DashCalendarTimeline=void 0;var i=n(r(832));t.DashCalendarTimeline=i.default},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},134:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(r,n,i){var o=n.prototype;o.week=function(r){if(void 0===r&&(r=null),null!==r)return this.add(7*(r-this.week()),"day");var n=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(t).add(1,t).date(n),s=i(this).endOf(e);if(o.isBefore(s))return 1}var a=i(this).startOf(t).date(n).startOf(e).subtract(1,"millisecond"),l=this.diff(a,e,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},o.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},220:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(601),i=r.n(n),o=r(314),s=r.n(o)()(i());s.push([e.id,".react-calendar-timeline *{box-sizing:border-box}.react-calendar-timeline .rct-outer{display:block;overflow:hidden;white-space:nowrap}.react-calendar-timeline .rct-scroll{display:inline-block;white-space:normal;vertical-align:top;overflow-x:scroll;overflow-y:hidden;-ms-touch-action:none;touch-action:none}.react-calendar-timeline .rct-item:hover{z-index:88}.react-calendar-timeline .rct-item .rct-item-content{position:sticky;position:-webkit-sticky;left:0;overflow:hidden;display:inline-block;border-radius:2px;padding:0 6px;height:100%}.react-calendar-timeline .rct-sidebar{overflow:hidden;white-space:normal;display:inline-block;vertical-align:top;position:relative;box-sizing:border-box;border-right:1px solid #bbb}.react-calendar-timeline .rct-sidebar.rct-sidebar-right{border-right:0;border-left:1px solid #bbb}.react-calendar-timeline .rct-sidebar .rct-sidebar-row{padding:0 4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;margin:0;border-bottom:1px solid #bbb}.react-calendar-timeline .rct-sidebar .rct-sidebar-row.rct-sidebar-row-odd{background:#0000000d}.react-calendar-timeline .rct-sidebar .rct-sidebar-row.rct-sidebar-row-even{background:transparent}.react-calendar-timeline .rct-vertical-lines .rct-vl{position:absolute;border-left:1px solid #bbb;z-index:30}.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-vl-first{border-left-width:2px}.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-day-6,.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-day-0{background:#faf6e180}.react-calendar-timeline .rct-horizontal-lines{-webkit-user-select:none;-moz-user-select:-moz-none;-ms-user-select:none;user-select:none}.react-calendar-timeline .rct-horizontal-lines .rct-hl-even,.react-calendar-timeline .rct-horizontal-lines .rct-hl-odd{border-bottom:1px solid #bbb;box-sizing:border-box;z-index:40}.react-calendar-timeline .rct-horizontal-lines .rct-hl-odd{background:#0000000d}.react-calendar-timeline .rct-horizontal-lines .rct-hl-even{background:transparent}.react-calendar-timeline .rct-cursor-line{position:absolute;width:2px;background:#2196f3;z-index:51}.react-calendar-timeline .rct-dateHeader{display:flex;align-items:center;justify-content:center;height:100%;border-bottom:1px solid #bbb;cursor:pointer;font-size:14px;background-color:#f0f0f0;border-left:2px solid #bbb}.react-calendar-timeline .rct-dateHeader-primary{background-color:initial;border-left:1px solid #bbb;border-right:1px solid #bbb;color:#fff}.react-calendar-timeline .rct-header-root{background:#c52020;border-bottom:1px solid #bbb}.react-calendar-timeline .rct-calendar-header{border:1px solid #bbb}\n",""]);const a=s},295:t=>{"use strict";t.exports=e},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);n&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},353:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",i="minute",o="hour",s="day",a="week",l="month",c="quarter",u="year",p="date",d="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},v=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:v,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+v(n,2,"0")+":"+v(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,l),o=r-i<0,s=t.clone().add(n+(o?-1:1),l);return+(-(n+(r-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:a,d:s,D:p,h:o,m:i,s:n,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=m;var x="$isDayjsObject",w=function(e){return e instanceof _||!(!e||!e[x])},T=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();y[o]&&(i=o),r&&(y[o]=r,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;y[a]=t,i=a}return!n&&i&&(b=i),i||!n&&b},S=function(e,t){if(w(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new _(r)},O=g;O.l=T,O.i=w,O.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function m(e){this.$L=T(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(O.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(h);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return O},v.isValid=function(){return!(this.$d.toString()===d)},v.isSame=function(e,t){var r=S(e);return this.startOf(t)<=r&&r<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,r){return O.u(e)?this[t]:this.set(r,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var r=this,c=!!O.u(t)||t,d=O.p(e),h=function(e,t){var n=O.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return c?n:n.endOf(s)},f=function(e,t){return O.w(r.toDate()[e].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},m=this.$W,v=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case u:return c?h(1,0):h(31,11);case l:return c?h(1,v):h(0,v+1);case a:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return h(c?g-x:g+(6-x),v);case s:case p:return f(b+"Hours",0);case o:return f(b+"Minutes",1);case i:return f(b+"Seconds",2);case n:return f(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var a,c=O.p(e),d="set"+(this.$u?"UTC":""),h=(a={},a[s]=d+"Date",a[p]=d+"Date",a[l]=d+"Month",a[u]=d+"FullYear",a[o]=d+"Hours",a[i]=d+"Minutes",a[n]=d+"Seconds",a[r]=d+"Milliseconds",a)[c],f=c===s?this.$D+(t-this.$W):t;if(c===l||c===u){var m=this.clone().set(p,1);m.$d[h](f),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[O.p(e)]()},v.add=function(r,c){var p,d=this;r=Number(r);var h=O.p(c),f=function(e){var t=S(d);return O.w(t.date(t.date()+Math.round(e*r)),d)};if(h===l)return this.set(l,this.$M+r);if(h===u)return this.set(u,this.$y+r);if(h===s)return f(1);if(h===a)return f(7);var m=(p={},p[i]=e,p[o]=t,p[n]=1e3,p)[h]||1,v=this.$d.getTime()+r*m;return O.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),o=this.$H,s=this.$m,a=this.$M,l=r.weekdays,c=r.months,u=r.meridiem,p=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].slice(0,o)},h=function(e){return O.s(o%12||12,e,"0")},m=u||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(f,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return O.s(t.$y,4,"0");case"M":return a+1;case"MM":return O.s(a+1,2,"0");case"MMM":return p(r.monthsShort,a,c,3);case"MMMM":return p(c,a);case"D":return t.$D;case"DD":return O.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(r.weekdaysMin,t.$W,l,2);case"ddd":return p(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return O.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(o,s,!0);case"A":return m(o,s,!1);case"m":return String(s);case"mm":return O.s(s,2,"0");case"s":return String(t.$s);case"ss":return O.s(t.$s,2,"0");case"SSS":return O.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,p,d){var h,f=this,m=O.p(p),v=S(r),g=(v.utcOffset()-this.utcOffset())*e,b=this-v,y=function(){return O.m(f,v)};switch(m){case u:h=y()/12;break;case l:h=y();break;case c:h=y()/3;break;case a:h=(b-g)/6048e5;break;case s:h=(b-g)/864e5;break;case o:h=b/t;break;case i:h=b/e;break;case n:h=b/1e3;break;default:h=b}return d?h:O.a(h)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return y[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=T(e,t,!0);return n&&(r.$L=n),r},v.clone=function(){return O.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),k=_.prototype;return S.prototype=k,[["$ms",r],["$s",n],["$m",i],["$H",o],["$W",s],["$M",l],["$y",u],["$D",p]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,_,S),e.$i=!0),S},S.locale=T,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=y[b],S.Ls=y,S.p={},S}()},415:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(601),i=r.n(n),o=r(314),s=r.n(o)()(i());s.push([e.id,".rct-item:hover {\n  .rct-item-handler-right {\n    cursor: e-resize !important;\n  }\n  .rct-item-handler-left {\n    cursor: w-resize !important;\n  }\n}\n",""]);const a=s},438:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(72),i=r.n(n),o=r(825),s=r.n(o),a=r(56),l=r.n(a),c=r(540),u=r.n(c),p=r(113),d=r.n(p),h=r(867),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){var t=document.querySelector("head"),r=window._lastElementInsertedByStyleLoader;r?r.nextSibling?t.insertBefore(e,r.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},f.domAPI=s(),f.insertStyleElement=u(),i()(h.A,f);const m=h.A&&h.A.locals?h.A.locals:void 0},448:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CursorMarker:()=>fo,CustomHeader:()=>Bi,CustomMarker:()=>po,DateHeader:()=>ro,GroupRow:()=>ti,RowItems:()=>Zn,SidebarHeader:()=>Ui,Timeline:()=>so,TimelineHeaders:()=>Ki,TimelineMarkers:()=>ao,TodayMarker:()=>co,calendarUtils:()=>In,default:()=>so});var n=r(848),i=r(295),o=r.n(i),s=r(353),a=r.n(s);function l(e){let t=0,r=0,n=!0;for(;e;)!e.offsetParent&&"BODY"===e.tagName&&0===e.scrollLeft&&0===e.scrollTop&&(e=document.scrollingElement||e),t+=e.offsetLeft-(n?0:e.scrollLeft)+e.clientLeft,r+=e.offsetTop-(n?0:e.scrollTop)+e.clientTop,e=e.offsetParent,n=!1;return{x:t,y:r}}function c(e){if(e===document.body)return{scrollLeft:0,scrollTop:0};{const t=c(e.parentNode);return{scrollLeft:e.scrollLeft+t.scrollLeft,scrollTop:e.scrollTop+t.scrollTop}}}function u(e){if(e===document.body||!e.offsetParent)return{offsetLeft:0,offsetTop:0};{const t=u(e.offsetParent);return{offsetLeft:e.offsetLeft+t.offsetLeft,offsetTop:e.offsetTop+t.offsetTop}}}var p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h,f={exports:{}};(h=f).exports=function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=a(e);if(t){var i=a(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,r)}}function p(){return p=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},p.apply(this,arguments)}function d(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var f=function(e){return!(!e||!e.Window)&&e instanceof e.Window},m=void 0,v=void 0;function g(e){m=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),v=e}function b(e){return f(e)?e:(e.ownerDocument||e).defaultView||v.window}typeof window<"u"&&window&&g(window);var y=function(e){return!!e&&"object"===r(e)},x=function(e){return"function"==typeof e},w=function(e){return e===v||f(e)},T=function(e){return y(e)&&11===e.nodeType},S=y,O=x,_=function(e){return"number"==typeof e},k=function(e){return"boolean"==typeof e},E=function(e){return"string"==typeof e},P=function(e){if(!e||"object"!==r(e))return!1;var t=b(e)||v;return/object|function/.test(typeof Element>"u"?"undefined":r(Element))?e instanceof Element||e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName},M=function(e){return y(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},I=function(e){return y(e)&&void 0!==e.length&&x(e.splice)};function C(e){var t=e.interaction;if("drag"===t.prepared.name){var r=t.prepared.axis;"x"===r?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===r&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function D(e){var t=e.iEvent,r=e.interaction;if("drag"===r.prepared.name){var n=r.prepared.axis;if("x"===n||"y"===n){var i="x"===n?"y":"x";t.page[i]=r.coords.start.page[i],t.client[i]=r.coords.start.client[i],t.delta[i]=0}}}var j={id:"actions/drag",install:function(e){var t=e.actions,r=e.Interactable,n=e.defaults;r.prototype.draggable=j.draggable,t.map.drag=j,t.methodDict.drag="draggable",n.actions.drag=j.defaults},listeners:{"interactions:before-action-move":C,"interactions:action-resume":C,"interactions:action-move":D,"auto-start:check":function(e){var t=e.interaction,r=e.interactable,n=e.buttons,i=r.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||n&r.options.drag.mouseButtons))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return S(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):k(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:C,move:D,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(e){return 0===e.search("drag")}},z=j,R={init:function(e){var t=e;R.document=t.document,R.DocumentFragment=t.DocumentFragment||L,R.SVGElement=t.SVGElement||L,R.SVGSVGElement=t.SVGSVGElement||L,R.SVGElementInstance=t.SVGElementInstance||L,R.Element=t.Element||L,R.HTMLElement=t.HTMLElement||R.Element,R.Event=t.Event,R.Touch=t.Touch||L,R.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function L(){}var A=R,$={init:function(e){var t=A.Element,r=e.navigator||{};$.supportsTouch="ontouchstart"in e||O(e.DocumentTouch)&&A.document instanceof e.DocumentTouch,$.supportsPointerEvent=!1!==r.pointerEnabled&&!!A.PointerEvent,$.isIOS=/iP(hone|od|ad)/.test(r.platform),$.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),$.isIe9=/MSIE 9/.test(r.userAgent),$.isOperaMobile="Opera"===r.appName&&$.supportsTouch&&/Presto/.test(r.userAgent),$.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",$.pEventTypes=$.supportsPointerEvent?A.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,$.wheelEvent=A.document&&"onmousewheel"in A.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},H=$;function W(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function F(e,t){for(;P(e);){if(N(e,t))return e;e=Y(e)}return null}function Y(e){var t=e.parentNode;if(T(t)){for(;(t=t.host)&&T(t););return t}return t}function N(e,t){return v!==m&&(t=t.replace(/\/deep\//g," ")),e[H.prefixedMatchesSelector](t)}var U=function(e){return e.parentNode||e.host};function G(e,t){for(var r,n=[],i=e;(r=U(i))&&i!==t&&r!==i.ownerDocument;)n.unshift(i),i=r;return n}function K(e,t,r){for(;P(e);){if(N(e,t))return!0;if((e=Y(e))===r)return N(e,t)}return!1}function X(e){return e.correspondingUseElement||e}function B(e){var t=e instanceof A.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function V(e){var t,r=B(e);if(!H.isIOS7&&r){var n={x:(t=(t=b(e))||v).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y}return r}function Z(e){for(var t=[];e;)t.push(e),e=Y(e);return t}function q(e){return!!E(e)&&(A.document.querySelector(e),!0)}function J(e,t){for(var r in t)e[r]=t[r];return e}function Q(e,t,r){return"parent"===e?Y(r):"self"===e?t.getRect(r):F(r,e)}function ee(e,t,r,n){var i=e;return E(i)?i=Q(i,t,r):O(i)&&(i=i.apply(void 0,n)),P(i)&&(i=V(i)),i}function te(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function re(e){return!e||"x"in e&&"y"in e||((e=J({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function ne(e,t,r){e.left&&(t.left+=r.x),e.right&&(t.right+=r.x),e.top&&(t.top+=r.y),e.bottom&&(t.bottom+=r.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function ie(e,t,r){var n=r&&e.options[r];return te(ee(n&&n.origin||e.options.origin,e,t,[e&&t]))||{x:0,y:0}}function oe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},n=arguments.length>3?arguments[3]:void 0;if(n=n||{},E(e)&&-1!==e.search(" ")&&(e=se(e)),I(e))return e.forEach(function(e){return oe(e,t,r,n)}),n;if(S(e)&&(t=e,e=""),O(t)&&r(e))n[e]=n[e]||[],n[e].push(t);else if(I(t))for(var i=0,o=t;i<o.length;i++){var s=o[i];oe(e,s,r,n)}else if(S(t))for(var a in t)oe(se(a).map(function(t){return"".concat(e).concat(t)}),t[a],r,n);return n}function se(e){return e.trim().split(/ +/)}var ae=function(e,t){return Math.sqrt(e*e+t*t)},le=["webkit","moz"];function ce(e,t){e.__set||(e.__set={});var r=function(r){if(le.some(function(e){return 0===r.indexOf(e)}))return 1;"function"!=typeof e[r]&&"__set"!==r&&Object.defineProperty(e,r,{get:function(){return r in e.__set?e.__set[r]:e.__set[r]=t[r]},set:function(t){e.__set[r]=t},configurable:!0})};for(var n in t)r(n);return e}function ue(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function pe(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function de(e){return e instanceof A.Event||e instanceof A.Touch}function he(e,t,r){return e=e||"page",(r=r||{}).x=t[e+"X"],r.y=t[e+"Y"],r}function fe(e,t){return t=t||{x:0,y:0},H.isOperaMobile&&de(e)?(he("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):he("page",e,t),t}function me(e){return _(e.pointerId)?e.pointerId:e.identifier}function ve(e){var t=[];return I(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ge(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var n=e[r];for(var i in t)t[i]+=n[i]}for(var o in t)t[o]/=e.length;return t}function be(e){if(!e.length)return null;var t=ve(e),r=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:r,y:n,left:r,top:n,right:i,bottom:o,width:i-r,height:o-n}}function ye(e,t){var r=t+"X",n=t+"Y",i=ve(e),o=i[0][r]-i[1][r],s=i[0][n]-i[1][n];return ae(o,s)}function xe(e,t){var r=t+"X",n=t+"Y",i=ve(e),o=i[1][r]-i[0][r],s=i[1][n]-i[0][n];return 180*Math.atan2(s,o)/Math.PI}function we(e){return E(e.pointerType)?e.pointerType:_(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof A.Touch?"touch":"mouse"}function Te(e){var t=O(e.composedPath)?e.composedPath():e.path;return[X(t?t[0]:e.target),X(e.currentTarget)]}var Se=function(){function e(t){n(this,e),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return i(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();Object.defineProperty(Se.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Oe=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}return e},_e=function(e){return Oe([],e)},ke=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return r;return-1},Ee=function(e,t){return e[ke(e,t)]},Pe=function(e){s(r,e);var t=u(r);function r(e,i,o){var s;n(this,r),(s=t.call(this,i._interaction)).dropzone=void 0,s.dragEvent=void 0,s.relatedTarget=void 0,s.draggable=void 0,s.propagationStopped=!1,s.immediatePropagationStopped=!1;var a="dragleave"===o?e.prev:e.cur,l=a.element,c=a.dropzone;return s.type=o,s.target=l,s.currentTarget=l,s.dropzone=c,s.dragEvent=i,s.relatedTarget=i.target,s.draggable=i.interactable,s.timeStamp=i.timeStamp,s}return i(r,[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=t.activeDrops,i=ke(n,function(t){var r=t.dropzone,n=t.element;return r===e.dropzone&&n===e.target});t.activeDrops.splice(i,1);var o=new r(t,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new r(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),r}(Se);function Me(e,t){for(var r=0,n=e.slice();r<n.length;r++){var i=n[r],o=i.dropzone,s=i.element;t.dropzone=o,t.target=s,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Ie(e,t){for(var r=function(e,t){for(var r=[],n=0,i=e.interactables.list;n<i.length;n++){var o=i[n];if(o.options.drop.enabled){var s=o.options.drop.accept;if(!(P(s)&&s!==t||E(s)&&!N(t,s)||O(s)&&!s({dropzone:o,draggableElement:t})))for(var a=0,l=o.getAllElements();a<l.length;a++){var c=l[a];c!==t&&r.push({dropzone:o,element:c,rect:o.getRect(c)})}}}return r}(e,t),n=0;n<r.length;n++){var i=r[n];i.rect=i.dropzone.getRect(i.element)}return r}function Ce(e,t,r){for(var n=e.dropState,i=e.interactable,o=e.element,s=[],a=0,l=n.activeDrops;a<l.length;a++){var c=l[a],u=c.dropzone,p=c.element,d=c.rect,h=u.dropCheck(t,r,i,o,p,d);s.push(h?p:null)}var f=function(e){for(var t,r,n,i=[],o=0;o<e.length;o++){var s=e[o],a=e[t];if(s&&o!==t)if(a){var l=U(s),c=U(a);if(l!==s.ownerDocument)if(c!==s.ownerDocument)if(l!==c){i=i.length?i:G(a);var u=void 0;if(a instanceof A.HTMLElement&&s instanceof A.SVGElement&&!(s instanceof A.SVGSVGElement)){if(s===c)continue;u=s.ownerSVGElement}else u=s;for(var p=G(u,a.ownerDocument),d=0;p[d]&&p[d]===i[d];)d++;var h=[p[d-1],p[d],i[d]];if(h[0])for(var f=h[0].lastChild;f;){if(f===h[1]){t=o,i=p;break}if(f===h[2])break;f=f.previousSibling}}else n=a,(parseInt(b(r=s).getComputedStyle(r).zIndex,10)||0)>=(parseInt(b(n).getComputedStyle(n).zIndex,10)||0)&&(t=o);else t=o}else t=o}return t}(s);return n.activeDrops[f]||null}function De(e,t,r){var n=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===r.type&&(i.activate=new Pe(n,r,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===r.type&&(i.deactivate=new Pe(n,r,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(i.leave=new Pe(n,r,"dragleave"),r.dragLeave=i.leave.target=n.prev.element,r.prevDropzone=i.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(i.enter=new Pe(n,r,"dragenter"),r.dragEnter=n.cur.element,r.dropzone=n.cur.dropzone)),"dragend"===r.type&&n.cur.dropzone&&(i.drop=new Pe(n,r,"drop"),r.dropzone=n.cur.dropzone,r.relatedTarget=n.cur.element),"dragmove"===r.type&&n.cur.dropzone&&(i.move=new Pe(n,r,"dropmove"),r.dropzone=n.cur.dropzone)),i}function je(e,t){var r=e.dropState,n=r.activeDrops,i=r.cur,o=r.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&Me(n,t.deactivate),r.prev.dropzone=i.dropzone,r.prev.element=i.element}function ze(e,t){var r=e.interaction,n=e.iEvent,i=e.event;if("dragmove"===n.type||"dragend"===n.type){var o=r.dropState;t.dynamicDrop&&(o.activeDrops=Ie(t,r.element));var s=n,a=Ce(r,s,i);o.rejected=o.rejected&&!!a&&a.dropzone===o.cur.dropzone&&a.element===o.cur.element,o.cur.dropzone=a&&a.dropzone,o.cur.element=a&&a.element,o.events=De(r,0,s)}}var Re={id:"actions/drop",install:function(e){var t=e.actions,r=e.interactStatic,n=e.Interactable,i=e.defaults;e.usePlugin(z),n.prototype.dropzone=function(e){return function(e,t){if(S(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var r=oe(t.listeners),n=Object.keys(r).reduce(function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=r[t],e},{}),i=e.options.drop.listeners;i&&e.off(i),e.on(n),e.options.drop.listeners=n}return O(t.ondrop)&&e.on("drop",t.ondrop),O(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),O(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),O(t.ondragenter)&&e.on("dragenter",t.ondragenter),O(t.ondragleave)&&e.on("dragleave",t.ondragleave),O(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:_(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return k(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},n.prototype.dropCheck=function(e,t,r,n,i,o){return function(e,t,r,n,i,o,s){var a=!1;if(!(s=s||e.getRect(o)))return!!e.options.drop.checker&&e.options.drop.checker(t,r,a,e,o,n,i);var l=e.options.drop.overlap;if("pointer"===l){var c=ie(n,i,"drag"),u=fe(t);u.x+=c.x,u.y+=c.y;var p=u.x>s.left&&u.x<s.right,d=u.y>s.top&&u.y<s.bottom;a=p&&d}var h=n.getRect(i);if(h&&"center"===l){var f=h.left+h.width/2,m=h.top+h.height/2;a=f>=s.left&&f<=s.right&&m>=s.top&&m<=s.bottom}return h&&_(l)&&(a=Math.max(0,Math.min(s.right,h.right)-Math.max(s.left,h.left))*Math.max(0,Math.min(s.bottom,h.bottom)-Math.max(s.top,h.top))/(h.width*h.height)>=l),e.options.drop.checker&&(a=e.options.drop.checker(t,r,a,e,o,n,i)),a}(this,e,t,r,n,i,o)},r.dynamicDrop=function(t){return k(t)?(e.dynamicDrop=t,r):e.dynamicDrop},J(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=Re.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var r=e.interaction,n=(e.event,e.iEvent);if("drag"===r.prepared.name){var i=r.dropState;i.activeDrops=[],i.events={},i.activeDrops=Ie(t,r.element),i.events=De(r,0,n),i.events.activate&&(Me(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:r,dragEvent:n}))}},"interactions:action-move":ze,"interactions:after-action-move":function(e,t){var r=e.interaction,n=e.iEvent;if("drag"===r.prepared.name){var i=r.dropState;je(r,i.events),t.fire("actions/drop:move",{interaction:r,dragEvent:n}),i.events={}}},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var r=e.interaction,n=e.iEvent;ze(e,t),je(r,r.dropState.events),t.fire("actions/drop:end",{interaction:r,dragEvent:n})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var r=t.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:Ie,getDrop:Ce,getDropEvents:De,fireDropEvents:je,filterEventType:function(e){return 0===e.search("drag")||0===e.search("drop")},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Le=Re;function Ae(e){var t=e.interaction,r=e.iEvent,n=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map(function(e){return e.pointer}),o="start"===n,s="end"===n,a=t.interactable.options.deltaSource;if(r.touches=[i[0],i[1]],o)r.distance=ye(i,a),r.box=be(i),r.scale=1,r.ds=0,r.angle=xe(i,a),r.da=0,t.gesture.startDistance=r.distance,t.gesture.startAngle=r.angle;else if(s||t.pointers.length<2){var l=t.prevEvent;r.distance=l.distance,r.box=l.box,r.scale=l.scale,r.ds=0,r.angle=l.angle,r.da=0}else r.distance=ye(i,a),r.box=be(i),r.scale=r.distance/t.gesture.startDistance,r.angle=xe(i,a),r.ds=r.scale-t.gesture.scale,r.da=r.angle-t.gesture.angle;t.gesture.distance=r.distance,t.gesture.angle=r.angle,_(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(t.gesture.scale=r.scale)}}var $e={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,r=e.Interactable,n=e.defaults;r.prototype.gesturable=function(e){return S(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):k(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=$e,t.methodDict.gesture="gesturable",n.actions.gesture=$e.defaults},listeners:{"interactions:action-start":Ae,"interactions:action-move":Ae,"interactions:action-end":Ae,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(e){return 0===e.search("gesture")}},He=$e;function We(e,t,r,n,i,o,s){if(!t)return!1;if(!0===t){var a=_(o.width)?o.width:o.right-o.left,l=_(o.height)?o.height:o.bottom-o.top;if(s=Math.min(s,Math.abs(("left"===e||"right"===e?a:l)/2)),a<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var c=a>=0?o.left:o.right;return r.x<c+s}if("top"===e){var u=l>=0?o.top:o.bottom;return r.y<u+s}if("right"===e)return r.x>(a>=0?o.right:o.left)-s;if("bottom"===e)return r.y>(l>=0?o.bottom:o.top)-s}return!!P(n)&&(P(t)?t===n:K(n,t,i))}function Fe(e){var t=e.iEvent,r=e.interaction;if("resize"===r.prepared.name&&r.resizeAxes){var n=t;r.interactable.options.resize.square?("y"===r.resizeAxes?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=r.resizeAxes,"x"===r.resizeAxes?n.delta.y=0:"y"===r.resizeAxes&&(n.delta.x=0))}}var Ye,Ne,Ue={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,r=e.browser,n=e.Interactable,i=e.defaults;Ue.cursors=r.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},Ue.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,n.prototype.resizable=function(t){return r=this,i=e,S(n=t)?(r.options.resize.enabled=!1!==n.enabled,r.setPerAction("resize",n),r.setOnEvents("resize",n),E(n.axis)&&/^x$|^y$|^xy$/.test(n.axis)?r.options.resize.axis=n.axis:null===n.axis&&(r.options.resize.axis=i.defaults.actions.resize.axis),k(n.preserveAspectRatio)?r.options.resize.preserveAspectRatio=n.preserveAspectRatio:k(n.square)&&(r.options.resize.square=n.square),r):k(n)?(r.options.resize.enabled=n,r):r.options.resize;var r,n,i},t.map.resize=Ue,t.methodDict.resize="resizable",i.actions.resize=Ue.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(e){var t=e.iEvent,r=e.interaction;if("resize"===r.prepared.name&&r.prepared.edges){var n=t,i=r.rect;r._rects={start:J({},i),corrected:J({},i),previous:J({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},n.edges=r.prepared.edges,n.rect=r._rects.corrected,n.deltaRect=r._rects.delta}})(e),Fe(e)},"interactions:action-move":function(e){(function(e){var t=e.iEvent,r=e.interaction;if("resize"===r.prepared.name&&r.prepared.edges){var n=t,i=r.interactable.options.resize.invert,o="reposition"===i||"negate"===i,s=r.rect,a=r._rects,l=a.start,c=a.corrected,u=a.delta,p=a.previous;if(J(p,c),o){if(J(c,s),"reposition"===i){if(c.top>c.bottom){var d=c.top;c.top=c.bottom,c.bottom=d}if(c.left>c.right){var h=c.left;c.left=c.right,c.right=h}}}else c.top=Math.min(s.top,l.bottom),c.bottom=Math.max(s.bottom,l.top),c.left=Math.min(s.left,l.right),c.right=Math.max(s.right,l.left);for(var f in c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[f]=c[f]-p[f];n.edges=r.prepared.edges,n.rect=c,n.deltaRect=u}})(e),Fe(e)},"interactions:action-end":function(e){var t=e.iEvent,r=e.interaction;if("resize"===r.prepared.name&&r.prepared.edges){var n=t;n.edges=r.prepared.edges,n.rect=r._rects.corrected,n.deltaRect=r._rects.delta}},"auto-start:check":function(e){var t=e.interaction,r=e.interactable,n=e.element,i=e.rect,o=e.buttons;if(i){var s=J({},t.coords.cur.page),a=r.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||o&a.mouseButtons)){if(S(a.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var c in l)l[c]=We(c,a.edges[c],s,t._latestPointer.eventTarget,n,i,a.margin||Ue.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var u="y"!==a.axis&&s.x>i.right-Ue.defaultMargin,p="x"!==a.axis&&s.y>i.bottom-Ue.defaultMargin;(u||p)&&(e.action={name:"resize",axes:(u?"x":"")+(p?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,r=e.axis,n=e.name,i=Ue.cursors,o=null;if(r)o=i[n+r];else if(t){for(var s="",a=0,l=["top","bottom","left","right"];a<l.length;a++){var c=l[a];t[c]&&(s+=c)}o=i[s]}return o},filterEventType:function(e){return 0===e.search("resize")},defaultMargin:null},Ge=Ue,Ke={id:"actions",install:function(e){e.usePlugin(He),e.usePlugin(Ge),e.usePlugin(z),e.usePlugin(Le)}},Xe=0,Be=function(e){return Ye(e)},Ve=function(e){return Ne(e)},Ze=function(e){if(Ye=e.requestAnimationFrame,Ne=e.cancelAnimationFrame,!Ye)for(var t=["ms","moz","webkit","o"],r=0;r<t.length;r++){var n=t[r];Ye=e["".concat(n,"RequestAnimationFrame")],Ne=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}Ye=Ye&&Ye.bind(e),Ne=Ne&&Ne.bind(e),Ye||(Ye=function(t){var r=Date.now(),n=Math.max(0,16-(r-Xe)),i=e.setTimeout(function(){t(r+n)},n);return Xe=r+n,i},Ne=function(e){return clearTimeout(e)})},qe={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){qe.isScrolling=!0,Ve(qe.i),e.autoScroll=qe,qe.interaction=e,qe.prevTime=qe.now(),qe.i=Be(qe.scroll)},stop:function(){qe.isScrolling=!1,qe.interaction&&(qe.interaction.autoScroll=null),Ve(qe.i)},scroll:function(){var e=qe.interaction,t=e.interactable,r=e.element,n=e.prepared.name,i=t.options[n].autoScroll,o=Je(i.container,t,r),s=qe.now(),a=(s-qe.prevTime)/1e3,l=i.speed*a;if(l>=1){var c={x:qe.x*l,y:qe.y*l};if(c.x||c.y){var u=Qe(o);w(o)?o.scrollBy(c.x,c.y):o&&(o.scrollLeft+=c.x,o.scrollTop+=c.y);var p=Qe(o),d={x:p.x-u.x,y:p.y-u.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:r,interactable:t,delta:d,interaction:e,container:o})}qe.prevTime=s}qe.isScrolling&&(Ve(qe.i),qe.i=Be(qe.scroll))},check:function(e,t){var r;return null==(r=e.options[t].autoScroll)?void 0:r.enabled},onInteractionMove:function(e){var t=e.interaction,r=e.pointer;if(t.interacting()&&qe.check(t.interactable,t.prepared.name))if(t.simulation)qe.x=qe.y=0;else{var n,i,o,s,a=t.interactable,l=t.element,c=t.prepared.name,u=a.options[c].autoScroll,p=Je(u.container,a,l);if(w(p))s=r.clientX<qe.margin,n=r.clientY<qe.margin,i=r.clientX>p.innerWidth-qe.margin,o=r.clientY>p.innerHeight-qe.margin;else{var d=B(p);s=r.clientX<d.left+qe.margin,n=r.clientY<d.top+qe.margin,i=r.clientX>d.right-qe.margin,o=r.clientY>d.bottom-qe.margin}qe.x=i?1:s?-1:0,qe.y=o?1:n?-1:0,qe.isScrolling||(qe.margin=u.margin,qe.speed=u.speed,qe.start(t))}}};function Je(e,t,r){return(E(e)?Q(e,t,r):e)||b(r)}function Qe(e){return w(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var et={id:"auto-scroll",install:function(e){var t=e.defaults,r=e.actions;e.autoScroll=qe,qe.now=function(){return e.now()},r.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=qe.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,qe.stop(),qe.interaction&&(qe.interaction=null)},"interactions:stop":qe.stop,"interactions:action-move":function(e){return qe.onInteractionMove(e)}}};function tt(e,t){var r=!1;return function(){return r||(v.console.warn(t),r=!0),e.apply(this,arguments)}}function rt(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function nt(e){return k(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function it(e){return O(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}var ot={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,r,n,i){var o,s,a,l,c,u,p,d=(s=r,a=n,l=i,c=e,u=(o=this).getRect(l),p={action:null,interactable:o,interaction:a,element:l,rect:u,buttons:s.buttons||{0:1,1:4,3:8,4:16}[s.button]},c.fire("auto-start:check",p),p.action);return this.options.actionChecker?this.options.actionChecker(t,r,d,this,i,n):d},t.prototype.ignoreFrom=tt(function(e){return this._backCompatOption("ignoreFrom",e)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=tt(function(e){return this._backCompatOption("allowFrom",e)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=it,t.prototype.styleCursor=nt}};function st(e,t,r,n,i){return t.testIgnoreAllow(t.options[e.name],r,n)&&t.options[e.name].enabled&&ut(t,r,e,i)?e:null}function at(e,t,r,n,i,o,s){for(var a=0,l=n.length;a<l;a++){var c=n[a],u=i[a],p=c.getAction(t,r,e,u);if(p){var d=st(p,c,u,o,s);if(d)return{action:d,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function lt(e,t,r,n,i){var o=[],s=[],a=n;function l(e){o.push(e),s.push(a)}for(;P(a);){o=[],s=[],i.interactables.forEachMatch(a,l);var c=at(e,t,r,o,s,n,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=Y(a)}return{action:null,interactable:null,element:null}}function ct(e,t,r){var n=t.action,i=t.interactable,o=t.element;n=n||{name:null},e.interactable=i,e.element=o,rt(e.prepared,n),e.rect=i&&n.name?i.getRect(o):null,ht(e,r),r.fire("autoStart:prepared",{interaction:e})}function ut(e,t,r,n){var i=e.options,o=i[r.name].max,s=i[r.name].maxPerElement,a=n.autoStart.maxInteractions,l=0,c=0,u=0;if(!(o&&s&&a))return!1;for(var p=0,d=n.interactions.list;p<d.length;p++){var h=d[p],f=h.prepared.name;if(h.interacting()&&(++l>=a||h.interactable===e&&((c+=f===r.name?1:0)>=o||h.element===t&&(u++,f===r.name&&u>=s))))return!1}return a>0}function pt(e,t){return _(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function dt(e,t,r){var n=r.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,r.autoStart.cursorElement=t?e:null}function ht(e,t){var r=e.interactable,n=e.element,i=e.prepared;if("mouse"===e.pointerType&&r&&r.options.styleCursor){var o="";if(i.name){var s=r.options[i.name].cursorChecker;o=O(s)?s(i,r,n,e._interacting):t.actions.map[i.name].getCursor(i)}dt(e.element,o||"",t)}else t.autoStart.cursorElement&&dt(t.autoStart.cursorElement,"",t)}var ft={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,r=e.defaults;e.usePlugin(ot),r.base.actionChecker=null,r.base.styleCursor=!0,J(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return pt(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:ut,cursorElement:null}},listeners:{"interactions:down":function(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget;r.interacting()||ct(r,lt(r,n,i,o,t),t)},"interactions:move":function(e,t){var r,n,i,o,s,a;n=t,i=(r=e).interaction,o=r.pointer,s=r.event,a=r.eventTarget,"mouse"!==i.pointerType||i.pointerIsDown||i.interacting()||ct(i,lt(i,o,s,a,n),n),function(e,t){var r=e.interaction;if(r.pointerIsDown&&!r.interacting()&&r.pointerWasMoved&&r.prepared.name){t.fire("autoStart:before-start",e);var n=r.interactable,i=r.prepared.name;i&&n&&(n.options[i].manualStart||!ut(n,r.element,r.prepared,t)?r.stop():(r.start(r.prepared,n,r.element),ht(r,t)))}}(e,t)},"interactions:stop":function(e,t){var r=e.interaction,n=r.interactable;n&&n.options.styleCursor&&dt(r.element,"",t)}},maxInteractions:pt,withinInteractionLimit:ut,validateAction:st},mt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var r=e.interaction,n=e.eventTarget,i=e.dx,o=e.dy;if("drag"===r.prepared.name){var s=Math.abs(i),a=Math.abs(o),l=r.interactable.options.drag,c=l.startAxis,u=s>a?"x":s<a?"y":"xy";if(r.prepared.axis="start"===l.lockAxis?u[0]:l.lockAxis,"xy"!==u&&"xy"!==c&&c!==u){r.prepared.name=null;for(var p=n,d=function(e){if(e!==r.interactable){var i=r.interactable.options.drag;if(!i.manualStart&&e.testIgnoreAllow(i,p,n)){var o=e.getAction(r.downPointer,r.downEvent,r,p);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var r=t.options.drag.startAxis;return"xy"===e||"xy"===r||r===e}(u,e)&&ft.validateAction(o,e,p,n,t))return e}}};P(p);){var h=t.interactables.forEachMatch(p,d);if(h){r.prepared.name="drag",r.interactable=h,r.element=p;break}p=Y(p)}}}}}};function vt(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var r=e.interactable.options;return r[t].hold||r[t].delay}var gt={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(ft),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,r=vt(t);r>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},r))},"interactions:move":function(e){var t=e.interaction,r=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!r&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;vt(t)>0&&(t.prepared.name=null)}},getHoldDuration:vt},bt={id:"auto-start",install:function(e){e.usePlugin(ft),e.usePlugin(gt),e.usePlugin(mt)}},yt=function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):k(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault};function xt(e){var t=e.interaction,r=e.event;t.interactable&&t.interactable.checkAndPreventDefault(r)}var wt={id:"core/interactablePreventDefault",install:function(e){var t=e.Interactable;t.prototype.preventDefault=yt,t.prototype.checkAndPreventDefault=function(t){return function(e,t,r){var n=e.options.preventDefault;if("never"!==n)if("always"!==n){if(t.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var i=b(r.target).document,o=t.getDocOptions(i);if(!o||!o.events||!1!==o.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||P(r.target)&&N(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,e,t)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var r=0,n=e.interactions.list;r<n.length;r++){var i=n[r];if(i.element&&(i.element===t.target||W(i.element,t.target)))return void i.interactable.checkAndPreventDefault(t)}}})},listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=xt,e},{})};function Tt(e,t){if(t.phaselessTypes[e])return!0;for(var r in t.map)if(0===e.indexOf(r)&&e.substr(r.length)in t.phases)return!0;return!1}function St(e){var t={};for(var r in e){var n=e[r];M(n)?t[r]=St(n):I(n)?t[r]=_e(n):t[r]=n}return t}var Ot=function(){function e(t){n(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=_t(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return i(e,[{key:"start",value:function(e,t){var r,n,i,o,s,a=e.phase,l=this.interaction,c=(s=(o=(i=l).interactable.options[i.prepared.name]).modifiers)&&s.length?s:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(e){var t=o[e];return t&&t.enabled&&{options:t,methods:t._methods}}).filter(function(e){return!!e});this.prepareStates(c),this.startEdges=J({},l.edges),this.edges=J({},this.startEdges),this.startOffset=(n=t,(r=l.rect)?{left:n.x-r.left,top:n.y-r.top,right:r.right-n.x,bottom:r.bottom-n.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var u=this.fillArg({phase:a,pageCoords:t,preEnd:!1});return this.result=_t(),this.startAll(u),this.result=this.setAll(u)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect||(e.rect=t.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0,r=this.states;t<r.length;t++){var n=r[t];n.methods.start&&(e.state=n,n.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,r=e.preEnd,n=e.skipModifiers,i=e.rect,o=e.edges;e.coords=J({},e.pageCoords),e.rect=J({},i),e.edges=J({},o);for(var s=n?this.states.slice(n):this.states,a=_t(e.coords,e.rect),l=0;l<s.length;l++){var c,u=s[l],p=u.options,d=J({},e.coords),h=null;null!=(c=u.methods)&&c.set&&this.shouldDo(p,r,t)&&(e.state=u,h=u.methods.set(e),ne(e.edges,e.rect,{x:e.coords.x-d.x,y:e.coords.y-d.y})),a.eventProps.push(h)}J(this.edges,e.edges),a.delta.x=e.coords.x-e.pageCoords.x,a.delta.y=e.coords.y-e.pageCoords.y,a.rectDelta.left=e.rect.left-i.left,a.rectDelta.right=e.rect.right-i.right,a.rectDelta.top=e.rect.top-i.top,a.rectDelta.bottom=e.rect.bottom-i.bottom;var f=this.result.coords,m=this.result.rect;if(f&&m){var v=a.rect.left!==m.left||a.rect.right!==m.right||a.rect.top!==m.top||a.rect.bottom!==m.bottom;a.changed=v||f.x!==a.coords.x||f.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(e){var t=this.interaction,r=e.phase,n=t.coords.cur,i=t.coords.start,o=this.result,s=this.startDelta,a=o.delta;"start"===r&&J(this.startDelta,o.delta);for(var l=0,c=[[i,s],[n,a]];l<c.length;l++){var u=c[l],p=u[0],d=u[1];p.page.x+=d.x,p.page.y+=d.y,p.client.x+=d.x,p.client.y+=d.y}var h=this.result.rectDelta,f=e.rect||t.rect;f.left+=h.left,f.right+=h.right,f.top+=h.top,f.bottom+=h.bottom,f.width=f.right-f.left,f.height=f.bottom-f.top}},{key:"setAndApply",value:function(e){var t=this.interaction,r=e.phase,n=e.preEnd,i=e.skipModifiers,o=this.setAll(this.fillArg({preEnd:n,phase:r,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var s=t.coords.cur.page,a={x:e.modifiedCoords.x-s.x,y:e.modifiedCoords.y-s.y};o.coords.x+=a.x,o.coords.y+=a.y,o.delta.x+=a.x,o.delta.y+=a.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,r=e.event,n=this.states;if(n&&n.length){for(var i=!1,o=0;o<n.length;o++){var s=n[o];e.state=s;var a=s.options,l=s.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;i=i||!i&&this.shouldDo(a,!0,e.phase,!0)}i&&t.move({event:r,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var r=J({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(r);for(var n=0,i=this.states;n<i.length;n++){var o=i[n];r.state=o,o.methods.stop&&o.methods.stop(r)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var r=e[t],n=r.options,i=r.methods,o=r.name;this.states.push({options:n,methods:i,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,r=t.coords,n=t.rect,i=t.modification;if(i.result){for(var o=i.startDelta,s=i.result,a=s.delta,l=s.rectDelta,c=0,u=[[r.start,o],[r.cur,a]];c<u.length;c++){var p=u[c],d=p[0],h=p[1];d.page.x-=h.x,d.page.y-=h.y,d.client.x-=h.x,d.client.y-=h.y}n.left-=l.left,n.right-=l.right,n.top-=l.top,n.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,r,n){return!(!e||!1===e.enabled||n&&!e.endOnly||e.endOnly&&!t||"start"===r&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(e){return St(e)}),this.result=_t(J({},e.result.coords),J({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),e}();function _t(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function kt(e,t){var r=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(e){var i=e||{};for(var o in i.enabled=!1!==i.enabled,r)o in i||(i[o]=r[o]);var s={options:i,methods:n,name:t,enable:function(){return i.enabled=!0,s},disable:function(){return i.enabled=!1,s}};return s};return t&&"string"==typeof t&&(i._defaults=r,i._methods=n),i}function Et(e){var t=e.iEvent,r=e.interaction.modification.result;r&&(t.modifiers=r.eventProps)}var Pt={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Ot(t)},"interactions:before-action-start":function(e){var t=e.interaction,r=e.interaction.modification;r.start(e,t.coords.start.page),t.edges=r.edges,r.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,r=t.modification,n=r.setAndApply(e);return t.edges=r.edges,n},"interactions:before-action-end":function(e){var t=e.interaction,r=t.modification,n=r.beforeEnd(e);return t.edges=r.startEdges,n},"interactions:action-start":Et,"interactions:action-move":Et,"interactions:action-end":Et,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Mt={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},It=function(e){s(r,e);var t=u(r);function r(e,i,o,s,a,l,u){var p;n(this,r),(p=t.call(this,e)).relatedTarget=null,p.screenX=void 0,p.screenY=void 0,p.button=void 0,p.buttons=void 0,p.ctrlKey=void 0,p.shiftKey=void 0,p.altKey=void 0,p.metaKey=void 0,p.page=void 0,p.client=void 0,p.delta=void 0,p.rect=void 0,p.x0=void 0,p.y0=void 0,p.t0=void 0,p.dt=void 0,p.duration=void 0,p.clientX0=void 0,p.clientY0=void 0,p.velocity=void 0,p.speed=void 0,p.swipe=void 0,p.axes=void 0,p.preEnd=void 0,a=a||e.element;var d=e.interactable,h=(d&&d.options||Mt).deltaSource,f=ie(d,a,o),m="start"===s,v="end"===s,g=m?c(p):e.prevEvent,b=m?e.coords.start:v?{page:g.page,client:g.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return p.page=J({},b.page),p.client=J({},b.client),p.rect=J({},e.rect),p.timeStamp=b.timeStamp,v||(p.page.x-=f.x,p.page.y-=f.y,p.client.x-=f.x,p.client.y-=f.y),p.ctrlKey=i.ctrlKey,p.altKey=i.altKey,p.shiftKey=i.shiftKey,p.metaKey=i.metaKey,p.button=i.button,p.buttons=i.buttons,p.target=a,p.currentTarget=a,p.preEnd=l,p.type=u||o+(s||""),p.interactable=d,p.t0=m?e.pointers[e.pointers.length-1].downTime:g.t0,p.x0=e.coords.start.page.x-f.x,p.y0=e.coords.start.page.y-f.y,p.clientX0=e.coords.start.client.x-f.x,p.clientY0=e.coords.start.client.y-f.y,p.delta=m||v?{x:0,y:0}:{x:p[h].x-g[h].x,y:p[h].y-g[h].y},p.dt=e.coords.delta.timeStamp,p.duration=p.timeStamp-p.t0,p.velocity=J({},e.coords.velocity[h]),p.speed=ae(p.velocity.x,p.velocity.y),p.swipe=v||"inertiastart"===s?p.getSwipe():null,p}return i(r,[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var r=112.5<=t&&t<247.5,n=202.5<=t&&t<337.5;return{up:n,down:!n&&22.5<=t&&t<157.5,left:r,right:!r&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),r}(Se);Object.defineProperties(It.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Ct,Dt=i(function e(t,r,i,o,s){n(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=r,this.event=i,this.downTime=o,this.downTarget=s}),jt=((Ct={}).interactable="",Ct.element="",Ct.prepared="",Ct.pointerIsDown="",Ct.pointerWasMoved="",Ct._proxy="",Ct),zt=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),Rt=0,Lt=function(){function e(t){var r=this,i=t.pointerType,o=t.scopeFire;n(this,e),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=tt(function(e){this.move(e)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Rt++,this._scopeFire=o,this.pointerType=i;var s=this;this._proxy={};var a=function(e){Object.defineProperty(r._proxy,e,{get:function(){return s[e]}})};for(var l in jt)a(l);var c=function(e){Object.defineProperty(r._proxy,e,{value:function(){return s[e].apply(s,arguments)}})};for(var u in zt)c(u);this._scopeFire("interactions:new",{interaction:this})}return i(e,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,r){var n=this.updatePointer(e,t,r,!0),i=this.pointers[n];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:r,pointerIndex:n,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(e,t,r){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&(rt(this.prepared,e),this.interactable=t,this.element=r,this.rect=t.getRect(r),this.edges=this.prepared.edges?J({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,r){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,r,!1);var n,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(n=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ae(n,i)>this.pointerMoveTolerance);var s,a,l,c=this.getPointerIndex(e),u={pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:t,type:"move",eventTarget:r,dx:n,dy:i,duplicate:o,interaction:this};o||(s=this.coords.velocity,a=this.coords.delta,l=Math.max(a.timeStamp/1e3,.001),s.page.x=a.page.x/l,s.page.y=a.page.y/l,s.client.x=a.client.x/l,s.client.y=a.client.y/l,s.timeStamp=l),this._scopeFire("interactions:move",u),o||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&ue(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||pe(this.coords.delta),(e=J({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,r,n){var i=this.getPointerIndex(e);-1===i&&(i=this.updatePointer(e,t,r,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:i,pointerInfo:this.pointers[i],event:t,eventTarget:r,type:o,curEventTarget:n,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=me(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:ke(this.pointers,function(e){return e.id===t})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,r,n){var i,o,s,a=me(e),l=this.getPointerIndex(e),c=this.pointers[l];return n=!1!==n&&(n||/(down|start)$/i.test(t.type)),c?c.pointer=e:(c=new Dt(a,e,t,null,null),l=this.pointers.length,this.pointers.push(c)),function(e,t,r){var n,i,o=t.length>1?ge(t):t[0];fe(o,e.page),n=o,i=(i=e.client)||{},H.isOperaMobile&&de(n)?he("screen",n,i):he("client",n,i),e.timeStamp=r}(this.coords.cur,this.pointers.map(function(e){return e.pointer}),this._now()),i=this.coords.delta,o=this.coords.prev,s=this.coords.cur,i.page.x=s.page.x-o.page.x,i.page.y=s.page.y-o.page.y,i.client.x=s.client.x-o.client.x,i.client.y=s.client.y-o.client.y,i.timeStamp=s.timeStamp-o.timeStamp,n&&(this.pointerIsDown=!0,c.downTime=this.coords.cur.timeStamp,c.downTarget=r,ce(this.downPointer,e),this.interacting()||(ue(this.coords.start,this.coords.cur),ue(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,r),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:r,down:n,pointerInfo:c,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(e,t){var r=this.getPointerIndex(e);if(-1!==r){var n=this.pointers[r];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:r,pointerInfo:n,interaction:this}),this.pointers.splice(r,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,r){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=r}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,r,n){return new It(this,e,this.prepared.name,t,this.element,r,n)}},{key:"_fireEvent",value:function(e){var t;null==(t=this.interactable)||t.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,r=e.phase,n=e.preEnd,i=e.type,o=this.rect;if(o&&"move"===r&&(ne(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(r),e))return!1;var s=e.iEvent=this._createPreparedEvent(t,r,n,i);return this._scopeFire("interactions:action-".concat(r),e),"start"===r&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire("interactions:after-action-".concat(r),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();function At(e){$t(e.interaction)}function $t(e){if(!(t=e).offset.pending.x&&!t.offset.pending.y)return!1;var t,r=e.offset.pending;return Wt(e.coords.cur,r),Wt(e.coords.delta,r),ne(e.edges,e.rect,r),r.x=0,r.y=0,!0}function Ht(e){var t=e.x,r=e.y;this.offset.pending.x+=t,this.offset.pending.y+=r,this.offset.total.x+=t,this.offset.total.y+=r}function Wt(e,t){var r=e.page,n=e.client,i=t.x,o=t.y;r.x+=i,r.y+=o,n.x+=i,n.y+=o}zt.offsetBy="";var Ft={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Ht},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){var t;(t=e.interaction).pointerIsDown&&(Wt(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)},"interactions:before-action-start":At,"interactions:before-action-move":At,"interactions:before-action-end":function(e){var t=e.interaction;if($t(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Yt=function(){function e(t){n(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return i(e,[{key:"start",value:function(e){var t=this.interaction,r=Nt(t);if(!r||!r.enabled)return!1;var n=t.coords.velocity.client,i=ae(n.x,n.y),o=this.modification||(this.modification=new Ot(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=r.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&i>r.minSpeed&&i>r.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,r=Nt(this.interaction),n=r.resistance,i=-Math.log(r.endSpeed/this.v0)/n;this.targetOffset={x:(t.x-i)/n,y:(t.y-i)/n},this.te=i,this.lambda_v0=n/this.v0,this.one_ve_v0=1-r.endSpeed/this.v0;var o=this.modification,s=this.modifierArg;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(s),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=Be(function(){t.active&&e()})}},{key:"inertiaTick",value:function(){var e,t,r,n,i,o=this,s=this.interaction,a=Nt(s).resistance,l=(s._now()-this.t0)/1e3;if(l<this.te){var c,u=1-(Math.exp(-a*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=this.targetOffset.x,t=this.targetOffset.y,r=this.modifiedOffset.x,n=this.modifiedOffset.y,c={x:Ut(i=u,0,e,r),y:Ut(i,0,t,n)}):c={x:this.targetOffset.x*u,y:this.targetOffset.y*u};var p={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=p.x,this.currentOffset.y+=p.y,s.offsetBy(p),s.move(),this.onNextFrame(function(){return o.inertiaTick()})}else s.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,r=t._now()-this.t0,n=Nt(t).smoothEndDuration;if(r<n){var i={x:Gt(r,0,this.targetOffset.x,n),y:Gt(r,0,this.targetOffset.y,n)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,r=e.event,n=e.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,r,n,!0),i._doPhase({interaction:i,event:r,phase:"resume"}),ue(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ve(this.timeout)}}]),e}();function Nt(e){var t=e.interactable,r=e.prepared;return t&&t.options&&r.name&&t.options[r.name].inertia}function Ut(e,t,r,n){var i=1-e;return i*i*t+2*i*e*r+e*e*n}function Gt(e,t,r,n){return-r*(e/=n)*(e-2)+t}var Kt={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Ft),e.usePlugin(Pt),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Yt(t)},"interactions:before-action-end":function(e){var t=e.interaction,r=e.event;return(!t._interacting||t.simulation||!t.inertia.start(r))&&null},"interactions:down":function(e){var t=e.interaction,r=e.eventTarget,n=t.inertia;if(n.active)for(var i=r;P(i);){if(i===t.element){n.resume(e);break}i=Y(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Et,"interactions:action-inertiastart":Et,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e.immediatePropagationStopped)break;n(e)}}var Bt=function(){function e(t){n(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=J({},t||{})}return i(e,[{key:"fire",value:function(e){var t,r=this.global;(t=this.types[e.type])&&Xt(e,t),!e.propagationStopped&&r&&(t=r[e.type])&&Xt(e,t)}},{key:"on",value:function(e,t){var r=oe(e,t);for(e in r)this.types[e]=Oe(this.types[e]||[],r[e])}},{key:"off",value:function(e,t){var r=oe(e,t);for(e in r){var n=this.types[e];if(n&&n.length)for(var i=0,o=r[e];i<o.length;i++){var s=o[i],a=n.indexOf(s);-1!==a&&n.splice(a,1)}}}},{key:"getRect",value:function(e){return null}}]),e}(),Vt=function(){function e(t){n(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,ce(this,t)}return i(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();function Zt(e){return S(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function qt(e,t){return e===t||("boolean"==typeof e?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive)}var Jt={id:"events",install:function(e){var t,r=[],n={},i=[],o={add:s,remove:a,addDelegate:function(e,t,r,o,a){var u=Zt(a);if(!n[r]){n[r]=[];for(var p=0;p<i.length;p++){var d=i[p];s(d,r,l),s(d,r,c,!0)}}var h=n[r],f=Ee(h,function(r){return r.selector===e&&r.context===t});f||(f={selector:e,context:t,listeners:[]},h.push(f)),f.listeners.push({func:o,options:u})},removeDelegate:function(e,t,r,i,o){var s,u=Zt(o),p=n[r],d=!1;if(p)for(s=p.length-1;s>=0;s--){var h=p[s];if(h.selector===e&&h.context===t){for(var f=h.listeners,m=f.length-1;m>=0;m--){var v=f[m];if(v.func===i&&qt(v.options,u)){f.splice(m,1),f.length||(p.splice(s,1),a(t,r,l),a(t,r,c,!0)),d=!0;break}}if(d)break}}},delegateListener:l,delegateUseCapture:c,delegatedEvents:n,documents:i,targets:r,supportsOptions:!1,supportsPassive:!1};function s(e,t,n,i){if(e.addEventListener){var s=Zt(i),a=Ee(r,function(t){return t.eventTarget===e});a||(a={eventTarget:e,events:{}},r.push(a)),a.events[t]||(a.events[t]=[]),Ee(a.events[t],function(e){return e.func===n&&qt(e.options,s)})||(e.addEventListener(t,n,o.supportsOptions?s:s.capture),a.events[t].push({func:n,options:s}))}}function a(e,t,n,i){if(e.addEventListener&&e.removeEventListener){var s=ke(r,function(t){return t.eventTarget===e}),l=r[s];if(l&&l.events)if("all"!==t){var c=!1,u=l.events[t];if(u){if("all"===n){for(var p=u.length-1;p>=0;p--){var d=u[p];a(e,t,d.func,d.options)}return}for(var h=Zt(i),f=0;f<u.length;f++){var m=u[f];if(m.func===n&&qt(m.options,h)){e.removeEventListener(t,n,o.supportsOptions?h:h.capture),u.splice(f,1),0===u.length&&(delete l.events[t],c=!0);break}}}c&&!Object.keys(l.events).length&&r.splice(s,1)}else for(t in l.events)l.events.hasOwnProperty(t)&&a(e,t,"all")}}function l(e,t){for(var r=Zt(t),i=new Vt(e),o=n[e.type],s=Te(e)[0],a=s;P(a);){for(var l=0;l<o.length;l++){var c=o[l],u=c.selector,p=c.context;if(N(a,u)&&W(p,s)&&W(p,a)){var d=c.listeners;i.currentTarget=a;for(var h=0;h<d.length;h++){var f=d[h];qt(f.options,r)&&f.func(i)}}}a=Y(a)}}function c(e){return l(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),e.events=o,o}},Qt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0,r=Qt.methodOrder;t<r.length;t++){var n=r[t],i=Qt[n](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,r=e.eventType,n=e.eventTarget,i=e.scope;if(!/down|start/i.test(r))return null;for(var o=0,s=i.interactions.list;o<s.length;o++){var a=s[o],l=n;if(a.simulation&&a.simulation.allowResume&&a.pointerType===t)for(;l;){if(l===a.element)return a;l=Y(l)}}return null},mouseOrPen:function(e){var t,r=e.pointerId,n=e.pointerType,i=e.eventType,o=e.scope;if("mouse"!==n&&"pen"!==n)return null;for(var s=0,a=o.interactions.list;s<a.length;s++){var l=a[s];if(l.pointerType===n){if(l.simulation&&!er(l,r))continue;if(l.interacting())return l;t||(t=l)}}if(t)return t;for(var c=0,u=o.interactions.list;c<u.length;c++){var p=u[c];if(!(p.pointerType!==n||/down/i.test(i)&&p.simulation))return p}return null},hasPointer:function(e){for(var t=e.pointerId,r=0,n=e.scope.interactions.list;r<n.length;r++){var i=n[r];if(er(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,r=0,n=e.scope.interactions.list;r<n.length;r++){var i=n[r];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function er(e,t){return e.pointers.some(function(e){return e.id===t})}var tr=Qt,rr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function nr(e,t){return function(r){var n=t.interactions.list,i=we(r),o=Te(r),s=o[0],a=o[1],l=[];if(/^touch/.test(r.type)){t.prevTouchTime=t.now();for(var c=0,u=r.changedTouches;c<u.length;c++){var p=u[c],d={pointer:p,pointerId:me(p),pointerType:i,eventType:r.type,eventTarget:s,curEventTarget:a,scope:t},h=ir(d);l.push([d.pointer,d.eventTarget,d.curEventTarget,h])}}else{var f=!1;if(!H.supportsPointerEvent&&/mouse/.test(r.type)){for(var m=0;m<n.length&&!f;m++)f="mouse"!==n[m].pointerType&&n[m].pointerIsDown;f=f||t.now()-t.prevTouchTime<500||0===r.timeStamp}if(!f){var v={pointer:r,pointerId:me(r),pointerType:i,eventType:r.type,curEventTarget:a,eventTarget:s,scope:t},g=ir(v);l.push([v.pointer,v.eventTarget,v.curEventTarget,g])}}for(var b=0;b<l.length;b++){var y=l[b],x=y[0],w=y[1],T=y[2];y[3][e](x,r,w,T)}}}function ir(e){var t=e.pointerType,r=e.scope,n={interaction:tr.search(e),searchDetails:e};return r.fire("interactions:find",n),n.interaction||r.interactions.new({pointerType:t})}function or(e,t){var r=e.doc,n=e.scope,i=e.options,o=n.interactions.docEvents,s=n.events,a=s[t];for(var l in n.browser.isIOS&&!i.events&&(i.events={passive:!1}),s.delegatedEvents)a(r,l,s.delegateListener),a(r,l,s.delegateUseCapture,!0);for(var c=i&&i.events,u=0;u<o.length;u++){var p=o[u];a(r,p.type,p.listener,c)}}var sr={id:"core/interactions",install:function(e){for(var t={},r=0;r<rr.length;r++){var o=rr[r];t[o]=nr(o,e)}var a,l=H.pEventTypes;function c(){for(var t=0,r=e.interactions.list;t<r.length;t++){var n=r[t];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var i=function(){var t=s[o];e.documents.some(function(e){return W(e.doc,t.downTarget)})||n.removePointer(t.pointer,t.event)},o=0,s=n.pointers;o<s.length;o++)i()}}(a=A.PointerEvent?[{type:l.down,listener:c},{type:l.down,listener:t.pointerDown},{type:l.move,listener:t.pointerMove},{type:l.up,listener:t.pointerUp},{type:l.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var r=0,n=e.interactions.list;r<n.length;r++)n[r].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){s(o,t);var r=u(o);function o(){return n(this,o),r.apply(this,arguments)}return i(o,[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}]),o}(Lt),e.interactions={list:[],new:function(t){t.scopeFire=function(t,r){return e.fire(t,r)};var r=new e.Interaction(t);return e.interactions.list.push(r),r},listeners:t,docEvents:a,pointerMoveTolerance:1},e.usePlugin(wt)},listeners:{"scope:add-document":function(e){return or(e,"add")},"scope:remove-document":function(e){return or(e,"remove")},"interactable:unset":function(e,t){for(var r=e.interactable,n=t.interactions.list.length-1;n>=0;n--){var i=t.interactions.list[n];i.interactable===r&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:or,doOnInteractions:nr,methodNames:rr},ar=sr,lr=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(lr||{}),cr=function(){function e(t,r,i,o){n(this,e),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Bt,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=r.actions,this.target=t,this._context=r.context||i,this._win=b(q(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(r)}return i(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return O(t.onstart)&&this.on("".concat(e,"start"),t.onstart),O(t.onmove)&&this.on("".concat(e,"move"),t.onmove),O(t.onend)&&this.on("".concat(e,"end"),t.onend),O(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,r){var n,i=this,o=null==(n=this._actions.map[e])?void 0:n.filterEventType,s=function(e){return(null==o||o(e))&&Tt(e,i._actions)};(I(t)||S(t))&&this._onOff(lr.Off,e,t,void 0,s),(I(r)||S(r))&&this._onOff(lr.On,e,r,void 0,s)}},{key:"setPerAction",value:function(e,t){var r=this._defaults;for(var n in t){var i=n,o=this.options[e],s=t[i];"listeners"===i&&this.updatePerActionListeners(e,o.listeners,s),I(s)?o[i]=_e(s):M(s)?(o[i]=J(o[i]||{},St(s)),S(r.perAction[i])&&"enabled"in r.perAction[i]&&(o[i].enabled=!1!==s.enabled)):k(s)&&S(r.perAction[i])?o[i].enabled=s:o[i]=s}}},{key:"getRect",value:function(e){return e=e||(P(this.target)?this.target:null),E(this.target)&&(e=e||this._context.querySelector(this.target)),V(e)}},{key:"rectChecker",value:function(e){var t=this;return O(e)?(this.getRect=function(r){var n=J({},e.apply(t,r));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===e?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if(q(t)||S(t)){for(var r in this.options[e]=t,this._actions.map)this.options[r][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return E(e)?Array.from(this._context.querySelectorAll(e)):O(e)&&e.getAllElements?e.getAllElements():P(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||W(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,r){return!this.testIgnore(e.ignoreFrom,t,r)&&this.testAllow(e.allowFrom,t,r)}},{key:"testAllow",value:function(e,t,r){return!e||!!P(r)&&(E(e)?K(r,e,t):!!P(e)&&W(e,r))}},{key:"testIgnore",value:function(e,t,r){return!(!e||!P(r))&&(E(e)?K(r,e,t):!!P(e)&&W(e,r))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,r,n,i){S(t)&&!I(t)&&(n=r,r=null);var o=oe(t,r,i);for(var s in o){"wheel"===s&&(s=H.wheelEvent);for(var a=0,l=o[s];a<l.length;a++){var c=l[a];Tt(s,this._actions)?this.events[e===lr.On?"on":"off"](s,c):E(this.target)?this._scopeEvents[e===lr.On?"addDelegate":"removeDelegate"](this.target,this._context,s,c,n):this._scopeEvents[e===lr.On?"add":"remove"](this.target,s,c,n)}}return this}},{key:"on",value:function(e,t,r){return this._onOff(lr.On,e,t,r)}},{key:"off",value:function(e,t,r){return this._onOff(lr.Off,e,t,r)}},{key:"set",value:function(e){var t=this._defaults;for(var r in S(e)||(e={}),this.options=St(t.base),this._actions.methodDict){var n=r,i=this._actions.methodDict[n];this.options[n]={},this.setPerAction(n,J(J({},t.perAction),t.actions[n])),this[i](e[n])}for(var o in e)"getRect"!==o?O(this[o])&&this[o](e[o]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(E(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],r=t.length-1;r>=0;r--){var n=t[r],i=n.selector,o=n.context,s=n.listeners;i===this.target&&o===this._context&&t.splice(r,1);for(var a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[a][0],s[a][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}(),ur=function(){function e(t){var r=this;n(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,n=t.target,i=E(n)?r.selectorMap[n]:n[r.scope.id],o=ke(i,function(e){return e===t});i.splice(o,1)}})}return i(e,[{key:"new",value:function(e,t){t=J(t||{},{actions:this.scope.actions});var r=new this.scope.Interactable(e,t,this.scope.document,this.scope.events);return this.scope.addDocument(r._doc),this.list.push(r),E(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(r)):(r.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:e,options:t,interactable:r,win:this.scope._win}),r}},{key:"getExisting",value:function(e,t){var r=t&&t.context||this.scope.document,n=E(e),i=n?this.selectorMap[e]:e[this.scope.id];if(i)return Ee(i,function(t){return t._context===r&&(n||t.inContext(e))})}},{key:"forEachMatch",value:function(e,t){for(var r=0,n=this.list;r<n.length;r++){var i=n[r],o=void 0;if((E(i.target)?P(e)&&N(e,i.target):e===i.target)&&i.inContext(e)&&(o=t(i)),void 0!==o)return o}}}]),e}(),pr=function(){function e(){var t,r,o=this;n(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=H,this.defaults=St(Mt),this.Eventable=Bt,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(t=this,(r=function e(r,n){var i=t.interactables.getExisting(r,n);return i||((i=t.interactables.new(r,n)).events.global=e.globalEvents),i}).getPointerAverage=ge,r.getTouchBBox=be,r.getTouchDistance=ye,r.getTouchAngle=xe,r.getElementRect=V,r.getElementClientRect=B,r.matchesSelector=N,r.closest=F,r.globalEvents={},r.version="1.10.27",r.scope=t,r.use=function(e,t){return this.scope.usePlugin(e,t),this},r.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},r.on=tt(function(e,t,r){if(E(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),I(e)){for(var n=0,i=e;n<i.length;n++){var o=i[n];this.on(o,t,r)}return this}if(S(e)){for(var s in e)this.on(s,e[s],t);return this}return Tt(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:r}),this},"The interact.on() method is being deprecated"),r.off=tt(function(e,t,r){if(E(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),I(e)){for(var n=0,i=e;n<i.length;n++){var o=i[n];this.off(o,t,r)}return this}if(S(e)){for(var s in e)this.off(s,e[s],t);return this}var a;return Tt(e,this.scope.actions)?e in this.globalEvents&&-1!==(a=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(a,1):this.scope.events.remove(this.scope.document,e,t,r),this},"The interact.off() method is being deprecated"),r.debug=function(){return this.scope},r.supportsTouch=function(){return H.supportsTouch},r.supportsPointerEvent=function(){return H.supportsPointerEvent},r.stop=function(){for(var e=0,t=this.scope.interactions.list;e<t.length;e++)t[e].stop();return this},r.pointerMoveTolerance=function(e){return _(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},r.addDocument=function(e,t){this.scope.addDocument(e,t)},r.removeDocument=function(e){this.scope.removeDocument(e)},r),this.InteractEvent=It,this.Interactable=void 0,this.interactables=new ur(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return o.removeDocument(e.target)};var l=this;this.Interactable=function(e){s(r,e);var t=u(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"_defaults",get:function(){return l.defaults}},{key:"set",value:function(e){return p(a(r.prototype),"set",this).call(this,e),l.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){p(a(r.prototype),"unset",this).call(this);var e=l.interactables.list.indexOf(this);e<0||(l.interactables.list.splice(e,1),l.fire("interactable:unset",{interactable:this}))}}]),r}(cr)}return i(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var r=0,n=this.listenerMaps;r<n.length;r++){var i=n[r].map[e];if(i&&!1===i(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:(r=e,(t=this).isInitialized=!0,w(r)&&g(r),A.init(r),H.init(r),Ze(r),t.window=r,t.document=r.document,t.usePlugin(ar),t.usePlugin(Jt),t);var t,r}},{key:"pluginIsInstalled",value:function(e){var t=e.id;return t?!!this._plugins.map[t]:-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var r=0,n=this.listenerMaps.length,i=e.before.reduce(function(e,t){return e[t]=!0,e[dr(t)]=!0,e},{});r<n;r++){var o=this.listenerMaps[r].id;if(o&&(i[o]||i[dr(o)]))break}this.listenerMaps.splice(r,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,t){if(-1!==this.getDocIndex(e))return!1;var r=b(e);t=t?J({},t):{},this.documents.push({doc:e,options:t}),this.events.documents.push(e),e!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:r,scope:this,options:t})}},{key:"removeDocument",value:function(e){var t=this.getDocIndex(e),r=b(e),n=this.documents[t].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(t,1),this.events.documents.splice(t,1),this.fire("scope:remove-document",{doc:e,window:r,scope:this,options:n})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function dr(e){return e&&e.replace(/\/.*$/,"")}var hr=new pr,fr=hr.interactStatic,mr=typeof globalThis<"u"?globalThis:window;hr.init(mr);var vr=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(t){var r=t[0],n=t[1];return r in e||n in e}),r=function(r,n){for(var i=e.range,o=e.limits,s=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,a=e.offset,l=void 0===a?{x:0,y:0}:a,c={range:i,grid:e,x:null,y:null},u=0;u<t.length;u++){var p=t[u],d=p[0],h=p[1],f=Math.round((r-l.x)/e[d]),m=Math.round((n-l.y)/e[h]);c[d]=Math.max(s.left,Math.min(s.right,f*e[d]+l.x)),c[h]=Math.max(s.top,Math.min(s.bottom,m*e[h]+l.y))}return c};return r.grid=e,r.coordFields=t,r}}),gr={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=J(t.snappers||{},vr),t.createSnapGrid=t.snappers.grid}},br={start:function(e){var r=e.state,n=e.rect,i=e.edges,o=e.pageCoords,s=r.options,a=s.ratio,l=s.enabled,c=r.options,u=c.equalDelta,p=c.modifiers;"preserve"===a&&(a=n.width/n.height),r.startCoords=J({},o),r.startRect=J({},n),r.ratio=a,r.equalDelta=u;var d=r.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(r.xIsPrimaryAxis=!(!i.left&&!i.right),r.equalDelta){var h=(d.left?1:-1)*(d.top?1:-1);r.edgeSign={x:h,y:h}}else r.edgeSign={x:d.left?-1:1,y:d.top?-1:1};if(!1!==l&&J(i,d),null!=p&&p.length){var f=new Ot(e.interaction);f.copyFrom(e.interaction.modification),f.prepareStates(p),r.subModification=f,f.startAll(t({},e))}},set:function(e){var r=e.state,n=e.rect,i=e.coords,o=r.linkedEdges,s=J({},i),a=r.equalDelta?yr:xr;if(J(e.edges,o),a(r,r.xIsPrimaryAxis,i,n),!r.subModification)return null;var l=J({},n);ne(o,l,{x:i.x-s.x,y:i.y-s.y});var c=r.subModification.setAll(t(t({},e),{},{rect:l,edges:o,pageCoords:i,prevCoords:i,prevRect:l})),u=c.delta;return c.changed&&(a(r,Math.abs(u.x)>Math.abs(u.y),c.coords,c.rect),J(i,c.coords)),c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function yr(e,t,r){var n=e.startCoords,i=e.edgeSign;t?r.y=n.y+(r.x-n.x)*i.y:r.x=n.x+(r.y-n.y)*i.x}function xr(e,t,r,n){var i=e.startRect,o=e.startCoords,s=e.ratio,a=e.edgeSign;if(t){var l=n.width/s;r.y=o.y+(l-i.height)*a.y}else{var c=n.height*s;r.x=o.x+(c-i.width)*a.x}}var wr=kt(br,"aspectRatio"),Tr=function(){};Tr._defaults={};var Sr=Tr;function Or(e,t,r){return O(e)?ee(e,t.interactable,t.element,[r.x,r.y,t]):ee(e,t.interactable,t.element)}var _r={start:function(e){var t=e.rect,r=e.startOffset,n=e.state,i=e.interaction,o=e.pageCoords,s=n.options,a=s.elementRect,l=J({left:0,top:0,right:0,bottom:0},s.offset||{});if(t&&a){var c=Or(s.restriction,i,o);if(c){var u=c.right-c.left-t.width,p=c.bottom-c.top-t.height;u<0&&(l.left+=u,l.right+=u),p<0&&(l.top+=p,l.bottom+=p)}l.left+=r.left-t.width*a.left,l.top+=r.top-t.height*a.top,l.right+=r.right-t.width*(1-a.right),l.bottom+=r.bottom-t.height*(1-a.bottom)}n.offset=l},set:function(e){var t,r=e.coords,n=e.interaction,i=e.state,o=i.options,s=i.offset,a=Or(o.restriction,n,r);if(a){var l=(!(t=a)||"left"in t&&"top"in t||((t=J({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t);r.x=Math.max(Math.min(l.right-s.right,r.x),l.left+s.left),r.y=Math.max(Math.min(l.bottom-s.bottom,r.y),l.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},kr=kt(_r,"restrict"),Er={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Pr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Mr(e,t){for(var r=0,n=["top","left","bottom","right"];r<n.length;r++){var i=n[r];i in e||(e[i]=t[i])}return e}var Ir={noInner:Er,noOuter:Pr,start:function(e){var t,r=e.interaction,n=e.startOffset,i=e.state,o=i.options;o&&(t=te(Or(o.offset,r,r.coords.start.page))),t=t||{x:0,y:0},i.offset={top:t.y+n.top,left:t.x+n.left,bottom:t.y-n.bottom,right:t.x-n.right}},set:function(e){var t=e.coords,r=e.edges,n=e.interaction,i=e.state,o=i.offset,s=i.options;if(r){var a=J({},t),l=Or(s.inner,n,a)||{},c=Or(s.outer,n,a)||{};Mr(l,Er),Mr(c,Pr),r.top?t.y=Math.min(Math.max(c.top+o.top,a.y),l.top+o.top):r.bottom&&(t.y=Math.max(Math.min(c.bottom+o.bottom,a.y),l.bottom+o.bottom)),r.left?t.x=Math.min(Math.max(c.left+o.left,a.x),l.left+o.left):r.right&&(t.x=Math.max(Math.min(c.right+o.right,a.x),l.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Cr=kt(Ir,"restrictEdges"),Dr=J({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},_r.defaults),jr=kt({start:_r.start,set:_r.set,defaults:Dr},"restrictRect"),zr={width:-1/0,height:-1/0},Rr={width:1/0,height:1/0},Lr=kt({start:function(e){return Ir.start(e)},set:function(e){var t=e.interaction,r=e.state,n=e.rect,i=e.edges,o=r.options;if(i){var s=re(Or(o.min,t,e.coords))||zr,a=re(Or(o.max,t,e.coords))||Rr;r.options={endOnly:o.endOnly,inner:J({},Ir.noInner),outer:J({},Ir.noOuter)},i.top?(r.options.inner.top=n.bottom-s.height,r.options.outer.top=n.bottom-a.height):i.bottom&&(r.options.inner.bottom=n.top+s.height,r.options.outer.bottom=n.top+a.height),i.left?(r.options.inner.left=n.right-s.width,r.options.outer.left=n.right-a.width):i.right&&(r.options.inner.right=n.left+s.width,r.options.outer.right=n.left+a.width),Ir.set(e),r.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Ar={start:function(e){var t,r,n,i=e.interaction,o=e.interactable,s=e.element,a=e.rect,l=e.state,c=e.startOffset,u=l.options,p=u.offsetWithOrigin?(n=(r=e).interaction.element,te(ee(r.state.options.origin,null,null,[n]))||ie(r.interactable,n,r.interaction.prepared.name)):{x:0,y:0};if("startCoords"===u.offset)t={x:i.coords.start.page.x,y:i.coords.start.page.y};else{var d=ee(u.offset,o,s,[i]);(t=te(d)||{x:0,y:0}).x+=p.x,t.y+=p.y}var h=u.relativePoints;l.offsets=a&&h&&h.length?h.map(function(e,r){return{index:r,relativePoint:e,x:c.left-a.width*e.x+t.x,y:c.top-a.height*e.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,r=e.coords,n=e.state,i=n.options,o=n.offsets,s=ie(t.interactable,t.element,t.prepared.name),a=J({},r),l=[];i.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(var c=0,u=o;c<u.length;c++)for(var p=u[c],d=a.x-p.x,h=a.y-p.y,f=0,m=i.targets.length;f<m;f++){var v,g=i.targets[f];(v=O(g)?g(d,h,t._proxy,p,f):g)&&l.push({x:(_(v.x)?v.x:d)+p.x,y:(_(v.y)?v.y:h)+p.y,range:_(v.range)?v.range:i.range,source:g,index:f,offset:p})}for(var b={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},y=0;y<l.length;y++){var x=l[y],w=x.range,T=x.x-a.x,S=x.y-a.y,k=ae(T,S),E=k<=w;w===1/0&&b.inRange&&b.range!==1/0&&(E=!1),b.target&&!(E?b.inRange&&w!==1/0?k/w<b.distance/b.range:w===1/0&&b.range!==1/0||k<b.distance:!b.inRange&&k<b.distance)||(b.target=x,b.distance=k,b.range=w,b.inRange=E,b.delta.x=T,b.delta.y=S)}return b.inRange&&(r.x=b.target.x,r.y=b.target.y),n.closest=b,b},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},$r=kt(Ar,"snap"),Hr={start:function(e){var t=e.state,r=e.edges,n=t.options;if(!r)return null;e.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],Ar.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,r=e.state,n=e.coords,i=r.options,o=r.offsets,s={x:n.x-o[0].x,y:n.y-o[0].y};r.options=J({},i),r.options.targets=[];for(var a=0,l=i.targets||[];a<l.length;a++){var c=l[a],u=void 0;if(u=O(c)?c(s.x,s.y,t):c){for(var p=0,d=r.targetFields;p<d.length;p++){var h=d[p],f=h[0],m=h[1];if(f in u||m in u){u.x=u[f],u.y=u[m];break}}r.options.targets.push(u)}}var v=Ar.set(e);return r.options=i,v},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Wr=kt(Hr,"snapSize"),Fr={aspectRatio:wr,restrictEdges:Cr,restrict:kr,restrictRect:jr,restrictSize:Lr,snapEdges:kt({start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Hr.start(e)):null},set:Hr.set,defaults:J(St(Hr.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:$r,snapSize:Wr,spring:Sr,avoid:Sr,transform:Sr,rubberband:Sr},Yr={id:"modifiers",install:function(e){var t=e.interactStatic;for(var r in e.usePlugin(Pt),e.usePlugin(gr),t.modifiers=Fr,Fr){var n=Fr[r],i=n._defaults,o=n._methods;i._methods=o,e.defaults.perAction[r]=i}}},Nr=function(e){s(r,e);var t=u(r);function r(e,i,o,s,a,l){var u;if(n(this,r),ce(c(u=t.call(this,a)),o),o!==i&&ce(c(u),i),u.timeStamp=l,u.originalEvent=o,u.type=e,u.pointerId=me(i),u.pointerType=we(i),u.target=s,u.currentTarget=null,"tap"===e){var p=a.getPointerIndex(i);u.dt=u.timeStamp-a.pointers[p].downTime;var d=u.timeStamp-a.tapTime;u.double=!!a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===u.target&&d<500}else"doubletap"===e&&(u.dt=i.timeStamp-a.tapTime,u.double=!0);return u}return i(r,[{key:"_subtractOrigin",value:function(e){var t=e.x,r=e.y;return this.pageX-=t,this.pageY-=r,this.clientX-=t,this.clientY-=r,this}},{key:"_addOrigin",value:function(e){var t=e.x,r=e.y;return this.pageX+=t,this.pageY+=r,this.clientX+=t,this.clientY+=r,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),r}(Se),Ur={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Ur,e.defaults.actions.pointerEvents=Ur.defaults,J(e.actions.phaselessTypes,Ur.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,r=e.pointerInfo;!t&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget;e.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&Xr(e),Gr({interaction:r,pointer:n,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){(function(e,t){for(var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget,s=e.pointerIndex,a=r.pointers[s].hold,l=Z(o),c={interaction:r,pointer:n,event:i,eventTarget:o,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var p=l[u];c.node=p,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var d=1/0,h=0,f=c.targets;h<f.length;h++){var m=f[h].eventable.options.holdDuration;m<d&&(d=m)}a.duration=d,a.timeout=setTimeout(function(){Gr({interaction:r,eventTarget:o,pointer:n,event:i,type:"hold"},t)},d)}})(e,t),Gr(e,t)},"interactions:up":function(e,t){var r,n,i,o,s,a;Xr(e),Gr(e,t),n=t,i=(r=e).interaction,o=r.pointer,s=r.event,a=r.eventTarget,i.pointerWasMoved||Gr({interaction:i,eventTarget:a,pointer:o,event:s,type:"tap"},n)},"interactions:cancel":function(e,t){Xr(e),Gr(e,t)}},PointerEvent:Nr,fire:Gr,collectEventTargets:Kr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Gr(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget,s=e.type,a=e.targets,l=void 0===a?Kr(e,t):a,c=new Nr(s,n,i,o,r,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:r,pointer:n,event:i,eventTarget:o,targets:l,type:s,pointerEvent:c},p=0;p<l.length;p++){var d=l[p];for(var h in d.props||{})c[h]=d.props[h];var f=ie(d.eventable,d.node);if(c._subtractOrigin(f),c.eventable=d.eventable,c.currentTarget=d.node,d.eventable.fire(c),c._addOrigin(f),c.immediatePropagationStopped||c.propagationStopped&&p+1<l.length&&l[p+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",u),"tap"===s){var m=c.double?Gr({interaction:r,pointer:n,event:i,eventTarget:o,type:"doubletap"},t):c;r.prevTap=m,r.tapTime=m.timeStamp}return c}function Kr(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget,s=e.type,a=r.getPointerIndex(n),l=r.pointers[a];if("tap"===s&&(r.pointerWasMoved||!l||l.downTarget!==o))return[];for(var c=Z(o),u={interaction:r,pointer:n,event:i,eventTarget:o,type:s,path:c,targets:[],node:null},p=0;p<c.length;p++){var d=c[p];u.node=d,t.fire("pointerEvents:collect-targets",u)}return"hold"===s&&(u.targets=u.targets.filter(function(e){var t,n;return e.eventable.options.holdDuration===(null==(t=r.pointers[a])||null==(n=t.hold)?void 0:n.duration)})),u.targets}function Xr(e){var t=e.interaction,r=e.pointerIndex,n=t.pointers[r].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var Br=Object.freeze({__proto__:null,default:Ur});function Vr(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var Zr={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Ur);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Vr,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var r=e.interaction,n=e.pointerEvent,i=e.eventTarget,o=e.targets;if("hold"===n.type&&o.length){var s=o[0].eventable.options.holdRepeatInterval;s<=0||(r.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:r,eventTarget:i,type:"hold",pointer:n,event:n},t)},s))}}})},qr={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=function(e){return J(this.events.options,e),this};var r=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var n=r.call(this,e,t);return n===this&&(this.events.options[e]=t),n}},listeners:{"pointerEvents:collect-targets":function(e,t){var r=e.targets,n=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(n,function(e){var t=e.events,s=t.options;t.types[i]&&t.types[i].length&&e.testIgnoreAllow(s,n,o)&&r.push({node:n,eventable:t,props:{interactable:e}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var r=e.interactable,n=e.options;J(r.events.options,t.pointerEvents.defaults),J(r.events.options,n.pointerEvents||{})}}},Jr={id:"pointer-events",install:function(e){e.usePlugin(Br),e.usePlugin(Zr),e.usePlugin(qr)}},Qr={id:"reflow",install:function(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,r){for(var n=e.getAllElements(),i=r.window.Promise,o=i?[]:null,s=function(){var s=n[a],l=e.getRect(s);if(!l)return 1;var c,u=Ee(r.interactions.list,function(r){return r.interacting()&&r.interactable===e&&r.element===s&&r.prepared.name===t.name});if(u)u.move(),o&&(c=u._reflowPromise||new i(function(e){u._reflowResolve=e}));else{var p=re(l),d=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:p.x,y:p.y},client:{x:p.x,y:p.y},timeStamp:r.now()});c=function(e,t,r,n,i){var o=e.interactions.new({pointerType:"reflow"}),s={interaction:o,event:i,pointer:i,eventTarget:r,phase:"reflow"};o.interactable=t,o.element=r,o.prevEvent=i,o.updatePointer(i,i,r,!0),pe(o.coords.delta),rt(o.prepared,n),o._doPhase(s);var a=e.window.Promise,l=a?new a(function(e){o._reflowResolve=e}):void 0;return o._reflowPromise=l,o.start(n,t,r),o._interacting?(o.move(s),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),l}(r,e,s,t,d)}o&&o.push(c)},a=0;a<n.length&&!s();a++);return o&&i.all(o).then(function(){return e})}(this,t,e)}},listeners:{"interactions:stop":function(e,t){var r,n,i=e.interaction;"reflow"===i.pointerType&&(i._reflowResolve&&i._reflowResolve(),n=i,(r=t.interactions.list).splice(r.indexOf(n),1))}}};if(fr.use(wt),fr.use(Ft),fr.use(Jr),fr.use(Kt),fr.use(Yr),fr.use(bt),fr.use(Ke),fr.use(et),fr.use(Qr),fr.default=fr,"object"===r(h)&&h)try{h.exports=fr}catch{}return fr.default=fr,fr}();const m=d(f.exports);var v={exports:{}};!function(e){var t,r,n;e.exports=(t="minute",r=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g,function(e,i,o){var s=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(e){var r=o(this.toDate(),{locale:this.$L,utc:!0});return e?r.add(this.utcOffset(),t):r},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(e,i){var o=this.$utils().u;if(o(e))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var t=e.match(r);if(!t)return null;var i=(""+t[0]).match(n)||["-",0,0],o=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===o?s:-s}(e)))return this;var s=Math.abs(e)<=16?60*e:e;if(0===s)return this.utc(i);var a=this.clone();if(i)return a.$offset=s,a.$u=!1,a;var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(a=this.local().add(s+l,t)).$offset=s,a.$x.$localOffset=l,a};var u=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var p=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var d=s.diff;s.diff=function(e,t,r){if(e&&this.$u===e.$u)return d.call(this,e,t,r);var n=this.local(),i=o(e).local();return d.call(n,i,t,r)}})}(v);const g=d(v.exports);var b=function(e,t){return e===t||e!=e&&t!=t},y=b,x=function(e,t){for(var r=e.length;r--;)if(y(e[r][0],t))return r;return-1},w=x,T=Array.prototype.splice,S=x,O=x,_=x,k=function(){this.__data__=[],this.size=0},E=function(e){var t=this.__data__,r=w(t,e);return!(r<0||(r==t.length-1?t.pop():T.call(t,r,1),--this.size,0))},P=function(e){var t=this.__data__,r=S(t,e);return r<0?void 0:t[r][1]},M=function(e){return O(this.__data__,e)>-1},I=function(e,t){var r=this.__data__,n=_(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function C(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}C.prototype.clear=k,C.prototype.delete=E,C.prototype.get=P,C.prototype.has=M,C.prototype.set=I;var D=C,j=D,z="object"==typeof p&&p&&p.Object===Object&&p,R=z,L="object"==typeof self&&self&&self.Object===Object&&self,A=R||L||Function("return this")(),$=A.Symbol,H=$,W=Object.prototype,F=W.hasOwnProperty,Y=W.toString,N=H?H.toStringTag:void 0,U=Object.prototype.toString,G=function(e){var t=F.call(e,N),r=e[N];try{e[N]=void 0;var n=!0}catch{}var i=Y.call(e);return n&&(t?e[N]=r:delete e[N]),i},K=function(e){return U.call(e)},X=$?$.toStringTag:void 0,B=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?G(e):K(e)},V=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Z=B,q=V,J=function(e){if(!q(e))return!1;var t=Z(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Q=A["__core-js_shared__"],ee=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),te=Function.prototype.toString,re=function(e){if(null!=e){try{return te.call(e)}catch{}try{return e+""}catch{}}return""},ne=J,ie=function(e){return!!ee&&ee in e},oe=V,se=re,ae=/^\[object .+?Constructor\]$/,le=Function.prototype,ce=Object.prototype,ue=le.toString,pe=ce.hasOwnProperty,de=RegExp("^"+ue.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=function(e){return!(!oe(e)||ie(e))&&(ne(e)?de:ae).test(se(e))},fe=function(e,t){return null==e?void 0:e[t]},me=function(e,t){var r=fe(e,t);return he(r)?r:void 0},ve=me(A,"Map"),ge=me(Object,"create"),be=ge,ye=ge,xe=Object.prototype.hasOwnProperty,we=ge,Te=Object.prototype.hasOwnProperty,Se=ge,Oe=function(){this.__data__=be?be(null):{},this.size=0},_e=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ke=function(e){var t=this.__data__;if(ye){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return xe.call(t,e)?t[e]:void 0},Ee=function(e){var t=this.__data__;return we?void 0!==t[e]:Te.call(t,e)},Pe=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Se&&void 0===t?"__lodash_hash_undefined__":t,this};function Me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Me.prototype.clear=Oe,Me.prototype.delete=_e,Me.prototype.get=ke,Me.prototype.has=Ee,Me.prototype.set=Pe;var Ie=Me,Ce=D,De=ve,je=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ze=function(e,t){var r=e.__data__;return je(t)?r["string"==typeof t?"string":"hash"]:r.map},Re=ze,Le=ze,Ae=ze,$e=ze,He=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},We=function(e){return Le(this,e).get(e)},Fe=function(e){return Ae(this,e).has(e)},Ye=function(e,t){var r=$e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ne.prototype.clear=function(){this.size=0,this.__data__={hash:new Ie,map:new(De||Ce),string:new Ie}},Ne.prototype.delete=He,Ne.prototype.get=We,Ne.prototype.has=Fe,Ne.prototype.set=Ye;var Ue=Ne,Ge=D,Ke=ve,Xe=Ue,Be=D,Ve=function(){this.__data__=new j,this.size=0},Ze=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},qe=function(e){return this.__data__.get(e)},Je=function(e){return this.__data__.has(e)},Qe=function(e,t){var r=this.__data__;if(r instanceof Ge){var n=r.__data__;if(!Ke||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Xe(n)}return r.set(e,t),this.size=r.size,this};function et(e){var t=this.__data__=new Be(e);this.size=t.size}et.prototype.clear=Ve,et.prototype.delete=Ze,et.prototype.get=qe,et.prototype.has=Je,et.prototype.set=Qe;var tt=et,rt=Ue,nt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},it=function(e){return this.__data__.has(e)};function ot(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new rt;++t<r;)this.add(e[t])}ot.prototype.add=ot.prototype.push=nt,ot.prototype.has=it;var st=ot,at=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},lt=function(e,t){return e.has(t)},ct=function(e,t,r,n,i,o){var s=1&r,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var p=-1,d=!0,h=2&r?new st:void 0;for(o.set(e,t),o.set(t,e);++p<a;){var f=e[p],m=t[p];if(n)var v=s?n(m,f,p,t,e,o):n(f,m,p,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!at(t,function(e,t){if(!lt(h,t)&&(f===e||i(f,e,r,n,o)))return h.push(t)})){d=!1;break}}else if(f!==m&&!i(f,m,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d},ut=A.Uint8Array,pt=b,dt=ct,ht=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},ft=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},mt=$?$.prototype:void 0,vt=mt?mt.valueOf:void 0,gt=Array.isArray,bt=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},yt=gt,xt=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o},wt=Object.prototype.propertyIsEnumerable,Tt=Object.getOwnPropertySymbols,St=Tt?function(e){return null==e?[]:(e=Object(e),xt(Tt(e),function(t){return wt.call(e,t)}))}:function(){return[]},Ot=St,_t=function(e){return null!=e&&"object"==typeof e},kt=B,Et=_t,Pt=function(e){return Et(e)&&"[object Arguments]"==kt(e)},Mt=_t,It=Object.prototype,Ct=It.hasOwnProperty,Dt=It.propertyIsEnumerable,jt=Pt(function(){return arguments}())?Pt:function(e){return Mt(e)&&Ct.call(e,"callee")&&!Dt.call(e,"callee")},zt=jt,Rt={exports:{}},Lt=function(){return!1};!function(e,t){var r=A,n=Lt,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=(s?s.isBuffer:void 0)||n;e.exports=a}(Rt,Rt.exports);var At=Rt.exports,$t=/^(?:0|[1-9]\d*)$/,Ht=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Wt=B,Ft=Ht,Yt=_t,Nt={};Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var Ut={exports:{}};!function(e,t){var r=z,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(Ut,Ut.exports);var Gt=Ut.exports,Kt=function(e){return Yt(e)&&Ft(e.length)&&!!Nt[Wt(e)]},Xt=function(e){return function(t){return e(t)}},Bt=Gt&&Gt.isTypedArray,Vt=Bt?Xt(Bt):Kt,Zt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},qt=zt,Jt=gt,Qt=At,er=function(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&$t.test(e))&&e>-1&&e%1==0&&e<t},tr=Vt,rr=Object.prototype.hasOwnProperty,nr=Object.prototype,ir=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),or=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||nr)},sr=ir,ar=Object.prototype.hasOwnProperty,lr=J,cr=Ht,ur=function(e,t){var r=Jt(e),n=!r&&qt(e),i=!r&&!n&&Qt(e),o=!r&&!n&&!i&&tr(e),s=r||n||i||o,a=s?Zt(e.length,String):[],l=a.length;for(var c in e)(t||rr.call(e,c))&&(!s||!("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||er(c,l)))&&a.push(c);return a},pr=function(e){if(!or(e))return sr(e);var t=[];for(var r in Object(e))ar.call(e,r)&&"constructor"!=r&&t.push(r);return t},dr=function(e){return null!=e&&cr(e.length)&&!lr(e)},hr=function(e,t,r){var n=t(e);return yt(e)?n:bt(n,r(e))},fr=Ot,mr=function(e){return dr(e)?ur(e):pr(e)},vr=function(e){return hr(e,mr,fr)},gr=Object.prototype.hasOwnProperty,br=me(A,"DataView"),yr=ve,xr=me(A,"Promise"),wr=me(A,"Set"),Tr=me(A,"WeakMap"),Sr=B,Or=re,_r="[object Map]",kr="[object Promise]",Er="[object Set]",Pr="[object WeakMap]",Mr="[object DataView]",Ir=Or(br),Cr=Or(yr),Dr=Or(xr),jr=Or(wr),zr=Or(Tr),Rr=Sr;(br&&Rr(new br(new ArrayBuffer(1)))!=Mr||yr&&Rr(new yr)!=_r||xr&&Rr(xr.resolve())!=kr||wr&&Rr(new wr)!=Er||Tr&&Rr(new Tr)!=Pr)&&(Rr=function(e){var t=Sr(e),r="[object Object]"==t?e.constructor:void 0,n=r?Or(r):"";if(n)switch(n){case Ir:return Mr;case Cr:return _r;case Dr:return kr;case jr:return Er;case zr:return Pr}return t});var Lr=tt,Ar=ct,$r=function(e,t,r,n,i,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new ut(e),new ut(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=ht;case"[object Set]":var l=1&n;if(a||(a=ft),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var u=dt(a(e),a(t),n,i,o,s);return s.delete(e),u;case"[object Symbol]":if(vt)return vt.call(e)==vt.call(t)}return!1},Hr=function(e,t,r,n,i,o){var s=1&r,a=vr(e),l=a.length;if(l!=vr(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:gr.call(t,u)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<l;){var m=e[u=a[c]],v=t[u];if(n)var g=s?n(v,m,u,t,e,o):n(m,v,u,e,t,o);if(!(void 0===g?m===v||i(m,v,r,n,o):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=e.constructor,y=t.constructor;b!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h},Wr=Rr,Fr=gt,Yr=At,Nr=Vt,Ur="[object Arguments]",Gr="[object Array]",Kr="[object Object]",Xr=Object.prototype.hasOwnProperty,Br=function(e,t,r,n,i,o){var s=Fr(e),a=Fr(t),l=s?Gr:Wr(e),c=a?Gr:Wr(t),u=(l=l==Ur?Kr:l)==Kr,p=(c=c==Ur?Kr:c)==Kr,d=l==c;if(d&&Yr(e)){if(!Yr(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Lr),s||Nr(e)?Ar(e,t,r,n,i,o):$r(e,t,l,r,n,i,o);if(!(1&r)){var h=u&&Xr.call(e,"__wrapped__"),f=p&&Xr.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,v=f?t.value():t;return o||(o=new Lr),i(m,v,r,n,o)}}return!!d&&(o||(o=new Lr),Hr(e,t,r,n,i,o))},Vr=_t,Zr=function e(t,r,n,i,o){return t===r||(null==t||null==r||!Vr(t)&&!Vr(r)?t!=t&&r!=r:Br(t,r,n,i,e,o))},qr=function(e,t){return Zr(e,t)};const Jr=d(qr);function Qr(e,t){return"function"==typeof e.get?e.get(t):e[t]}function en(e){return"function"==typeof e.count?e.count():e.length}function tn(e,t){return en(e)===en(t)&&e.every((e,r)=>e===Qr(t,r.toString()))}function rn(){}function nn(...e){return(t,...r)=>{t.preventDefault(),e.forEach(e=>e&&e(t,...r))}}function on({item:e,itemContext:t,getItemProps:r,getResizeProps:o}){const{left:s,right:a}=o(),{key:l,ref:c,...u}=r(e.itemProps??{}),{useResizeHandle:p}=t;return(0,i.createElement)("div",{...u,ref:c,key:`${l}-outer`},p?(0,i.createElement)("div",{...s,key:`${l}-lr`}):null,(0,n.jsx)("div",{className:"rct-item-content",style:{maxHeight:`${t.dimensions.height}`},children:t.title},`${l}-content`),p?(0,i.createElement)("div",{...a,key:`${l}-rr`}):null)}function sn(e,t,r){return(t-e)/r}function an(e,t,r,n){return r/(t-e)*(n-e)}function ln(e,t,r,n){return(t-e)/r*n+e}function cn(e,t,r,n,i){let o=a()(e).startOf(r);if(n[r]&&n[r]>1){const e=o.get(r);o=o.set(r,e-e%n[r])}for(;o.valueOf()<t;){let e=a()(o).add(n[r]||1,r).startOf(r);e.valueOf()<=o.valueOf()&&(e=e.add(n[r]||1,r)),i(o,e),o=e}}function un(e,t,r){const n={second:1e3,minute:60,hour:60,day:24,month:30,year:12};let i="year",o=e;return Object.keys(n).some(e=>{const s=e;o/=n[s];const a=o/r[s],l=r[s]&&r[s]>1?51:17;if(a<t/l)return i=e,!0}),i}const pn={second:"minute",minute:"hour",hour:"day",day:"month",month:"year",year:"year"};function dn(e){if(!pn[e])throw new Error(`unit ${e} is not acceptable`);return pn[e]}function hn({itemTimeStart:e,itemTimeEnd:t,dragTime:r,isDragging:n,isResizing:i,resizingEdge:o,resizeTime:s}){return[n&&r?r:i&&"left"===o&&s?s:e,n&&r?r+(t-e):i&&"right"===o&&s?s:t]}function fn({itemTimeStart:e,itemTimeEnd:t,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:i}){const o=t-e,s=Math.max(e,r),a=Math.min(t,n),l=an(r,n,i,s),c=an(r,n,i,a)-l;return{left:l,width:Math.max(c,3),collisionLeft:e,collisionWidth:o}}function mn(e,t){const{groupIdKey:r}=t,n={};for(let t=0;t<e.length;t++)n[Qr(e[t],r)]={index:t,group:e[t]};return n}function vn(e,t){var r,n;const i={},o=Object.keys(t);for(let e=0;e<o.length;e++){const r=t[o[e]];i[e]={index:r.index,group:r.group,items:[]}}for(let t=0;t<e.length;t++)if(void 0!==e[t].dimensions&&void 0!==(null==(r=e[t].dimensions)?void 0:r.order)){const r=i[(null==(n=e[t].dimensions)?void 0:n.order.index)??0];r&&r.items.push(e[t])}return i}function gn(e,t,r,n){const{itemTimeStartKey:i,itemTimeEndKey:o}=n;return e.filter(e=>{const n=a()(Qr(e,i)).valueOf()<=r,s=a()(Qr(e,o)).valueOf()>=t;return n&&s})}function bn(e,t,r,n=.001){return e.collisionLeft+n<t.collisionLeft+t.collisionWidth&&e.collisionLeft+e.collisionWidth-n>t.collisionLeft&&e.top-r+n<t.top+t.height&&e.top+e.height+r-n>t.top}function yn(e,t,r,n,i,o,s){let a=n;const l=s??(e-t.dimensions.height)/2;if(t.dimensions.stack&&null===t.dimensions.top){t.dimensions.top=i+l,a=Math.max(a,e,t.dimensions.height+2*l);do{var c=null;for(let e=o-1,n=0;e>=n;e--){const n=r[e];if(null!==n.dimensions.top&&n.dimensions.stack&&bn(t.dimensions,n.dimensions,l)){c=n;break}}null!=c&&(t.dimensions.top=c.dimensions.top+c.dimensions.height+l*(void 0!==s?1:2),a=Math.max(a,t.dimensions.top+t.dimensions.height+l-i))}while(c)}return{groupHeight:a,verticalMargin:l,itemTop:t.dimensions.top}}function xn(e,t,r,n,i){var o,s;const a=i??(e-((null==(o=t.dimensions)?void 0:o.height)??1))/2;return t.dimensions&&null===t.dimensions.top&&(t.dimensions.top=n+a,r=Math.max(r,e,t.dimensions.height+a)),{groupHeight:r,verticalMargin:0,itemTop:(null==(s=t.dimensions)?void 0:s.top)??0}}function wn(e=[]){return e.reduce((e,t)=>e+t,0)}function Tn(e,t,r,n,i){const o=[],s=[],a=vn(e,t);for(const e in a){const t=a[e],{items:l,group:c}=t,u=wn(o),p=void 0!==c.stackItems?c.stackItems:n,{groupHeight:d}=Sn(l,p,r,u,i);s.push(u),c.height?o.push(c.height):o.push(Math.max(d,r))}return{height:wn(o),groupHeights:o,groupTops:s}}function Sn(e,t,r,n,i){let o=0,s=0;for(let a=0;a<e.length;a++){const l=t?yn(r,e[a],e,o,n,a,i):xn(r,e[a],o,n,i);o=l.groupHeight,s=l.verticalMargin}return{groupHeight:o,verticalMargin:s}}function On(e,t,r,n,i,o,s,a,l,c,u,p,d,h,f,m){const v=gn(e,n,i,o).map(e=>En({item:e,keys:o,draggingItem:c,resizingItem:u,dragTime:p,resizingEdge:d,resizeTime:h,groups:t,newGroupOrder:f}));if(0===t.length)return{dimensionItems:[],height:0,groupHeights:[],groupTops:[]};const g=mn(t,o),b=v.map(e=>kn({item:e,keys:o,canvasTimeStart:n,canvasTimeEnd:i,canvasWidth:r,groupOrders:g,lineHeight:s,itemHeightRatio:a,itemVerticalGap:m})).filter(e=>!!e),{height:y,groupHeights:x,groupTops:w}=Tn(b,g,s,l,m);return{dimensionItems:b,height:y,groupHeights:x,groupTops:w}}function _n(e,t){return e*t}function kn({item:e,keys:t,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:i,groupOrders:o,lineHeight:s,itemHeightRatio:a,itemVerticalGap:l}){const c=Qr(e,t.itemIdKey),u=fn({itemTimeStart:Qr(e,t.itemTimeStartKey),itemTimeEnd:Qr(e,t.itemTimeEndKey),canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:i});if(u)return u.top=null,u.order=o[Qr(e,t.itemGroupKey)],u.stack=!e.isOverlay,u.height=(e.height||s)*(typeof l>"u"?a:1),{id:c,dimensions:u}}function En({item:e,keys:t,draggingItem:r,resizingItem:n,dragTime:i,resizingEdge:o,resizeTime:s,groups:a,newGroupOrder:l}){if(!n&&!r)return e;const c=Qr(e,t.itemIdKey),u=c===r,p=c===n,[d,h]=hn({itemTimeStart:Qr(e,t.itemTimeStartKey),itemTimeEnd:Qr(e,t.itemTimeEndKey),isDragging:u,isResizing:p,dragTime:i,resizingEdge:o,resizeTime:s});return{...e,[t.itemTimeStartKey]:d,[t.itemTimeEndKey]:h,[t.itemGroupKey]:u?Qr(a[l],t.groupIdKey):Qr(e,t.itemGroupKey)}}function Pn(e,t,r){const n=t-e,i=e-n*(r-1)/2;return[i,i+n*r]}function Mn(e,t,r,n,i,o,s){const a=o.buffer,l=s.canvasTimeStart,c=s.canvasTimeEnd,u=s.visibleTimeEnd-s.visibleTimeStart,p=t-e,d={...s,visibleTimeStart:e,visibleTimeEnd:t},h=u*(a-1)*.25;if(p!==u||e<=l+h||t>=c-h||r){const[r,l]=Pn(e,t,a);d.canvasTimeStart=r,d.canvasTimeEnd=l;const c={...s,...d},u=_n(c.width,o.buffer);Object.assign(d,On(n,i,u,c.canvasTimeStart,c.canvasTimeEnd,o.keys,o.lineHeight,o.itemHeightRatio,o.stackItems,c.draggingItem,c.resizingItem,c.dragTime,c.resizingEdge,c.resizeTime,c.newGroupOrder,o.itemVerticalGap))}return d}const In=Object.freeze(Object.defineProperty({__proto__:null,NEXT_UNITS:pn,calculateDimensions:fn,calculateInteractionNewTimes:hn,calculateScrollCanvas:Mn,calculateTimeForXPosition:ln,calculateXPositionForTime:an,collision:bn,coordinateToTimeRatio:sn,getCanvasBoundariesFromVisibleTime:Pn,getCanvasWidth:_n,getGroupOrders:mn,getGroupedItems:vn,getItemDimensions:kn,getItemWithInteractions:En,getMinUnit:un,getNextUnit:dn,getVisibleItems:gn,groupNoStack:xn,groupStack:yn,iterateTimes:cn,minCellWidth:17,stackAll:Tn,stackGroup:Sn,stackTimelineItems:On},Symbol.toStringTag,{value:"Module"})),Cn={fontSize:12,color:"white",cursor:"pointer",background:"#2196f3",borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderStyle:"solid",borderColor:"#1a6fb3",zIndex:80},Dn={background:"#ffc107",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderStyle:"solid",borderColor:"#ff9800",zIndex:82},jn={willChange:"left, top, width",cursor:"move"},zn={borderLeftWidth:3},Rn={cursor:"w-resize"},Ln={borderRightWidth:"3px"},An={cursor:"e-resize"},$n={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,left:0,cursor:"pointer",zIndex:88},Hn={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,right:0,cursor:"pointer",zIndex:88},Wn={getTimelineState:()=>(console.warn('"getTimelineState" default func is being used'),{}),getLeftOffsetFromDate:()=>(console.warn('"getLeftOffsetFromDate" default func is being used'),0),getDateFromLeftOffsetPosition:()=>(console.warn('"getDateFromLeftOffsetPosition" default func is being used'),0),showPeriod:()=>{console.warn('"showPeriod" default func is being used')}},Fn=o().createContext(Wn),{Consumer:Yn,Provider:Nn}=Fn;class Un extends o().Component{constructor(e){super(e),Object.defineProperty(this,"getTimelineState",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{visibleTimeStart:e,visibleTimeEnd:t,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:i,timelineUnit:o,timelineWidth:s}=this.props;return{visibleTimeStart:e,visibleTimeEnd:t,canvasTimeStart:r,canvasTimeEnd:n,canvasWidth:i,timelineUnit:o,timelineWidth:s}}}),Object.defineProperty(this,"getLeftOffsetFromDate",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{canvasTimeStart:t,canvasTimeEnd:r,canvasWidth:n}=this.props;return an(t,r,n,e)}}),Object.defineProperty(this,"getDateFromLeftOffsetPosition",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{canvasTimeStart:t,canvasTimeEnd:r,canvasWidth:n}=this.props;return ln(t,r,n,e)}}),this.state={timelineContext:{getTimelineState:this.getTimelineState,getLeftOffsetFromDate:this.getLeftOffsetFromDate,getDateFromLeftOffsetPosition:this.getDateFromLeftOffsetPosition,showPeriod:this.props.showPeriod}}}render(){return(0,n.jsx)(Nn,{value:this.state.timelineContext,children:this.props.children})}}const Gn=Yn,Kn=()=>(0,i.useContext)(Fn);a().extend(g);class Xn extends i.Component{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{interactMounted:!1,dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:!1,resizeEdge:null,resizeStart:null,resizeTime:null}}),Object.defineProperty(this,"itemId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemTitle",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemDivTitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemRef",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.createRef)()}),Object.defineProperty(this,"dragLeft",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dragRight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startedClicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedTouching",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"dragInProgress",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"fireInteractEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;if(this.itemRef&&this.itemRef.current){const r=new CustomEvent("itemInteraction",{bubbles:!0,detail:{itemInteraction:e}});null==(t=this.itemRef.current)||t.dispatchEvent(r)}}}),Object.defineProperty(this,"onMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.interactMounted||(e.preventDefault(),this.startedClicking=!0)}}),Object.defineProperty(this,"onMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:e=>{!this.state.interactMounted&&this.startedClicking&&(this.startedClicking=!1,this.actualClick(e,"click"))}}),Object.defineProperty(this,"onTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.interactMounted||(e.preventDefault(),this.startedTouching=!0)}}),Object.defineProperty(this,"onTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:e=>{!this.state.interactMounted&&this.startedTouching&&(this.startedTouching=!1,this.actualClick(e,"touch"))}}),Object.defineProperty(this,"handleDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:e=>{e.stopPropagation(),this.props.onItemDoubleClick&&this.props.onItemDoubleClick(this.itemId,e)}}),Object.defineProperty(this,"handleContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.props.onContextMenu&&(e.preventDefault(),e.stopPropagation(),this.props.onContextMenu(this.itemId,e))}}),Object.defineProperty(this,"getDragLeftRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.dragLeft=e}),Object.defineProperty(this,"getDragRightRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.dragRight=e}),Object.defineProperty(this,"getItemProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const t="rct-item"+(this.props.item.className?` ${this.props.item.className}`:"");return{key:this.itemId,ref:this.itemRef,title:this.itemDivTitle,className:t+` ${e.className?e.className:""}`,onMouseDown:nn(this.onMouseDown,e.onMouseDown),onMouseUp:nn(this.onMouseUp,e.onMouseUp),onTouchStart:nn(this.onTouchStart,e.onTouchStart),onTouchEnd:nn(this.onTouchEnd,e.onTouchEnd),onDoubleClick:nn(this.handleDoubleClick,e.onDoubleClick),onContextMenu:nn(this.handleContextMenu,e.onContextMenu),style:Object.assign({},this.getItemStyle(e))}}}),Object.defineProperty(this,"getResizeProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let t="rct-item-handler rct-item-handler-left rct-item-handler-resize-left";e.leftClassName&&(t+=` ${e.leftClassName}`);let r="rct-item-handler rct-item-handler-right rct-item-handler-resize-right";return e.rightClassName&&(r+=` ${e.rightClassName}`),{left:{ref:this.getDragLeftRef,className:t,style:Object.assign({},$n,e.leftStyle)},right:{ref:this.getDragRightRef,className:r,style:Object.assign({},Hn,e.rightStyle)}}}}),this.cacheDataFromProps(e)}shouldComponentUpdate(e,t){return!Jr(this.props,e)||!Jr(this.state,t)}cacheDataFromProps(e){this.itemId=Qr(e.item,e.keys.itemIdKey),this.itemTitle=Qr(e.item,e.keys.itemTitleKey),this.itemDivTitle=e.keys.itemDivTitleKey?Qr(e.item,e.keys.itemDivTitleKey):this.itemTitle,this.itemTimeStart=Qr(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=Qr(e.item,e.keys.itemTimeEndKey)}getTimeRatio(){const{canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:r}=this.props;return sn(e,t,r)}dragTimeSnap(e,t){const{dragSnap:r}=this.props;if(r){const n=t?60*a()().utcOffset()*1e3:0;return Math.round(e/r)*r-n%r}return e}resizeTimeSnap(e){const{dragSnap:t}=this.props;if(t){const r=this.itemTimeEnd%t;return Math.round((e-r)/t)*t+r}return e}dragTime(e){const t=a()(this.itemTimeStart);return this.state.dragging?this.dragTimeSnap(this.timeFor(e)+this.state.dragStart.offset,!0):t.valueOf()}timeFor(e){const t=sn(this.props.canvasTimeStart,this.props.canvasTimeEnd,this.props.canvasWidth),r=u(this.props.scrollRef).offsetLeft,n=c(this.props.scrollRef);return(e.pageX-r+n.scrollLeft)*t+this.props.canvasTimeStart}dragGroupDelta(e){const{groupTops:t,order:r}=this.props;if(this.state.dragging){if(!this.props.canChangeGroup)return 0;let n=0;const i=u(this.props.scrollRef).offsetTop,o=c(this.props.scrollRef);for(const s of Object.keys(t)){const a=t[s];if(!(e.pageY-i+o.scrollTop>a))break;n=parseInt(s,10)-r.index}return this.props.order.index+n<0?0-this.props.order.index:n}return 0}resizeTimeDelta(e,t){const r=this.itemTimeEnd-this.itemTimeStart,n=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.getTimeRatio());return r+("left"===t?-n:n)<(this.props.dragSnap||1e3)?"left"===t?r-(this.props.dragSnap||1e3):(this.props.dragSnap||1e3)-r:n}mountInteract(){const e=!this.props.useResizeHandle||".rct-item-handler-resize-left",t=!this.props.useResizeHandle||".rct-item-handler-resize-right";m(this.itemRef.current).resizable({edges:{left:this.canResizeLeft()&&e,right:this.canResizeRight()&&t,top:!1,bottom:!1},enabled:this.props.selected&&(this.canResizeLeft()||this.canResizeRight())}).draggable({enabled:this.props.selected&&this.canMove()}).styleCursor(!1).on("dragstart",e=>{if(!this.props.selected)return!1;{this.dragInProgress=!0,this.fireInteractEvent(!0);const t=this.timeFor(e);this.setState({dragging:!0,dragStart:{x:e.pageX,y:e.pageY,offset:this.itemTimeStart-t},preDragPosition:{x:e.target.offsetLeft,y:e.target.offsetTop},dragTime:this.itemTimeStart,dragGroupDelta:0})}}).on("dragmove",e=>{this.state.dragging&&this.setState(t=>{if(!this.dragInProgress)return{...t};let r=this.dragTime(e);const n=this.dragGroupDelta(e);return this.props.moveResizeValidator&&(r=this.props.moveResizeValidator("move",this.props.item,r)),this.props.onDrag&&this.props.onDrag(this.itemId,r,this.props.order.index+n),{dragTime:r,dragGroupDelta:n}})}).on("dragend",e=>{if(this.state.dragging){if(this.props.onDrop){this.dragInProgress=!1,this.fireInteractEvent(!1);let t=this.dragTime(e);this.props.moveResizeValidator&&(t=this.props.moveResizeValidator("move",this.props.item,t)),this.props.onDrop(this.itemId,t,this.props.order.index+this.dragGroupDelta(e))}this.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",e=>{if(!this.props.selected)return!1;this.fireInteractEvent(!0),this.setState({resizing:!0,resizeEdge:null,resizeStart:e.pageX,resizeTime:0})}).on("resizemove",e=>{if(this.state.resizing){let t=this.state.resizeEdge;t||(t=0!==e.deltaRect.left?"left":"right",this.setState({resizeEdge:t}));let r=this.resizeTimeSnap(this.timeFor(e));this.props.moveResizeValidator&&(r=this.props.moveResizeValidator("resize",this.props.item,r,t)),this.props.onResizing&&this.props.onResizing(this.itemId,r,t),this.setState({resizeTime:r})}}).on("resizeend",e=>{if(this.state.resizing){this.fireInteractEvent(!1);const{resizeEdge:t}=this.state;let r=this.resizeTimeSnap(this.timeFor(e));this.props.moveResizeValidator&&(r=this.props.moveResizeValidator("resize",this.props.item,r,t)),this.props.onResized&&this.props.onResized(this.itemId,r,t,this.resizeTimeDelta(e,t)),this.setState({resizing:!1,resizeStart:null,resizeEdge:null,resizeTime:null})}}).on("tap",e=>{this.actualClick(e,"mouse"===e.pointerType?"click":"touch")}),this.setState({interactMounted:!0})}canResizeLeft(e=this.props){var t;return!(!e.canResizeLeft||void 0===e.minResizeWidth)&&parseInt(null==(t=e.dimensions.width)?void 0:t.toString(),10)>=e.minResizeWidth}canResizeRight(e=this.props){var t;return!(!e.canResizeRight||void 0===e.minResizeWidth)&&parseInt(null==(t=e.dimensions.width)?void 0:t.toString(),10)>=e.minResizeWidth}canMove(e=this.props){return!!e.canMove}componentDidUpdate(e){this.cacheDataFromProps(this.props);let{interactMounted:t}=this.state;const r=e.selected&&this.canMove(e),n=e.selected&&this.canResizeLeft(e),i=e.selected&&this.canResizeRight(e),o=this.props.selected&&this.canMove(this.props),s=this.props.selected&&this.canResizeLeft(this.props),a=this.props.selected&&this.canResizeRight(this.props);if(this.itemRef&&this.itemRef.current){if(this.props.selected&&!t&&(this.mountInteract(),t=!0),t&&(n!==s||i!==a)){const e=!this.props.useResizeHandle||this.dragLeft,t=!this.props.useResizeHandle||this.dragRight;m(this.itemRef.current).resizable({enabled:s||a,edges:{top:!1,bottom:!1,left:s&&e,right:a&&t}})}t&&r!==o&&m(this.itemRef.current).draggable({enabled:o})}else t=!1;t!==this.state.interactMounted&&this.setState({interactMounted:t})}actualClick(e,t){this.props.canSelect&&this.props.onSelect&&this.props.onSelect(this.itemId,t,e)}getItemStyle(e){const t=this.props.dimensions,r={position:"absolute",boxSizing:"border-box",left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`,lineHeight:`${t.height}px`};return Object.assign({},Cn,this.props.selected?Dn:{},this.props.selected&&this.canMove(this.props)?jn:{},this.props.selected&&this.canResizeLeft(this.props)?zn:{},this.props.selected&&this.canResizeLeft(this.props)&&this.state.dragging?Rn:{},this.props.selected&&this.canResizeRight(this.props)?Ln:{},this.props.selected&&this.canResizeRight(this.props)&&this.state.dragging?An:{},e.style,r)}render(){if(typeof this.props.order>"u"||null===this.props.order)return null;const e=this.context,t={dimensions:this.props.dimensions,useResizeHandle:!!this.props.useResizeHandle,title:this.itemTitle,canMove:this.canMove(this.props),canResizeLeft:this.canResizeLeft(this.props),canResizeRight:this.canResizeRight(this.props),selected:this.props.selected,dragging:this.state.dragging,dragStart:this.state.dragStart,dragTime:this.state.dragTime,dragGroupDelta:this.state.dragGroupDelta,resizing:this.state.resizing,resizeEdge:this.state.resizeEdge,resizeStart:this.state.resizeStart,resizeTime:this.state.resizeTime};return this.props.itemRenderer?this.props.itemRenderer({item:this.props.item,timelineContext:e,itemContext:t,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps}):on({item:this.props.item,itemContext:t,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps})}}function Bn(e,t){const r=void 0!==Qr(e,"canResize")?Qr(e,"canResize"):t;return"left"===r||"both"===r}function Vn(e,t){const r=void 0!==Qr(e,"canResize")?Qr(e,"canResize"):t;return"right"===r||"both"===r||!0===r}Object.defineProperty(Xn,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{selected:!1,itemRenderer:on}}),Object.defineProperty(Xn,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:Fn});class Zn extends i.Component{shouldComponentUpdate(e){return!(tn(e.groups,this.props.groups)&&tn(e.items,this.props.items)&&tn(e.dimensionItems,this.props.dimensionItems)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.selected===this.props.selected&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.canSelect===this.props.canSelect)}isSelected(e,t){if(this.props.selected){const r=Qr(e,t);return this.props.selected.includes(r)}return this.props.selectedItem===Qr(e,t)}getVisibleItems(e,t){const{keys:r,items:n}=this.props;return gn(n,e,t,r)}render(){const{canvasTimeStart:e,canvasTimeEnd:t,dimensionItems:r,keys:i,groups:o}=this.props,{itemIdKey:s,itemGroupKey:a}=i,l=mn(o,i),c=this.getVisibleItems(e,t),u=function(e){const t={};return e.forEach(e=>{t[e.id]=e}),t}(r);return(0,n.jsx)("div",{className:"rct-items",children:c.filter(e=>u[Qr(e,s)]).map(e=>(0,n.jsx)(Xn,{itemProps:e.itemProps,item:e,keys:this.props.keys,order:l[Qr(e,a)],dimensions:u[Qr(e,s)].dimensions,selected:this.isSelected(e,s),canChangeGroup:void 0!==Qr(e,"canChangeGroup")?Qr(e,"canChangeGroup"):this.props.canChangeGroup,canMove:void 0!==Qr(e,"canMove")?Qr(e,"canMove"):this.props.canMove,canResizeLeft:Bn(e,this.props.canResize),canResizeRight:Vn(e,this.props.canResize),canSelect:void 0!==Qr(e,"canSelect")?Qr(e,"canSelect"):this.props.canSelect,useResizeHandle:this.props.useResizeHandle,groupTops:this.props.groupTops,canvasTimeStart:this.props.canvasTimeStart,canvasTimeEnd:this.props.canvasTimeEnd,canvasWidth:this.props.canvasWidth,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,onResizing:this.props.itemResizing,onResized:this.props.itemResized,moveResizeValidator:this.props.moveResizeValidator,onDrag:this.props.itemDrag,onDrop:this.props.itemDrop,onItemDoubleClick:this.props.onItemDoubleClick,onContextMenu:this.props.onItemContextMenu,onSelect:this.props.itemSelect,itemRenderer:this.props.itemRenderer,scrollRef:this.props.scrollRef},Qr(e,s)))})}}class qn extends i.Component{shouldComponentUpdate(e){return!(e.keys===this.props.keys&&e.width===this.props.width&&e.height===this.props.height&&tn(e.groups,this.props.groups)&&tn(e.groupHeights,this.props.groupHeights))}renderGroupContent(e,t=!1,r,n){return this.props.groupRenderer?o().createElement(this.props.groupRenderer,{group:e,isRightSidebar:t}):Qr(e,t?n:r)}render(){const{width:e,groupHeights:t,height:r,isRightSidebar:i}=this.props,{groupIdKey:o,groupTitleKey:s,groupRightTitleKey:a}=this.props.keys,l={width:`${e}px`,height:`${r}px`},c={width:`${e}px`},u=this.props.groups.map((e,r)=>{const l={height:`${t[r]}px`,lineHeight:`${t[r]}px`};return(0,n.jsx)("div",{className:"rct-sidebar-row rct-sidebar-row-"+(r%2==0?"even":"odd"),style:l,children:this.renderGroupContent(e,i,s,a)},Qr(e,o))});return(0,n.jsx)("div",{className:"rct-sidebar"+(i?" rct-sidebar-right":""),style:l,children:(0,n.jsx)("div",{style:c,children:u})})}}class Jn extends i.Component{shouldComponentUpdate(e){return!(e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineCount===this.props.lineCount&&e.minUnit===this.props.minUnit&&e.timeSteps===this.props.timeSteps&&e.height===this.props.height&&e.verticalLineClassNamesForTime===this.props.verticalLineClassNamesForTime)}render(){const{canvasTimeStart:e,canvasTimeEnd:t,minUnit:r,timeSteps:i,height:o,verticalLineClassNamesForTime:s,getLeftOffsetFromDate:a}=this.props,l=[];return cn(e,t,r,i,(e,t)=>{const i=e.get("day"===r?"date":r)===("day"===r?1:0);let c=[];s&&(c=s(1e3*e.unix(),1e3*t.unix()-1));const u="rct-vl"+(i?" rct-vl-first":"")+("day"===r||"hour"===r||"minute"===r?` rct-day-${e.day()} `:" ")+c.join(" "),p=a(e.valueOf()),d=a(t.valueOf());l.push((0,n.jsx)("div",{className:u,style:{pointerEvents:"none",top:"0px",left:`${p}px`,width:d-p+"px",height:`${o}px`}},`line-${e.valueOf()}`))}),(0,n.jsx)("div",{className:"rct-vertical-lines",children:l})}}const Qn=({...e})=>(0,n.jsx)(Gn,{children:({getLeftOffsetFromDate:t})=>(0,n.jsx)(Jn,{getLeftOffsetFromDate:t,...e})});class ei extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.originClickX=e.clientX}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:e=>{void 0!==this.props.clickTolerance&&Math.abs(this.originClickX-e.clientX)>this.props.clickTolerance&&(this.cancelClick=!0)}}),Object.defineProperty(this,"handleClick",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.cancelClick||this.props.onClick(e),this.cancelClick=!1,this.originClickX=null}}),Object.defineProperty(this,"originClickX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cancelClick",{enumerable:!0,configurable:!0,writable:!0,value:!1})}render(){const e=o().Children.only(this.props.children);return o().cloneElement(e,{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick})}}class ti extends i.Component{render(){const{onContextMenu:e,onDoubleClick:t,isEvenRow:r,style:i,onClick:o,clickTolerance:s,horizontalLineClassNamesForGroup:a,group:l}=this.props;let c=[];return a&&(c=a(l)),(0,n.jsx)(ei,{clickTolerance:s,onClick:o,children:(0,n.jsx)("div",{onContextMenu:e,onDoubleClick:t,className:(r?"rct-hl-even ":"rct-hl-odd ")+(c?c.join(" "):""),style:i})})}}class ri extends i.Component{shouldComponentUpdate(e){return!(e.canvasWidth===this.props.canvasWidth&&e.lineCount===this.props.lineCount&&e.groupHeights===this.props.groupHeights&&e.groups===this.props.groups)}render(){const{canvasWidth:e,lineCount:t,groupHeights:r,onRowClick:i,onRowDoubleClick:o,clickTolerance:s,groups:a,horizontalLineClassNamesForGroup:l,onRowContextClick:c}=this.props,u=[];for(let p=0;p<t;p++)u.push((0,n.jsx)(ti,{clickTolerance:s,onContextMenu:e=>c(e,p),onClick:e=>i(e,p),onDoubleClick:e=>o(e,p),isEvenRow:p%2==0,group:a[p],horizontalLineClassNamesForGroup:l,style:{width:`${e}px`,height:`${r[p]}px`}},`horizontal-line-${p}`));return(0,n.jsx)("div",{className:"rct-horizontal-lines",children:u})}}class ni extends i.Component{constructor(e){super(e),Object.defineProperty(this,"scrollComponentRef",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.createRef)()}),Object.defineProperty(this,"dragLastPosition",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastTouchDistance",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"singleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastSingleTouch",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isItemInteraction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"handlePointerStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{"touch"===e.pointerType?this.handleTouchStart(e):"mouse"===e.pointerType&&this.handleMouseDown(e)}}),Object.defineProperty(this,"handlePointerMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{"touch"===e.pointerType?this.handleTouchMove(e):"mouse"===e.pointerType&&this.handleMouseMove(e)}}),Object.defineProperty(this,"handlePointerEnd",{enumerable:!0,configurable:!0,writable:!0,value:e=>{"touch"===e.pointerType?this.handleTouchEnd():"mouse"===e.pointerType&&this.handleMouseUp()}}),Object.defineProperty(this,"handleScroll",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=this.scrollComponentRef.current.scrollLeft;this.props.onScroll(e)}}),Object.defineProperty(this,"handleWheel",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(e.ctrlKey||e.metaKey||e.altKey){e.preventDefault();const t=l(e.currentTarget),r=e.clientX-t.x,n=e.ctrlKey?10:e.metaKey?3:1;this.props.onWheelZoom(n,r,e.deltaY)}else e.shiftKey&&(e.preventDefault(),this.props.onScroll(this.scrollComponentRef.current.scrollLeft+(e.deltaY||e.deltaX)))}}),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{0===e.button&&(this.dragLastPosition=e.pageX,this.setState({isDragging:!0}))}}),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.isDragging&&!this.isItemInteraction&&(this.props.onScroll(this.scrollComponentRef.current.scrollLeft+this.dragLastPosition-e.pageX),this.dragLastPosition=e.pageX)}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handlePointerLeave",{enumerable:!0,configurable:!0,writable:!0,value:e=>{"mouse"===e.pointerType&&(this.dragLastPosition=null,this.setState({isDragging:!1}))}}),Object.defineProperty(this,"handleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{e.isPrimary?(e.preventDefault(),this.lastTouchDistance=null,this.singleTouchStart={x:e.clientX,y:e.clientY,screenY:window.scrollY},this.lastSingleTouch={x:e.clientX,y:e.clientY,screenY:window.scrollY}):(e.preventDefault(),this.lastTouchDistance=Math.abs(e.clientX-this.singleTouchStart.x),this.singleTouchStart=null,this.lastSingleTouch=null)}}),Object.defineProperty(this,"handleTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{width:t,onZoom:r}=this.props;if(this.isItemInteraction)e.preventDefault();else if(this.lastTouchDistance&&!e.isPrimary){e.preventDefault();const n=Math.abs(e.clientX-this.singleTouchStart.x),i=l(e.currentTarget),o=(e.clientX+this.singleTouchStart.x)/2-i.x;0!==n&&0!==this.lastTouchDistance&&(r(this.lastTouchDistance/n,o/t),this.lastTouchDistance=n)}else if(this.lastSingleTouch&&e.isPrimary){e.preventDefault();const t=e.clientX,r=e.clientY,n=t-this.lastSingleTouch.x,i=t-this.singleTouchStart.x,o=r-this.singleTouchStart.y;this.lastSingleTouch={x:t,y:r,screenY:window.pageYOffset};const s=3*Math.abs(i)>Math.abs(o),a=3*Math.abs(o)>Math.abs(i);0!==n&&s&&this.props.onScroll(this.scrollComponentRef.current.scrollLeft-n),a&&window.scrollTo(window.scrollX,this.singleTouchStart.screenY-o)}}}),Object.defineProperty(this,"handleTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.lastTouchDistance&&(this.lastTouchDistance=null),this.lastSingleTouch&&(this.lastSingleTouch=null,this.singleTouchStart=null)}}),Object.defineProperty(this,"handleItemInteract",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.isItemInteraction=e.detail.itemInteraction}}),this.state={isDragging:!1}}componentDidMount(){this.scrollComponentRef.current&&(this.props.scrollRef(this.scrollComponentRef.current),this.scrollComponentRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.scrollComponentRef.current.addEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.addEventListener("pointerdown",this.handlePointerStart,{passive:!1}),this.scrollComponentRef.current.addEventListener("pointermove",this.handlePointerMove,{passive:!1}),this.scrollComponentRef.current.addEventListener("pointerup",this.handlePointerEnd),this.scrollComponentRef.current.addEventListener("pointerleave",this.handlePointerLeave))}componentWillUnmount(){this.scrollComponentRef.current&&(this.scrollComponentRef.current.removeEventListener("wheel",this.handleWheel),this.scrollComponentRef.current.removeEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.removeEventListener("pointerdown",this.handlePointerStart),this.scrollComponentRef.current.removeEventListener("pointermove",this.handlePointerMove),this.scrollComponentRef.current.removeEventListener("pointerup",this.handlePointerEnd),this.scrollComponentRef.current.removeEventListener("pointerleave",this.handlePointerLeave))}render(){const{width:e,height:t,children:r}=this.props,{isDragging:i}=this.state,o={width:`${e}px`,height:`${t+20}px`,cursor:i?"move":"default",position:"relative"};return(0,n.jsx)("div",{ref:this.scrollComponentRef,"data-testid":"scroll-element",className:"rct-scroll",style:o,onScroll:this.handleScroll,children:r})}}const ii={subscribeToMouseOver:()=>(console.warn('"subscribeToMouseOver" default func is being used'),()=>{})},{Consumer:oi,Provider:si}=o().createContext(ii),ai=si,li=oi,ci={markers:[],subscribeMarker:()=>(console.warn("default subscribe marker used"),{unsubscribe:rn,getMarker:rn}),updateMarker:()=>(console.warn("default subscribe marker used"),rn)},{Consumer:ui,Provider:pi}=o().createContext(ci);let di=0;class hi extends o().Component{constructor(e){super(e),Object.defineProperty(this,"handleSubscribeToMarker",{enumerable:!0,configurable:!0,writable:!0,value:e=>(e={...e,id:(di+=1,di+1)},this.setState(t=>({markers:[...t.markers,e]})),{unsubscribe:()=>{this.setState(t=>({markers:t.markers.filter(t=>t.id!==e.id)}))},getMarker:()=>e})}),Object.defineProperty(this,"handleUpdateMarker",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.state.markers.findIndex(t=>t.id===e.id);t<0||this.setState(r=>({markers:[...r.markers.slice(0,t),e,...r.markers.slice(t+1)]}))}}),this.state={markers:[],subscribeMarker:this.handleSubscribeToMarker,updateMarker:this.handleUpdateMarker}}render(){return(0,n.jsx)(pi,{value:this.state,children:this.props.children})}}const fi=ui;var mi;!function(e){e.Today="Today",e.Custom="Custom",e.Cursor="Cursor"}(mi||(mi={}));const vi={position:"absolute",top:0,bottom:0,width:"2px",backgroundColor:"black",pointerEvents:"none"},gi=e=>({...vi,left:e}),bi=e=>function({styles:t}){return(0,n.jsx)("div",{style:t,"data-testid":e})},yi=bi("default-today-line");let xi=class extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{date:Date.now()}}),Object.defineProperty(this,"intervalToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}componentDidMount(){this.intervalToken=this.createIntervalUpdater(this.props.interval)}componentDidUpdate(e){e.interval!==this.props.interval&&(clearInterval(this.intervalToken),this.intervalToken=this.createIntervalUpdater(this.props.interval))}createIntervalUpdater(e){return setInterval(()=>{this.setState({date:Date.now()})},e)}componentWillUnmount(){clearInterval(this.intervalToken)}render(){const{date:e}=this.state,t=this.props.getLeftOffsetFromDate(e),r=gi(t);return this.props.renderer({styles:r,date:e})}};Object.defineProperty(xi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:yi}});const wi=bi("default-customer-marker-id");let Ti=class extends o().Component{render(){const{date:e}=this.props,t=this.props.getLeftOffsetFromDate(e),r=gi(t);return this.props.renderer({styles:r,date:e})}};Object.defineProperty(Ti,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:wi}});const Si=bi("default-cursor-marker");let Oi=class extends o().Component{constructor(e){super(e),Object.defineProperty(this,"handleCanvasMouseOver",{enumerable:!0,configurable:!0,writable:!0,value:({leftOffset:e,date:t,isCursorOverCanvas:r})=>{this.setState({leftOffset:e,date:t,isShowingCursor:r})}}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state={leftOffset:0,date:0,isShowingCursor:!1}}componentDidMount(){this.unsubscribe=this.props.subscribeToCanvasMouseOver(this.handleCanvasMouseOver)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){const{isShowingCursor:e,leftOffset:t,date:r}=this.state;if(!e)return null;const n=gi(t);return this.props.renderer?this.props.renderer({styles:n,date:r}):null}};Object.defineProperty(Oi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:Si}});const _i=e=>(0,n.jsx)(li,{children:({subscribeToMouseOver:t})=>(0,n.jsx)(Oi,{subscribeToCanvasMouseOver:t,...e})});_i.displayName="CursorMarkerWrapper";const ki=()=>(0,n.jsx)(Gn,{children:({getLeftOffsetFromDate:e,getTimelineState:t})=>(0,n.jsx)(fi,{children:({markers:r})=>{const i=t();return r.map(t=>{switch(t.type){case mi.Today:return(new Date).valueOf()>=i.canvasTimeStart&&(new Date).valueOf()<=i.canvasTimeEnd?(0,n.jsx)(xi,{getLeftOffsetFromDate:e,renderer:t.renderer,interval:t.interval},t.id):null;case mi.Custom:return t.date>=i.canvasTimeStart&&t.date<=i.canvasTimeEnd?(0,n.jsx)(Ti,{renderer:t.renderer,date:t.date,getLeftOffsetFromDate:e},t.id):null;case mi.Cursor:return(0,n.jsx)(_i,{renderer:t.renderer,getLeftOffsetFromDate:e},t.id);default:return null}})}})}),Ei={position:"absolute",left:0,right:0,top:0,bottom:0};class Pi extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;if(null!==this.subscription){const{pageX:r}=e,{left:n}=(null==(t=this.containerEl.current)?void 0:t.getBoundingClientRect())??{left:0},i=r-n,o=this.props.getDateFromLeftOffsetPosition(i);this.subscription({leftOffset:i,date:o,isCursorOverCanvas:!0})}}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{null!==this.subscription&&this.subscription({leftOffset:0,date:0,isCursorOverCanvas:!1})}}),Object.defineProperty(this,"handleMouseMoveSubscribe",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.subscription=e,()=>{this.subscription=null})}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{subscribeToMouseOver:this.handleMouseMoveSubscribe}}),Object.defineProperty(this,"containerEl",{enumerable:!0,configurable:!0,writable:!0,value:o().createRef()}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:null})}render(){return(0,n.jsx)(ai,{value:this.state,children:(0,n.jsxs)("div",{style:Ei,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,ref:this.containerEl,children:[(0,n.jsx)(ki,{}),this.props.children]})})}}const Mi=e=>(0,n.jsx)(Gn,{children:({getDateFromLeftOffsetPosition:t})=>(0,n.jsx)(Pi,{getDateFromLeftOffsetPosition:t,...e})}),Ii=function(e){e._resizeEventListener=()=>e.resize(),window.addEventListener("resize",e._resizeEventListener)},Ci=function(e){window.removeEventListener("resize",e._resizeEventListener)},Di={year:{long:"YYYY",mediumLong:"YYYY",medium:"YYYY",short:"YY"},month:{long:"MMMM YYYY",mediumLong:"MMMM",medium:"MMMM",short:"MM/YY"},week:{long:"w",mediumLong:"w",medium:"w",short:"w"},day:{long:"dddd, LL",mediumLong:"dddd, LL",medium:"dd D",short:"D"},hour:{long:"dddd, LL, HH:00",mediumLong:"L, HH:00",medium:"HH:00",short:"HH"},minute:{long:"HH:mm",mediumLong:"HH:mm",medium:"HH:mm",short:"mm"},second:{long:"mm:ss",mediumLong:"mm:ss",medium:"mm:ss",short:"ss"}},ji={registerScroll:()=>(console.warn("default registerScroll header used"),rn),rightSidebarWidth:0,leftSidebarWidth:150,timeSteps:{}},zi=o().createContext(ji);class Ri extends o().Component{render(){const e={rightSidebarWidth:this.props.rightSidebarWidth,leftSidebarWidth:this.props.leftSidebarWidth,timeSteps:this.props.timeSteps,registerScroll:this.props.registerScroll};return(0,n.jsx)(zi.Provider,{value:e,children:this.props.children})}}const Li=zi,Ai=()=>(0,i.useContext)(Li);var $i={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,n(r)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var o in e)t.call(e,o)&&e[o]&&(n=i(n,o));return n}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):window.classNames=r}()}($i);const Hi=d($i.exports),Wi="left",Fi="right";class Yi extends i.PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const{style:t}=e,r=this.props.variant===Fi?this.props.rightSidebarWidth:this.props.leftSidebarWidth;return{style:{color:(null==t?void 0:t.color)??"#fff",...t,width:r}}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>({getRootProps:this.getRootProps,data:this.props.headerData})})}render(){const e=this.getStateAndHelpers();return this.props.children(e)}}const Ni=({getRootProps:e})=>(0,n.jsx)("div",{"data-testid":"sidebarHeader",...e()}),Ui=e=>{const{children:t,variant:r=Wi,headerData:i}=e,{leftSidebarWidth:o,rightSidebarWidth:s}=Ai();return(0,n.jsx)(Yi,{leftSidebarWidth:o,rightSidebarWidth:s,variant:r,headerData:i,children:t||Ni})};Ui.secretKey="SidebarHeader";class Gi extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>({...this.props.style,display:"flex",width:"100%"})}),Object.defineProperty(this,"getCalendarHeaderStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{leftSidebarWidth:e,rightSidebarWidth:t,calendarHeaderStyle:r}=this.props;return{...r,overflow:"hidden",width:`calc(100% - ${e+t}px)`}}}),Object.defineProperty(this,"isSidebarHeader",{enumerable:!0,configurable:!0,writable:!0,value:e=>void 0!==e.type&&e.type.secretKey===Ui.secretKey})}render(){let e,t;const r=[],i=Array.isArray(this.props.children)?this.props.children.filter(e=>e):[this.props.children];return o().Children.map(i,n=>{var i;this.isSidebarHeader(n)?(null==(i=null==n?void 0:n.props)?void 0:i.variant)===Fi?e=n:t=n:r.push(n)}),t||(t=(0,n.jsx)(Ui,{})),!e&&this.props.rightSidebarWidth&&(e=(0,n.jsx)(Ui,{variant:"right"})),(0,n.jsxs)("div",{"data-testid":"headerRootDiv",style:this.getRootStyle(),className:Hi("rct-header-root",this.props.className),children:[t,(0,n.jsx)("div",{ref:this.props.registerScroll,style:this.getCalendarHeaderStyle(),className:Hi("rct-calendar-header",this.props.calendarHeaderClassName),"data-testid":"headerContainer",children:r}),e]})}}const Ki=({children:e,style:t,className:r,calendarHeaderStyle:i,calendarHeaderClassName:o})=>{const{leftSidebarWidth:s,rightSidebarWidth:a,registerScroll:l}=Ai();return(0,n.jsx)(Gi,{leftSidebarWidth:s,rightSidebarWidth:a,registerScroll:l,style:t,className:r,calendarHeaderStyle:i,calendarHeaderClassName:o,children:e})};Ki.secretKey="TimelineHeaders";class Xi extends o().Component{constructor(e){super(e),Object.defineProperty(this,"getHeaderIntervals",{enumerable:!0,configurable:!0,writable:!0,value:({canvasTimeStart:e,canvasTimeEnd:t,unit:r,timeSteps:n,getLeftOffsetFromDate:i})=>{const o=[];return cn(e,t,r,n,(e,t)=>{const r=i(e.valueOf()),n=i(t.valueOf())-r;o.push({startTime:e,endTime:t,labelWidth:n,left:r})}),o}}),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const{style:t}=e;return{style:Object.assign({},t||{},{position:"relative",width:this.props.canvasWidth,height:this.props.height})}}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const{interval:t,style:r}=e;if(!t)throw new Error("you should provide interval to the prop getter");const{startTime:n,labelWidth:i,left:o}=t;return{style:{...r,left:o,width:i,position:"absolute"},key:`label-${n.valueOf()}`}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{unit:e,showPeriod:t,headerData:r}=this.props;return{headerContext:{unit:e,intervals:this.state.intervals},getRootProps:this.getRootProps,getIntervalProps:this.getIntervalProps,showPeriod:t,data:r}}});const{canvasTimeStart:t,canvasTimeEnd:r,unit:n,timeSteps:i,getLeftOffsetFromDate:o}=e,s=this.getHeaderIntervals({canvasTimeStart:t,canvasTimeEnd:r,unit:n,timeSteps:i,getLeftOffsetFromDate:o});this.state={intervals:s}}componentDidUpdate(e){if(!Jr(e,this.props)){const{canvasTimeStart:e,canvasTimeEnd:t,unit:r,timeSteps:n,getLeftOffsetFromDate:i}=this.props,o=this.getHeaderIntervals({canvasTimeStart:e,canvasTimeEnd:t,unit:r,timeSteps:n,getLeftOffsetFromDate:i});this.setState({intervals:o})}}render(){const e=this.getStateAndHelpers();return this.props.children(e)}}function Bi({children:e,unit:t,headerData:r,height:i}){const{getTimelineState:o,showPeriod:s,getLeftOffsetFromDate:a}=Kn(),l=o(),{timeSteps:c}=Ai();return(0,n.jsx)(Xi,{children:e,timeSteps:c,showPeriod:s,unit:t||l.timelineUnit,...l,headerData:r,getLeftOffsetFromDate:a,height:i})}Object.defineProperty(Xi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{height:30}});var Vi=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Zi(e,t){return!!(e===t||Vi(e)&&Vi(t))}function qi(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Zi(e[r],t[r]))return!1;return!0}function Ji(e,t){void 0===t&&(t=qi);var r=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var o=e.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){r=null},n}class Qi extends o().PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"onIntervalClick",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{primaryHeader:e,interval:t,unit:r,showPeriod:n}=this.props;if(e){const e=dn(r);n(t.startTime.clone().startOf(e),t.startTime.clone().endOf(e))}else n(t.startTime,t.endTime)}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>({...this.props.getIntervalProps({interval:this.props.interval,...e}),onClick:nn(this.onIntervalClick,e.onClick)})})}render(){const{intervalText:e,interval:t,intervalRenderer:r,headerData:o}=this.props;if(r)return r({getIntervalProps:this.getIntervalProps,intervalContext:{interval:t,intervalText:e},data:o});const{key:s,...a}=this.getIntervalProps();return(0,i.createElement)("div",{"data-testid":"dateHeaderInterval",...a,key:s,className:"rct-dateHeader "+(this.props.primaryHeader?"rct-dateHeader-primary":"")},(0,n.jsx)("span",{children:e}))}}function eo({headerContext:{intervals:e,unit:t},getRootProps:r,getIntervalProps:i,showPeriod:o,data:{style:s,intervalRenderer:a,className:l,getLabelFormat:c,unitProp:u,headerData:p}}){return(0,n.jsx)("div",{"data-testid":"dateHeader",className:l,...r({style:s}),children:e.map(e=>{const r=c([e.startTime,e.endTime],t,e.labelWidth);return(0,n.jsx)(Qi,{unit:t,interval:e,showPeriod:o,intervalText:r,primaryHeader:"primaryHeader"===u,getIntervalProps:i,intervalRenderer:a,headerData:p},`label-${e.startTime.valueOf()}`)})})}class to extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"getHeaderUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>"primaryHeader"===this.props.unit?dn(this.props.timelineUnit):this.props.unit?this.props.unit:this.props.timelineUnit}),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:Ji(e=>({height:30,...e}))}),Object.defineProperty(this,"getLabelFormat",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r)=>{const{labelFormat:n}=this.props;if("string"==typeof n)return e[0].format(n);if("function"==typeof n)return n(e,t,r);throw new Error("labelFormat should be function or string")}}),Object.defineProperty(this,"getHeaderData",{enumerable:!0,configurable:!0,writable:!0,value:Ji((e,t,r,n,i,o)=>({intervalRenderer:e,style:t,className:r,getLabelFormat:n,unitProp:i,headerData:o}))})}render(){const e=this.getHeaderUnit(),{height:t}=this.props;return(0,n.jsx)(Bi,{children:eo,unit:e,height:t,headerData:this.getHeaderData(this.props.intervalRenderer,this.getRootStyle(this.props.style),this.props.className,this.getLabelFormat,this.props.unit,this.props.headerData)})}}function ro({labelFormat:e,unit:t,style:r,className:i,intervalRenderer:o,headerData:s,height:a}){return(0,n.jsx)(Gn,{children:({getTimelineState:l})=>{const c=l();return(0,n.jsx)(to,{timelineUnit:c.timelineUnit,unit:t,labelFormat:e||no,style:r,className:i,intervalRenderer:o,headerData:s,height:a})}})}const no=([e],t,r=150,n=Di)=>{let i;return i=r>=150?n[t].long:r>=100?n[t].mediumLong:r>=50?n[t].medium:n[t].short,e.format(i)};var io={exports:{}};!function(e){var t;e.exports=(t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,r,n){var i=r.prototype,o=i.format;n.en.formats=t,i.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var r,n=this.$locale().formats,i=(r=void 0===n?{}:n,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,i){var o=i&&i.toUpperCase();return n||r[i]||t[i]||r[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})}));return o.call(this,i)}})}(io);const oo=d(io.exports);a().extend(oo);class so extends i.Component{constructor(e){super(e),Object.defineProperty(this,"getTimelineContext",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{width:e,visibleTimeStart:t,visibleTimeEnd:r,canvasTimeStart:n,canvasTimeEnd:i}=this.state,o=r-t;return{canvasWidth:_n(e,this.props.buffer),timelineUnit:un(o,e,this.props.timeSteps),timelineWidth:e,visibleTimeStart:t,visibleTimeEnd:r,canvasTimeStart:n,canvasTimeEnd:i}}}),Object.defineProperty(this,"getTimelineUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{width:e,visibleTimeStart:t,visibleTimeEnd:r}=this.state,{timeSteps:n}=this.props;return un(r-t,e,n)}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollComponent",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"scrollHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resize",{enumerable:!0,configurable:!0,writable:!0,value:(e=this.props)=>{var t;const{width:r}=(null==(t=this.container.current)?void 0:t.getBoundingClientRect())??{width:0},n=r-e.sidebarWidth-e.rightSidebarWidth,i=_n(n,e.buffer),{dimensionItems:o,height:s,groupHeights:a,groupTops:l}=On(e.items,e.groups,i,this.state.canvasTimeStart,this.state.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder,e.itemVerticalGap);this.setState({width:n,dimensionItems:o,height:s,groupHeights:a,groupTops:l});const c=n*((e.buffer-1)/2);this.scrollComponent&&(this.scrollComponent.scrollLeft=c),this.scrollHeaderRef&&(this.scrollHeaderRef.scrollLeft=c)}}),Object.defineProperty(this,"onScroll",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t,r;const n=this.state.width,i=this.state.canvasTimeStart,o=this.state.visibleTimeEnd-this.state.visibleTimeStart,s=i+o*e/n;(this.state.visibleTimeStart!==s||this.state.visibleTimeEnd!==s+o)&&(null==(r=(t=this.props).onTimeChange)||r.call(t,s,s+o,this.updateScrollCanvas,this.getTimelineUnit()))}}),Object.defineProperty(this,"updateScrollCanvas",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r=!1,n=this.props.items,i=this.props.groups)=>{this.setState(Mn(e,t,r,n,i,this.props,this.state))}}),Object.defineProperty(this,"handleWheelZoom",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r)=>{this.changeZoom(1+e*r/500,t/this.state.width)}}),Object.defineProperty(this,"changeZoom",{enumerable:!0,configurable:!0,writable:!0,value:(e,t=.5)=>{const{minZoom:r,maxZoom:n}=this.props,i=this.state.visibleTimeEnd-this.state.visibleTimeStart,o=Math.min(Math.max(Math.round(i*e),r),n),s=Math.round(this.state.visibleTimeStart+(i-o)*t);this.props.onTimeChange&&this.props.onTimeChange(s,s+o,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"showPeriod",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{var r,n;const i=e.valueOf(),o=t.valueOf()-i;o<this.props.minZoom||null==(n=(r=this.props).onTimeChange)||n.call(r,i,i+o,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"selectItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r)=>{if(this.isItemSelected(e)||this.props.itemTouchSendsClick&&"touch"===t){if(e&&this.props.onItemClick){const t=this.timeFromItemEvent(r);this.props.onItemClick(e,r,t)}}else if(this.setState({selectedItem:e}),e&&this.props.onItemSelect){const t=this.timeFromItemEvent(r);this.props.onItemSelect(e,r,t)}else null===e&&this.props.onItemDeselect&&this.props.onItemDeselect(r)}}),Object.defineProperty(this,"doubleClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(this.props.onItemDoubleClick){const r=this.timeFromItemEvent(t);this.props.onItemDoubleClick(e,t,r)}}}),Object.defineProperty(this,"contextMenuClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(this.props.onItemContextMenu){const r=this.timeFromItemEvent(t);this.props.onItemContextMenu(e,t,r)}}}),Object.defineProperty(this,"getTimeFromRowClickEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{dragSnap:t,buffer:r}=this.props,{width:n,canvasTimeStart:i,canvasTimeEnd:o}=this.state,{offsetX:s}=e.nativeEvent;let a=ln(i,o,_n(n,r),s);return a=Math.floor(a/t)*t,a}}),Object.defineProperty(this,"timeFromItemEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{width:t,visibleTimeStart:r,visibleTimeEnd:n}=this.state,i=this.props.dragSnap,o=this.scrollComponent,{left:s}=o.getBoundingClientRect(),a=(e.clientX-s)/t*(n-r);let l=Math.round(r+a);return l=Math.floor(l/i)*i,l}}),Object.defineProperty(this,"dragItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r)=>{const n=this.props.groups[r],i=this.props.keys;this.setState({draggingItem:e,dragTime:t,newGroupOrder:r,dragGroupTitle:n?Qr(n,i.groupLabelKey):""}),this.updatingItem({eventType:"move",itemId:e,time:t,newGroupOrder:r})}}),Object.defineProperty(this,"dropItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r)=>{this.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),this.props.onItemMove&&this.props.onItemMove(e,t,r)}}),Object.defineProperty(this,"resizingItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r)=>{this.setState({resizingItem:e,resizingEdge:r,resizeTime:t}),this.updatingItem({eventType:"resize",itemId:e,time:t,edge:r||void 0})}}),Object.defineProperty(this,"resizedItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,r,n)=>{this.setState({resizingItem:null,resizingEdge:null,resizeTime:null}),this.props.onItemResize&&0!==n&&this.props.onItemResize(e,t,r)}}),Object.defineProperty(this,"updatingItem",{enumerable:!0,configurable:!0,writable:!0,value:({eventType:e,itemId:t,time:r,edge:n,newGroupOrder:i})=>{this.props.onItemDrag&&("move"===e?this.props.onItemDrag({eventType:e,itemId:t,time:r,newGroupOrder:i}):this.props.onItemDrag({eventType:e,itemId:t,time:r,edge:n}))}}),Object.defineProperty(this,"handleRowClick",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(this.hasSelectedItem()&&this.selectItem(null,"click",e),null==this.props.onCanvasClick)return;const r=this.getTimeFromRowClickEvent(e),n=Qr(this.props.groups[t],this.props.keys.groupIdKey);this.props.onCanvasClick(n,r,e)}}),Object.defineProperty(this,"handleRowDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(null==this.props.onCanvasDoubleClick)return;const r=this.getTimeFromRowClickEvent(e),n=Qr(this.props.groups[t],this.props.keys.groupIdKey);this.props.onCanvasDoubleClick(n,r,e)}}),Object.defineProperty(this,"handleScrollContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(null==this.props.onCanvasContextMenu)return;const r=this.getTimeFromRowClickEvent(e),n=Qr(this.props.groups[t],this.props.keys.groupIdKey);this.props.onCanvasContextMenu&&(e.preventDefault(),this.props.onCanvasContextMenu(n,r,e))}}),Object.defineProperty(this,"handleHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.scrollHeaderRef=e,this.props.headerRef&&this.props.headerRef(e)}}),Object.defineProperty(this,"isTimelineHeader",{enumerable:!0,configurable:!0,writable:!0,value:e=>void 0!==e.type&&e.type.secretKey===Ki.secretKey}),Object.defineProperty(this,"renderHeaders",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.props.children){let e;if(o().Children.map(this.props.children,t=>{this.isTimelineHeader(t)&&(e=t)}),e)return e}return(0,n.jsxs)(Ki,{children:[(0,n.jsx)(ro,{unit:"primaryHeader"}),(0,n.jsx)(ro,{})]})}}),Object.defineProperty(this,"getScrollElementRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.props.scrollRef&&this.props.scrollRef(e),this.scrollComponent=e}}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:o().createRef()}),Object.defineProperty(this,"getBoundingClientRect",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.scrollComponent.getBoundingClientRect()}),Object.defineProperty(this,"calculateDropCoordinatesToTimeAndGroup",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const r=_n(this.state.width,this.props.buffer),n=sn(this.state.canvasTimeStart,this.state.canvasTimeEnd,r),i=(e-u(this.scrollComponent).offsetLeft+c(this.scrollComponent).scrollLeft)*n+this.state.canvasTimeStart;let o=0;for(const e of this.state.groupTops){if(!(t>Number(e)))break;o=this.state.groupTops.indexOf(e)}if(!this.props.dragSnap)return{time:i,groupIndex:o};const s=60*a()().utcOffset()*1e3;return{time:Math.round(i/this.props.dragSnap)*this.props.dragSnap-s%this.props.dragSnap,groupIndex:o}}}),this.getSelected=this.getSelected.bind(this),this.hasSelectedItem=this.hasSelectedItem.bind(this),this.isItemSelected=this.isItemSelected.bind(this);let t=null,r=null;if(this.props.defaultTimeStart&&this.props.defaultTimeEnd)t=this.props.defaultTimeStart,r=this.props.defaultTimeEnd;else{if(!this.props.visibleTimeStart||!this.props.visibleTimeEnd)throw new Error('You must provide either "defaultTimeStart" and "defaultTimeEnd" or "visibleTimeStart" and "visibleTimeEnd" to initialize the Timeline');t=this.props.visibleTimeStart,r=this.props.visibleTimeEnd}const[i,s]=Pn(t,r,e.buffer),l={width:1e3,visibleTimeStart:t,visibleTimeEnd:r,canvasTimeStart:i,canvasTimeEnd:s,selectedItem:null,dragTime:null,dragGroupTitle:null,resizeTime:null,resizingItem:null,resizingEdge:null,newGroupOrder:0},p=_n(l.width,e.buffer),{dimensionItems:d,height:h,groupHeights:f,groupTops:m}=On(e.items,e.groups,p,l.canvasTimeStart,l.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,l.draggingItem,l.resizingItem,l.dragTime,l.resizingEdge,l.resizeTime,l.newGroupOrder,e.itemVerticalGap);l.dimensionItems=d,l.height=h,l.groupHeights=f,l.groupTops=m,this.state=l}componentDidMount(){this.resize(this.props),this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.addListener(this),Ii(this)}componentWillUnmount(){this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.removeListener(this),Ci(this)}static getDerivedStateFromProps(e,t){const{visibleTimeStart:r,visibleTimeEnd:n,items:i,groups:o}=e,s={items:i,groups:o},a=i!==t.items||o!==t.groups;if(r&&n)Object.assign(s,Mn(r,n,a,i,o,e,t));else if(a){const r=_n(t.width,e.buffer);Object.assign(s,On(i,o,r,t.canvasTimeStart,t.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,t.draggingItem,t.resizingItem,t.dragTime,t.resizingEdge,t.resizeTime,t.newGroupOrder,e.itemVerticalGap))}return s}componentDidUpdate(e,t){const r=this.state.visibleTimeEnd-this.state.visibleTimeStart,n=t.visibleTimeEnd-t.visibleTimeStart;this.props.onZoom&&r!==n&&this.props.onZoom(this.getTimelineContext(),this.getTimelineUnit()),this.props.onBoundsChange&&this.state.canvasTimeStart!==t.canvasTimeStart&&this.props.onBoundsChange(this.state.canvasTimeStart,this.state.canvasTimeStart+3*r);const i=Math.round(this.state.width*(this.state.visibleTimeStart-this.state.canvasTimeStart)/r);(Math.round(t.width*(t.visibleTimeStart-t.canvasTimeStart)/n)!==i||this.scrollComponent.scrollLeft!==i)&&(this.scrollComponent.scrollLeft=i,this.scrollHeaderRef.scrollLeft=i)}columns(e,t,r,i,o,s){var a;return(0,n.jsx)(Qn,{canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:r,lineCount:(null==(a=this.props.groups)?void 0:a.length)||0,minUnit:i,timeSteps:o,height:s,verticalLineClassNamesForTime:this.props.verticalLineClassNamesForTime})}rows(e,t,r){var i;return(0,n.jsx)(ri,{groups:r,canvasWidth:e,lineCount:(null==(i=this.props.groups)?void 0:i.length)||0,groupHeights:t,clickTolerance:this.props.clickTolerance,onRowClick:this.handleRowClick,onRowDoubleClick:this.handleRowDoubleClick,horizontalLineClassNamesForGroup:this.props.horizontalLineClassNamesForGroup,onRowContextClick:this.handleScrollContextMenu})}items({canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:r,dimensionItems:i,groupTops:o}){return(0,n.jsx)(Zn,{canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:r,dimensionItems:i,groupTops:o,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem||void 0,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,useResizeHandle:this.props.useResizeHandle,canSelect:this.props.canSelect,moveResizeValidator:this.props.moveResizeValidator,itemSelect:this.selectItem,itemDrag:this.dragItem,itemDrop:this.dropItem,onItemDoubleClick:this.doubleClickItem,onItemContextMenu:this.props.onItemContextMenu?this.contextMenuClickItem:void 0,itemResizing:this.resizingItem,itemResized:this.resizedItem,itemRenderer:this.props.itemRenderer,selected:this.props.selected,scrollRef:this.scrollComponent})}sidebar(e,t){const{sidebarWidth:r}=this.props;return r&&(0,n.jsx)(qn,{groups:this.props.groups,groupRenderer:this.props.groupRenderer,keys:this.props.keys,width:r,groupHeights:t,height:e})}rightSidebar(e,t){const{rightSidebarWidth:r}=this.props;return r&&(0,n.jsx)(qn,{groups:this.props.groups,keys:this.props.keys,groupRenderer:this.props.groupRenderer,isRightSidebar:!0,width:r,groupHeights:t,height:e})}childrenWithProps(e,t,r,n,i,s,a,l,c,u,p){if(!this.props.children)return null;const d=Array.isArray(this.props.children)?this.props.children.filter(e=>e):[this.props.children],h={canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:r,visibleTimeStart:l,visibleTimeEnd:c,dimensionItems:n,items:this.props.items,groups:this.props.groups,keys:this.props.keys,groupHeights:i,groupTops:s,selected:this.getSelected(),height:a,minUnit:u,timeSteps:p};return o().Children.map(d,e=>this.isTimelineHeader(e)?null:o().cloneElement(e,h))}getSelected(){return this.state.selectedItem&&!this.props.selected?[this.state.selectedItem]:this.props.selected||[]}hasSelectedItem(){return Array.isArray(this.props.selected)?this.props.selected.length>0:!!this.state.selectedItem}isItemSelected(e){return this.getSelected().some(t=>t===e)}render(){const{items:e,groups:t,sidebarWidth:r,rightSidebarWidth:i,timeSteps:o,traditionalZoom:s,buffer:a}=this.props,{draggingItem:l,resizingItem:c,width:u,visibleTimeStart:p,visibleTimeEnd:d,canvasTimeStart:h,canvasTimeEnd:f}=this.state;let{dimensionItems:m,height:v,groupHeights:g,groupTops:b}=this.state;const y=d-p,x=_n(u,a),w=un(y,u,o);if(l||c){const r=On(e,t,x,this.state.canvasTimeStart,this.state.canvasTimeEnd,this.props.keys,this.props.lineHeight,this.props.itemHeightRatio,this.props.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder,this.props.itemVerticalGap);m=r.dimensionItems,v=r.height,g=r.groupHeights,b=r.groupTops}const T={height:`${v}px`};return(0,n.jsx)(Un,{visibleTimeStart:p,visibleTimeEnd:d,canvasTimeStart:h,canvasTimeEnd:f,canvasWidth:x,showPeriod:this.showPeriod,timelineUnit:w,timelineWidth:this.state.width,children:(0,n.jsx)(hi,{children:(0,n.jsx)(Ri,{registerScroll:this.handleHeaderRef,timeSteps:o,leftSidebarWidth:this.props.sidebarWidth,rightSidebarWidth:this.props.rightSidebarWidth,children:(0,n.jsxs)("div",{style:this.props.style,ref:this.container,className:`react-calendar-timeline ${this.props.className}`,children:[this.renderHeaders(),(0,n.jsxs)("div",{style:T,className:"rct-outer",children:[r>0?this.sidebar(v,g):null,(0,n.jsx)(ni,{scrollRef:this.getScrollElementRef,width:u,height:v,onZoom:this.changeZoom,onWheelZoom:this.handleWheelZoom,traditionalZoom:!!s,onScroll:this.onScroll,children:(0,n.jsxs)(Mi,{children:[this.columns(h,f,x,w,o,v),this.rows(x,g,t),this.items({canvasTimeStart:h,canvasTimeEnd:f,canvasWidth:x,dimensionItems:m,groupTops:b}),this.childrenWithProps(h,f,x,m,g,b,v,p,d,w,o)]})}),i>0?this.rightSidebar(v,g):null]})]})})})})}}Object.defineProperty(so,"setDayjsLocale",{enumerable:!0,configurable:!0,writable:!0,value:a().locale}),Object.defineProperty(so,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{sidebarWidth:150,rightSidebarWidth:0,dragSnap:9e5,minResizeWidth:20,lineHeight:30,itemHeightRatio:.65,buffer:3,minZoom:36e5,maxZoom:15778368e4,clickTolerance:3,canChangeGroup:!0,canMove:!0,canResize:"right",useResizeHandle:!1,canSelect:!0,stackItems:!1,traditionalZoom:!1,horizontalLineClassNamesForGroup:null,onItemMove:null,onItemResize:null,onItemClick:null,onItemSelect:null,onItemDeselect:null,onItemDrag:null,onCanvasClick:null,onItemDoubleClick:null,onItemContextMenu:null,onZoom:null,verticalLineClassNamesForTime:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},className:"",keys:{groupIdKey:"id",groupTitleKey:"title",groupRightTitleKey:"rightTitle",groupLabelKey:"title",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},timeSteps:{second:1,minute:1,hour:1,day:1,month:1,year:1},headerRef:()=>{},scrollRef:()=>{},visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,t,r){r(e,t)},onBoundsChange:null,children:null,selected:null}});const ao=e=>e.children||null;class lo extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){const{unsubscribe:e,getMarker:t}=this.props.subscribeMarker({type:mi.Today,renderer:this.props.children,interval:this.props.interval});this.unsubscribe=e,this.getMarker=t}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}componentDidUpdate(e){if(e.interval!==this.props.interval&&this.getMarker){const e=this.getMarker();this.props.updateMarker({...e,interval:this.props.interval})}}render(){return null}}Object.defineProperty(lo,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{interval:1e4}});const co=e=>(0,n.jsx)(fi,{children:({subscribeMarker:t,updateMarker:r})=>(0,n.jsx)(lo,{subscribeMarker:t,updateMarker:r,...e})});co.displayName="TodayMarkerWrapper";class uo extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidUpdate(e){if(e.date!==this.props.date&&this.getMarker){const e=this.getMarker();this.props.updateMarker({...e,date:this.props.date})}}componentDidMount(){const{unsubscribe:e,getMarker:t}=this.props.subscribeMarker({type:mi.Custom,renderer:this.props.children,date:this.props.date});this.unsubscribe=e,this.getMarker=t}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}render(){return null}}const po=e=>(0,n.jsx)(fi,{children:({subscribeMarker:t,updateMarker:r})=>(0,n.jsx)(uo,{subscribeMarker:t,updateMarker:r,...e})});po.displayName="CustomMarkerWrapper";class ho extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){const{unsubscribe:e}=this.props.subscribeMarker({type:mi.Cursor,renderer:this.props.children});this.unsubscribe=e}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}render(){return null}}const fo=e=>(0,n.jsx)(fi,{children:({subscribeMarker:t})=>(0,n.jsx)(ho,{subscribeMarker:t,...e})});fo.displayName="CursorMarkerWrapper"},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},541:function(e,t,r){"use strict";var n,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&o(t,e,r[i]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedItemInfo=function(e){var t=e.item,r=e.setProps,n=e.selectedItemProps,o=e.onDelete,s=e.onItemFix,a=e.onSkuChange,c=(0,l.useState)((null==t?void 0:t.sku)||0),u=c[0],p=c[1],d=(0,l.useState)((null==t?void 0:t.is_fixed)||!1),h=d[0],f=d[1];if((0,l.useEffect)(function(){p((null==t?void 0:t.sku)||0),f((null==t?void 0:t.is_fixed)||!1)},[t]),void 0===t)return l.default.createElement(l.default.Fragment,null);var m=t.mousePosition.x+5,v=t.mousePosition.y+5;return l.default.createElement("div",{style:{position:"absolute",left:m,top:v},className:"selected-item-info"},l.default.createElement("div",{className:"selected-item-info-inputs"},l.default.createElement("button",{type:"button",onClick:function(){return o(t.id)}},""),l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"is-fixed-check"},"Is Fixed"),l.default.createElement("input",{type:"checkbox",name:"Is Fixed",id:"is-fixed-check",checked:h,onChange:function(e){f(e.target.checked),r({isFixedChanged:e.target.checked}),s(t.id,e.target.checked)}})),l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"sku-input"},"SKU"),l.default.createElement("input",{type:"number",name:"SKU",id:"sku-input",value:u,onChange:function(e){p(Number(e.target.value)),r({skuChanged:Number(e.target.value)}),a(t.id,Number(e.target.value))}}))),t.hoverInfo&&l.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.hoverInfo}}),t.inputs&&Object.entries(t.inputs).map(function(e,t){var o=e[0],s=e[1];return l.default.createElement("div",{key:t},l.default.createElement("label",{htmlFor:s.id},o),l.default.createElement("input",i({},s,{onChange:function(e){var t;s.onChange&&s.onChange(e);var a="checkbox"===e.target.type?e.target.checked:e.target.value;r({selectedItemInput:i(i({},n),(t={},t[o]=a,t))})}})))}))};var l=a(r(295))},601:e=>{"use strict";e.exports=function(e){return e[1]}},628:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(72),i=r.n(n),o=r(825),s=r.n(o),a=r(56),l=r.n(a),c=r(540),u=r.n(c),p=r(113),d=r.n(p),h=r(415),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){var t=document.querySelector("head"),r=window._lastElementInsertedByStyleLoader;r?r.nextSibling?t.insertBefore(e,r.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},f.domAPI=s(),f.insertStyleElement=u(),i()(h.A,f);const m=h.A&&h.A.locals?h.A.locals:void 0},722:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RightClickOutsideHandler=function(e){var t=e.contextItems,r=e.mouseEvent,n=(e.time,e.groupId,e.onClickEvent);return i.default.createElement("div",{style:{position:"absolute",top:r.clientY,left:r.clientX,backgroundColor:"white",border:"1px solid black",zIndex:1e3},className:"dash-rct-right-click-menu"},t.map(function(e,t){return i.default.createElement("div",{key:t,onClick:function(){return n(e)},className:"dash-rct-right-click-menu-option"},e)}))};var i=n(r(295))},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},832:function(e,t,r){"use strict";var n,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&o(t,e,r[i]);return s(t,e),t}),l=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},c=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=a(r(295)),d=a(r(448)),h=u(r(353)),f=u(r(134));r(921),r(438),r(628);var m=r(541),v=r(722);function g(e){return e.map(function(e){return i({canResize:"both"},e)})}h.default.extend(f.default),t.default=function(e){var t=e.id,r=e.setProps,n=(0,p.useState)(g(e.items)),o=n[0],s=n[1],a=(0,p.useState)(e.visible_time_start),u=a[0],f=a[1],b=(0,p.useState)(e.visible_time_end),y=b[0],x=b[1],w=(0,p.useState)(void 0),T=w[0],S=w[1],O=(0,p.useState)(!1),_=O[0],k=O[1],E=(0,p.useState)(void 0),P=E[0],M=E[1],I=(0,p.useRef)(null);(0,p.useEffect)(function(){s(g(e.items))},[e.items]),(0,p.useEffect)(function(){void 0!==e.visible_time_start&&(f(e.visible_time_start),r({visible_time_start:void 0})),void 0!==e.visible_time_end&&(x(e.visible_time_end),r({visible_time_end:void 0}))},[e.visible_time_start,e.visible_time_end]);var C=Math.max(Math.min.apply(Math,o.map(function(e){return e.start_time})),1),D=Math.max.apply(Math,c(c([],o.map(function(e){return e.end_time}),!1),[864e5],!1)),j=e.default_time_start||C-432e5,z=e.default_time_end||D+432e5,R=function(){_||S(void 0)};return(0,p.useEffect)(function(){var t;if(e.enable_external_drop){var n=null===(t=I.current)||void 0===t?void 0:t.querySelector(".rct-scroll");if(n&&r){var i=function(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},o=function(t){var i,o;t.preventDefault();var s=null===(i=t.dataTransfer)||void 0===i?void 0:i.getData("application/json");if(s&&0!==e.groups.length){console.log(t);var a=JSON.parse(s),l=n.getBoundingClientRect(),c=null!==(o=e.line_height)&&void 0!==o?o:60,p=t.clientX-l.left,d=t.clientY-l.top,h=Math.min(Math.floor(d/c),e.groups.length-1),f=(e.groups[h].id,null!=u?u:j),m=null!=y?y:z,v=f+p/l.width*(m-f);r({externalDrop:{data:a,group_id:e.groups[h].id,time:v}})}};return n.addEventListener("dragover",i),n.addEventListener("drop",o),function(){n.removeEventListener("dragover",i),n.removeEventListener("drop",o)}}}},[e.enable_external_drop,e.groups,u,y,j,z,r]),p.default.createElement("div",{id:t,ref:I},p.default.createElement(d.default,{groups:e.groups,items:o,defaultTimeStart:j,defaultTimeEnd:z,dragSnap:e.drag_snap,minZoom:e.min_zoom,maxZoom:e.max_zoom,lineHeight:e.line_height,itemHeightRatio:e.item_height_ratio,useResizeHandle:!e.use_resize_handle,onItemMove:function(t,n,i){var a=e.groups[i],l=o.map(function(e){return e.id===t?Object.assign({},e,{start_time:n,end_time:n+(e.end_time-e.start_time),group:a.id}):e});s(l),r({items:l})},onItemSelect:function(e,t){if(0===t.button){if(!_&&(null==T?void 0:T.id)===e)return k(!0),void r({clickedItem:T});var n=o.find(function(t){return t.id===e});S(i(i({},n),{mousePosition:{x:t.clientX,y:t.clientY}})),r({clickedItem:n}),k(!0)}},onItemClick:function(e,t,n){if(0===t.button)if(_)S(void 0),r({clickedItem:void 0,selectedItemInput:void 0}),k(!1);else{var s=o.find(function(t){return t.id===e});S(i(i({},s),{mousePosition:{x:t.clientX,y:t.clientY}})),r({clickedItem:s}),k(!0)}},onItemDeselect:function(){S(void 0),r({clickedItem:void 0,selectedItemInput:void 0}),k(!1)},onItemResize:function(e,t,n){var i=o.map(function(r){return r.id===e?Object.assign({},r,{start_time:"left"===n?t:r.start_time,end_time:"right"===n?t:r.end_time}):r});s(i),r({items:i})},onItemDrag:function(){k(!1),S(void 0)},itemRenderer:function(e){var t,r=e.item,n=e.itemContext,s=e.getItemProps,a=(0,e.getResizeProps)(),c=a.left,u=a.right,d=s(null!==(t=r.itemProps)&&void 0!==t?t:{}),h=d.key,f=d.ref,m=l(d,["key","ref"]),v=n.useResizeHandle;return p.default.createElement("div",i({onMouseEnter:function(e){return function(e,t){if(!_){var r=o.find(function(t){return t.id===e});S(i(i({},r),{mousePosition:{x:t.clientX,y:t.clientY}}))}}(r.id,e)},onMouseLeave:R},m,{ref:f,key:"".concat(h,"-outer"),isfixed:r.is_fixed?"true":"false"}),v?p.default.createElement("div",i({},c,{key:"".concat(h,"-lr")})):null,p.default.createElement("div",{className:"rct-item-content",style:{maxHeight:"".concat(n.dimensions.height)},key:"".concat(h,"-content")},n.title),v?p.default.createElement("div",i({},u,{key:"".concat(h,"-rr")})):null)},onCanvasContextMenu:function(t,n,i){e.context_menu_options&&(i.preventDefault(),M({contextItems:e.context_menu_options||[],mouseEvent:i,time:n,groupId:t,onClickEvent:function(e){M(void 0),r({rightClickedEvent:{time:n,group_id:t,option:e}})}}))},onCanvasClick:function(){M(void 0)},onTimeChange:function(e,t,r){f(e),x(t),r(e,t)},visibleTimeStart:u,visibleTimeEnd:y},e.enable_week_headers&&function(){var t=function(){var t;if(!e.enable_week_headers)return["primaryHeader","day"];var r=((null!=y?y:z)-(null!=u?u:j))/864e5,n=null!==(t=e.week_header_max_days)&&void 0!==t?t:21;return r<2?["day","hour"]:r<=n?["week","day"]:r<60?["month","week"]:r<365?["year","month"]:["primaryHeader","year"]}(),r=t[0],n=t[1],o=function(e,t,r){var n=e[0];if(e[1],"week"===t){var i=(h.default.isDayjs(n)?n:(0,h.default)(n)).week();return"Week ".concat(i)}return(h.default.isDayjs(n)?n:(0,h.default)(n)).format()};return p.default.createElement(d.TimelineHeaders,null,p.default.createElement(d.SidebarHeader,null,function(e){var t=e.getRootProps;return p.default.createElement("div",i({},t()))}),p.default.createElement(d.DateHeader,{unit:r,labelFormat:"week"===r?o:void 0}),p.default.createElement(d.DateHeader,{unit:n,labelFormat:"week"===n?o:void 0}))}()),P&&p.default.createElement(v.RightClickOutsideHandler,i({},P)),p.default.createElement(m.SelectedItemInfo,{item:T,setProps:r,selectedItemProps:e.selectedItemInput,onDelete:function(e){var t=o.filter(function(t){return t.id!==e});s(t),r({items:t,clickedItem:void 0,selectedItemInput:void 0}),S(void 0)},onItemFix:function(e,t){var n=o.find(function(t){return t.id===e}),a=o.map(function(e){return e.group!==n.group?e:t?e.start_time<n.end_time?i(i({},e),{is_fixed:!0}):e:i(i({},e),{is_fixed:!1})});s(a),r({items:a})},onSkuChange:function(e,t){var n=o.map(function(r){return r.id===e?i(i({},r),{sku:t}):r});s(n),r({items:n})}}))}},848:(e,t,r)=>{"use strict";e.exports=r(20)},867:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(601),i=r.n(n),o=r(314),s=r.n(o)()(i());s.push([e.id,".selected-item-info {\n  border: 1px solid black;\n  background-color: white;\n  padding: 5px;\n  z-index: 1000;\n}\n\n.selected-item-info-inputs {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n",""]);const a=s},921:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var n=r(72),i=r.n(n),o=r(825),s=r.n(o),a=r(56),l=r.n(a),c=r(540),u=r.n(c),p=r(113),d=r.n(p),h=r(220),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){var t=document.querySelector("head"),r=window._lastElementInsertedByStyleLoader;r?r.nextSibling?t.insertBefore(e,r.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},f.domAPI=s(),f.insertStyleElement=u(),i()(h.A,f);const m=h.A&&h.A.locals?h.A.locals:void 0}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,n(80)})());