/*! For license information please see dash_calendar_timeline.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.dash_calendar_timeline=t(require("react")):e.dash_calendar_timeline=t(e.React)}(self,e=>(()=>{"use strict";var t={20:(e,t,n)=>{var r=n(295),i=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,l={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:l,_owner:s.current}}t.jsx=l,t.jsxs=l},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=o[c]||0,p="".concat(c," ").concat(u);o[c]=u+1;var d=n(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var f=i(h,r);r.byIndex=a,t.splice(a,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},80:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DashCalendarTimeline=void 0;var i=r(n(832));t.DashCalendarTimeline=i.default},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},220:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),i=n.n(r),o=n(314),s=n.n(o)()(i());s.push([e.id,".react-calendar-timeline *{box-sizing:border-box}.react-calendar-timeline .rct-outer{display:block;overflow:hidden;white-space:nowrap}.react-calendar-timeline .rct-scroll{display:inline-block;white-space:normal;vertical-align:top;overflow-x:scroll;overflow-y:hidden;-ms-touch-action:none;touch-action:none}.react-calendar-timeline .rct-item:hover{z-index:88}.react-calendar-timeline .rct-item .rct-item-content{position:sticky;position:-webkit-sticky;left:0;overflow:hidden;display:inline-block;border-radius:2px;padding:0 6px;height:100%}.react-calendar-timeline .rct-sidebar{overflow:hidden;white-space:normal;display:inline-block;vertical-align:top;position:relative;box-sizing:border-box;border-right:1px solid #bbb}.react-calendar-timeline .rct-sidebar.rct-sidebar-right{border-right:0;border-left:1px solid #bbb}.react-calendar-timeline .rct-sidebar .rct-sidebar-row{padding:0 4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;margin:0;border-bottom:1px solid #bbb}.react-calendar-timeline .rct-sidebar .rct-sidebar-row.rct-sidebar-row-odd{background:#0000000d}.react-calendar-timeline .rct-sidebar .rct-sidebar-row.rct-sidebar-row-even{background:transparent}.react-calendar-timeline .rct-vertical-lines .rct-vl{position:absolute;border-left:1px solid #bbb;z-index:30}.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-vl-first{border-left-width:2px}.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-day-6,.react-calendar-timeline .rct-vertical-lines .rct-vl.rct-day-0{background:#faf6e180}.react-calendar-timeline .rct-horizontal-lines{-webkit-user-select:none;-moz-user-select:-moz-none;-ms-user-select:none;user-select:none}.react-calendar-timeline .rct-horizontal-lines .rct-hl-even,.react-calendar-timeline .rct-horizontal-lines .rct-hl-odd{border-bottom:1px solid #bbb;box-sizing:border-box;z-index:40}.react-calendar-timeline .rct-horizontal-lines .rct-hl-odd{background:#0000000d}.react-calendar-timeline .rct-horizontal-lines .rct-hl-even{background:transparent}.react-calendar-timeline .rct-cursor-line{position:absolute;width:2px;background:#2196f3;z-index:51}.react-calendar-timeline .rct-dateHeader{display:flex;align-items:center;justify-content:center;height:100%;border-bottom:1px solid #bbb;cursor:pointer;font-size:14px;background-color:#f0f0f0;border-left:2px solid #bbb}.react-calendar-timeline .rct-dateHeader-primary{background-color:initial;border-left:1px solid #bbb;border-right:1px solid #bbb;color:#fff}.react-calendar-timeline .rct-header-root{background:#c52020;border-bottom:1px solid #bbb}.react-calendar-timeline .rct-calendar-header{border:1px solid #bbb}\n",""]);const a=s},295:t=>{t.exports=e},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},415:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),i=n.n(r),o=n(314),s=n.n(o)()(i());s.push([e.id,".rct-item:hover {\n  .rct-item-handler-right {\n    cursor: e-resize !important;\n  }\n  .rct-item-handler-left {\n    cursor: w-resize !important;\n  }\n}\n",""]);const a=s},438:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(72),i=n.n(r),o=n(825),s=n.n(o),a=n(56),l=n.n(a),c=n(540),u=n.n(c),p=n(113),d=n.n(p),h=n(867),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){var t=document.querySelector("head"),n=window._lastElementInsertedByStyleLoader;n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},f.domAPI=s(),f.insertStyleElement=u(),i()(h.A,f);const m=h.A&&h.A.locals?h.A.locals:void 0},448:(e,t,n)=>{n.r(t),n.d(t,{CursorMarker:()=>fo,CustomHeader:()=>Bi,CustomMarker:()=>po,DateHeader:()=>no,GroupRow:()=>ti,RowItems:()=>Zr,SidebarHeader:()=>Ui,Timeline:()=>so,TimelineHeaders:()=>Ki,TimelineMarkers:()=>ao,TodayMarker:()=>co,calendarUtils:()=>Ir,default:()=>so});var r=n(848),i=n(295),o=n.n(i);function s(e){let t=0,n=0,r=!0;for(;e;)!e.offsetParent&&"BODY"===e.tagName&&0===e.scrollLeft&&0===e.scrollTop&&(e=document.scrollingElement||e),t+=e.offsetLeft-(r?0:e.scrollLeft)+e.clientLeft,n+=e.offsetTop-(r?0:e.scrollTop)+e.clientTop,e=e.offsetParent,r=!1;return{x:t,y:n}}function a(e){if(e===document.body)return{scrollLeft:0,scrollTop:0};{const t=a(e.parentNode);return{scrollLeft:e.scrollLeft+t.scrollLeft,scrollTop:e.scrollTop+t.scrollTop}}}function l(e){if(e===document.body||!e.offsetParent)return{offsetLeft:0,offsetTop:0};{const t=l(e.offsetParent);return{offsetLeft:e.offsetLeft+t.offsetLeft,offsetTop:e.offsetTop+t.offsetTop}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p,d={exports:{}};(p=d).exports=function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(e){o(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,n)}}function d(){return d=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function h(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}var f=function(e){return!(!e||!e.Window)&&e instanceof e.Window},m=void 0,v=void 0;function g(e){m=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t&&(e=e.wrap(e)),v=e}function b(e){return f(e)?e:(e.ownerDocument||e).defaultView||v.window}typeof window<"u"&&window&&g(window);var y=function(e){return!!e&&"object"===n(e)},x=function(e){return"function"==typeof e},T=function(e){return e===v||f(e)},w=function(e){return y(e)&&11===e.nodeType},S=y,O=x,_=function(e){return"number"==typeof e},k=function(e){return"boolean"==typeof e},E=function(e){return"string"==typeof e},P=function(e){if(!e||"object"!==n(e))return!1;var t=b(e)||v;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?e instanceof Element||e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName},M=function(e){return y(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},I=function(e){return y(e)&&void 0!==e.length&&x(e.splice)};function D(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.prepared.axis;"x"===n?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):"y"===n&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function C(e){var t=e.iEvent,n=e.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";t.page[i]=n.coords.start.page[i],t.client[i]=n.coords.start.client[i],t.delta[i]=0}}}var j={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=j.draggable,t.map.drag=j,t.methodDict.drag="draggable",r.actions.drag=j.defaults},listeners:{"interactions:before-action-move":D,"interactions:action-resume":D,"interactions:action-move":C,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,i=n.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||r&n.options.drag.mouseButtons))return e.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(e){return S(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):k(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:D,move:C,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(e){return 0===e.search("drag")}},z=j,R={init:function(e){var t=e;R.document=t.document,R.DocumentFragment=t.DocumentFragment||L,R.SVGElement=t.SVGElement||L,R.SVGSVGElement=t.SVGSVGElement||L,R.SVGElementInstance=t.SVGElementInstance||L,R.Element=t.Element||L,R.HTMLElement=t.HTMLElement||R.Element,R.Event=t.Event,R.Touch=t.Touch||L,R.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function L(){}var A=R,$={init:function(e){var t=A.Element,n=e.navigator||{};$.supportsTouch="ontouchstart"in e||O(e.DocumentTouch)&&A.document instanceof e.DocumentTouch,$.supportsPointerEvent=!1!==n.pointerEnabled&&!!A.PointerEvent,$.isIOS=/iP(hone|od|ad)/.test(n.platform),$.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),$.isIe9=/MSIE 9/.test(n.userAgent),$.isOperaMobile="Opera"===n.appName&&$.supportsTouch&&/Presto/.test(n.userAgent),$.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",$.pEventTypes=$.supportsPointerEvent?A.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,$.wheelEvent=A.document&&"onmousewheel"in A.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},H=$;function W(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function F(e,t){for(;P(e);){if(N(e,t))return e;e=Y(e)}return null}function Y(e){var t=e.parentNode;if(w(t)){for(;(t=t.host)&&w(t););return t}return t}function N(e,t){return v!==m&&(t=t.replace(/\/deep\//g," ")),e[H.prefixedMatchesSelector](t)}var U=function(e){return e.parentNode||e.host};function G(e,t){for(var n,r=[],i=e;(n=U(i))&&i!==t&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function K(e,t,n){for(;P(e);){if(N(e,t))return!0;if((e=Y(e))===n)return N(e,t)}return!1}function X(e){return e.correspondingUseElement||e}function B(e){var t=e instanceof A.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function V(e){var t,n=B(e);if(!H.isIOS7&&n){var r={x:(t=(t=b(e))||v).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n}function Z(e){for(var t=[];e;)t.push(e),e=Y(e);return t}function q(e){return!!E(e)&&(A.document.querySelector(e),!0)}function J(e,t){for(var n in t)e[n]=t[n];return e}function Q(e,t,n){return"parent"===e?Y(n):"self"===e?t.getRect(n):F(n,e)}function ee(e,t,n,r){var i=e;return E(i)?i=Q(i,t,n):O(i)&&(i=i.apply(void 0,r)),P(i)&&(i=V(i)),i}function te(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function ne(e){return!e||"x"in e&&"y"in e||((e=J({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function re(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function ie(e,t,n){var r=n&&e.options[n];return te(ee(r&&r.origin||e.options.origin,e,t,[e&&t]))||{x:0,y:0}}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},r=arguments.length>3?arguments[3]:void 0;if(r=r||{},E(e)&&-1!==e.search(" ")&&(e=se(e)),I(e))return e.forEach(function(e){return oe(e,t,n,r)}),r;if(S(e)&&(t=e,e=""),O(t)&&n(e))r[e]=r[e]||[],r[e].push(t);else if(I(t))for(var i=0,o=t;i<o.length;i++){var s=o[i];oe(e,s,n,r)}else if(S(t))for(var a in t)oe(se(a).map(function(t){return"".concat(e).concat(t)}),t[a],n,r);return r}function se(e){return e.trim().split(/ +/)}var ae=function(e,t){return Math.sqrt(e*e+t*t)},le=["webkit","moz"];function ce(e,t){e.__set||(e.__set={});var n=function(n){if(le.some(function(e){return 0===n.indexOf(e)}))return 1;"function"!=typeof e[n]&&"__set"!==n&&Object.defineProperty(e,n,{get:function(){return n in e.__set?e.__set[n]:e.__set[n]=t[n]},set:function(t){e.__set[n]=t},configurable:!0})};for(var r in t)n(r);return e}function ue(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function pe(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function de(e){return e instanceof A.Event||e instanceof A.Touch}function he(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function fe(e,t){return t=t||{x:0,y:0},H.isOperaMobile&&de(e)?(he("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):he("page",e,t),t}function me(e){return _(e.pointerId)?e.pointerId:e.identifier}function ve(e){var t=[];return I(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ge(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var i in t)t[i]+=r[i]}for(var o in t)t[o]/=e.length;return t}function be(e){if(!e.length)return null;var t=ve(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}}function ye(e,t){var n=t+"X",r=t+"Y",i=ve(e),o=i[0][n]-i[1][n],s=i[0][r]-i[1][r];return ae(o,s)}function xe(e,t){var n=t+"X",r=t+"Y",i=ve(e),o=i[1][n]-i[0][n],s=i[1][r]-i[0][r];return 180*Math.atan2(s,o)/Math.PI}function Te(e){return E(e.pointerType)?e.pointerType:_(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof A.Touch?"touch":"mouse"}function we(e){var t=O(e.composedPath)?e.composedPath():e.path;return[X(t?t[0]:e.target),X(e.currentTarget)]}var Se=function(){function e(t){r(this,e),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return i(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();Object.defineProperty(Se.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Oe=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e},_e=function(e){return Oe([],e)},ke=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},Ee=function(e,t){return e[ke(e,t)]},Pe=function(e){s(n,e);var t=u(n);function n(e,i,o){var s;r(this,n),(s=t.call(this,i._interaction)).dropzone=void 0,s.dragEvent=void 0,s.relatedTarget=void 0,s.draggable=void 0,s.propagationStopped=!1,s.immediatePropagationStopped=!1;var a="dragleave"===o?e.prev:e.cur,l=a.element,c=a.dropzone;return s.type=o,s.target=l,s.currentTarget=l,s.dropzone=c,s.dragEvent=i,s.relatedTarget=i.target,s.draggable=i.interactable,s.timeStamp=i.timeStamp,s}return i(n,[{key:"reject",value:function(){var e=this,t=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&t.cur.dropzone===this.dropzone&&t.cur.element===this.target)if(t.prev.dropzone=this.dropzone,t.prev.element=this.target,t.rejected=!0,t.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var r=t.activeDrops,i=ke(r,function(t){var n=t.dropzone,r=t.element;return n===e.dropzone&&r===e.target});t.activeDrops.splice(i,1);var o=new n(t,this.dragEvent,"dropdeactivate");o.dropzone=this.dropzone,o.target=this.target,this.dropzone.fire(o)}else this.dropzone.fire(new n(t,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(Se);function Me(e,t){for(var n=0,r=e.slice();n<r.length;n++){var i=r[n],o=i.dropzone,s=i.element;t.dropzone=o,t.target=s,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Ie(e,t){for(var n=function(e,t){for(var n=[],r=0,i=e.interactables.list;r<i.length;r++){var o=i[r];if(o.options.drop.enabled){var s=o.options.drop.accept;if(!(P(s)&&s!==t||E(s)&&!N(t,s)||O(s)&&!s({dropzone:o,draggableElement:t})))for(var a=0,l=o.getAllElements();a<l.length;a++){var c=l[a];c!==t&&n.push({dropzone:o,element:c,rect:o.getRect(c)})}}}return n}(e,t),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function De(e,t,n){for(var r=e.dropState,i=e.interactable,o=e.element,s=[],a=0,l=r.activeDrops;a<l.length;a++){var c=l[a],u=c.dropzone,p=c.element,d=c.rect,h=u.dropCheck(t,n,i,o,p,d);s.push(h?p:null)}var f=function(e){for(var t,n,r,i=[],o=0;o<e.length;o++){var s=e[o],a=e[t];if(s&&o!==t)if(a){var l=U(s),c=U(a);if(l!==s.ownerDocument)if(c!==s.ownerDocument)if(l!==c){i=i.length?i:G(a);var u=void 0;if(a instanceof A.HTMLElement&&s instanceof A.SVGElement&&!(s instanceof A.SVGSVGElement)){if(s===c)continue;u=s.ownerSVGElement}else u=s;for(var p=G(u,a.ownerDocument),d=0;p[d]&&p[d]===i[d];)d++;var h=[p[d-1],p[d],i[d]];if(h[0])for(var f=h[0].lastChild;f;){if(f===h[1]){t=o,i=p;break}if(f===h[2])break;f=f.previousSibling}}else r=a,(parseInt(b(n=s).getComputedStyle(n).zIndex,10)||0)>=(parseInt(b(r).getComputedStyle(r).zIndex,10)||0)&&(t=o);else t=o}else t=o}return t}(s);return r.activeDrops[f]||null}function Ce(e,t,n){var r=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new Pe(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new Pe(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new Pe(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new Pe(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new Pe(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new Pe(r,n,"dropmove"),n.dropzone=r.cur.dropzone)),i}function je(e,t){var n=e.dropState,r=n.activeDrops,i=n.cur,o=n.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&Me(r,t.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function ze(e,t){var n=e.interaction,r=e.iEvent,i=e.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;t.dynamicDrop&&(o.activeDrops=Ie(t,n.element));var s=r,a=De(n,s,i);o.rejected=o.rejected&&!!a&&a.dropzone===o.cur.dropzone&&a.element===o.cur.element,o.cur.dropzone=a&&a.dropzone,o.cur.element=a&&a.element,o.events=Ce(n,0,s)}}var Re={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,i=e.defaults;e.usePlugin(z),r.prototype.dropzone=function(e){return function(e,t){if(S(t)){if(e.options.drop.enabled=!1!==t.enabled,t.listeners){var n=oe(t.listeners),r=Object.keys(n).reduce(function(e,t){return e[/^(enter|leave)/.test(t)?"drag".concat(t):/^(activate|deactivate|move)/.test(t)?"drop".concat(t):t]=n[t],e},{}),i=e.options.drop.listeners;i&&e.off(i),e.on(r),e.options.drop.listeners=r}return O(t.ondrop)&&e.on("drop",t.ondrop),O(t.ondropactivate)&&e.on("dropactivate",t.ondropactivate),O(t.ondropdeactivate)&&e.on("dropdeactivate",t.ondropdeactivate),O(t.ondragenter)&&e.on("dragenter",t.ondragenter),O(t.ondragleave)&&e.on("dragleave",t.ondragleave),O(t.ondropmove)&&e.on("dropmove",t.ondropmove),/^(pointer|center)$/.test(t.overlap)?e.options.drop.overlap=t.overlap:_(t.overlap)&&(e.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),"accept"in t&&(e.options.drop.accept=t.accept),"checker"in t&&(e.options.drop.checker=t.checker),e}return k(t)?(e.options.drop.enabled=t,e):e.options.drop}(this,e)},r.prototype.dropCheck=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var a=!1;if(!(s=s||e.getRect(o)))return!!e.options.drop.checker&&e.options.drop.checker(t,n,a,e,o,r,i);var l=e.options.drop.overlap;if("pointer"===l){var c=ie(r,i,"drag"),u=fe(t);u.x+=c.x,u.y+=c.y;var p=u.x>s.left&&u.x<s.right,d=u.y>s.top&&u.y<s.bottom;a=p&&d}var h=r.getRect(i);if(h&&"center"===l){var f=h.left+h.width/2,m=h.top+h.height/2;a=f>=s.left&&f<=s.right&&m>=s.top&&m<=s.bottom}return h&&_(l)&&(a=Math.max(0,Math.min(s.right,h.right)-Math.max(s.left,h.left))*Math.max(0,Math.min(s.bottom,h.bottom)-Math.max(s.top,h.top))/(h.width*h.height)>=l),e.options.drop.checker&&(a=e.options.drop.checker(t,n,a,e,o,r,i)),a}(this,e,t,n,r,i,o)},n.dynamicDrop=function(t){return k(t)?(e.dynamicDrop=t,n):e.dynamicDrop},J(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=Re.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;"drag"===t.prepared.name&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=[],i.events={},i.activeDrops=Ie(t,n.element),i.events=Ce(n,0,r),i.events.activate&&(Me(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":ze,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;if("drag"===n.prepared.name){var i=n.dropState;je(n,i.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),i.events={}}},"interactions:action-end":function(e,t){if("drag"===e.interaction.prepared.name){var n=e.interaction,r=e.iEvent;ze(e,t),je(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if("drag"===t.prepared.name){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Ie,getDrop:De,getDropEvents:Ce,fireDropEvents:je,filterEventType:function(e){return 0===e.search("drag")||0===e.search("drop")},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Le=Re;function Ae(e){var t=e.interaction,n=e.iEvent,r=e.phase;if("gesture"===t.prepared.name){var i=t.pointers.map(function(e){return e.pointer}),o="start"===r,s="end"===r,a=t.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],o)n.distance=ye(i,a),n.box=be(i),n.scale=1,n.ds=0,n.angle=xe(i,a),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(s||t.pointers.length<2){var l=t.prevEvent;n.distance=l.distance,n.box=l.box,n.scale=l.scale,n.ds=0,n.angle=l.angle,n.da=0}else n.distance=ye(i,a),n.box=be(i),n.scale=n.distance/t.gesture.startDistance,n.angle=xe(i,a),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,_(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}var $e={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(e){return S(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):k(e)?(this.options.gesture.enabled=e,this):this.options.gesture},t.map.gesture=$e,t.methodDict.gesture="gesturable",r.actions.gesture=$e.defaults},listeners:{"interactions:action-start":Ae,"interactions:action-move":Ae,"interactions:action-end":Ae,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(e){return 0===e.search("gesture")}},He=$e;function We(e,t,n,r,i,o,s){if(!t)return!1;if(!0===t){var a=_(o.width)?o.width:o.right-o.left,l=_(o.height)?o.height:o.bottom-o.top;if(s=Math.min(s,Math.abs(("left"===e||"right"===e?a:l)/2)),a<0&&("left"===e?e="right":"right"===e&&(e="left")),l<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e){var c=a>=0?o.left:o.right;return n.x<c+s}if("top"===e){var u=l>=0?o.top:o.bottom;return n.y<u+s}if("right"===e)return n.x>(a>=0?o.right:o.left)-s;if("bottom"===e)return n.y>(l>=0?o.bottom:o.top)-s}return!!P(r)&&(P(t)?t===r:K(r,t,i))}function Fe(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=t;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}var Ye,Ne,Ue={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,i=e.defaults;Ue.cursors=n.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"},Ue.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(t){return n=this,i=e,S(r=t)?(n.options.resize.enabled=!1!==r.enabled,n.setPerAction("resize",r),n.setOnEvents("resize",r),E(r.axis)&&/^x$|^y$|^xy$/.test(r.axis)?n.options.resize.axis=r.axis:null===r.axis&&(n.options.resize.axis=i.defaults.actions.resize.axis),k(r.preserveAspectRatio)?n.options.resize.preserveAspectRatio=r.preserveAspectRatio:k(r.square)&&(n.options.resize.square=r.square),n):k(r)?(n.options.resize.enabled=r,n):n.options.resize;var n,r,i},t.map.resize=Ue,t.methodDict.resize="resizable",i.actions.resize=Ue.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.rect;n._rects={start:J({},i),corrected:J({},i),previous:J({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}})(e),Fe(e)},"interactions:action-move":function(e){(function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,s=n.rect,a=n._rects,l=a.start,c=a.corrected,u=a.delta,p=a.previous;if(J(p,c),o){if(J(c,s),"reposition"===i){if(c.top>c.bottom){var d=c.top;c.top=c.bottom,c.bottom=d}if(c.left>c.right){var h=c.left;c.left=c.right,c.right=h}}}else c.top=Math.min(s.top,l.bottom),c.bottom=Math.max(s.bottom,l.top),c.left=Math.min(s.left,l.right),c.right=Math.max(s.right,l.left);for(var f in c.width=c.right-c.left,c.height=c.bottom-c.top,c)u[f]=c[f]-p[f];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=u}})(e),Fe(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,i=e.rect,o=e.buttons;if(i){var s=J({},t.coords.cur.page),a=n.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||o&a.mouseButtons)){if(S(a.edges)){var l={left:!1,right:!1,top:!1,bottom:!1};for(var c in l)l[c]=We(c,a.edges[c],s,t._latestPointer.eventTarget,r,i,a.margin||Ue.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(e.action={name:"resize",edges:l})}else{var u="y"!==a.axis&&s.x>i.right-Ue.defaultMargin,p="x"!==a.axis&&s.y>i.bottom-Ue.defaultMargin;(u||p)&&(e.action={name:"resize",axes:(u?"x":"")+(p?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,i=Ue.cursors,o=null;if(n)o=i[r+n];else if(t){for(var s="",a=0,l=["top","bottom","left","right"];a<l.length;a++){var c=l[a];t[c]&&(s+=c)}o=i[s]}return o},filterEventType:function(e){return 0===e.search("resize")},defaultMargin:null},Ge=Ue,Ke={id:"actions",install:function(e){e.usePlugin(He),e.usePlugin(Ge),e.usePlugin(z),e.usePlugin(Le)}},Xe=0,Be=function(e){return Ye(e)},Ve=function(e){return Ne(e)},Ze=function(e){if(Ye=e.requestAnimationFrame,Ne=e.cancelAnimationFrame,!Ye)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];Ye=e["".concat(r,"RequestAnimationFrame")],Ne=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}Ye=Ye&&Ye.bind(e),Ne=Ne&&Ne.bind(e),Ye||(Ye=function(t){var n=Date.now(),r=Math.max(0,16-(n-Xe)),i=e.setTimeout(function(){t(n+r)},r);return Xe=n+r,i},Ne=function(e){return clearTimeout(e)})},qe={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){qe.isScrolling=!0,Ve(qe.i),e.autoScroll=qe,qe.interaction=e,qe.prevTime=qe.now(),qe.i=Be(qe.scroll)},stop:function(){qe.isScrolling=!1,qe.interaction&&(qe.interaction.autoScroll=null),Ve(qe.i)},scroll:function(){var e=qe.interaction,t=e.interactable,n=e.element,r=e.prepared.name,i=t.options[r].autoScroll,o=Je(i.container,t,n),s=qe.now(),a=(s-qe.prevTime)/1e3,l=i.speed*a;if(l>=1){var c={x:qe.x*l,y:qe.y*l};if(c.x||c.y){var u=Qe(o);T(o)?o.scrollBy(c.x,c.y):o&&(o.scrollLeft+=c.x,o.scrollTop+=c.y);var p=Qe(o),d={x:p.x-u.x,y:p.y-u.y};(d.x||d.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:d,interaction:e,container:o})}qe.prevTime=s}qe.isScrolling&&(Ve(qe.i),qe.i=Be(qe.scroll))},check:function(e,t){var n;return null==(n=e.options[t].autoScroll)?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&qe.check(t.interactable,t.prepared.name))if(t.simulation)qe.x=qe.y=0;else{var r,i,o,s,a=t.interactable,l=t.element,c=t.prepared.name,u=a.options[c].autoScroll,p=Je(u.container,a,l);if(T(p))s=n.clientX<qe.margin,r=n.clientY<qe.margin,i=n.clientX>p.innerWidth-qe.margin,o=n.clientY>p.innerHeight-qe.margin;else{var d=B(p);s=n.clientX<d.left+qe.margin,r=n.clientY<d.top+qe.margin,i=n.clientX>d.right-qe.margin,o=n.clientY>d.bottom-qe.margin}qe.x=i?1:s?-1:0,qe.y=o?1:r?-1:0,qe.isScrolling||(qe.margin=u.margin,qe.speed=u.speed,qe.start(t))}}};function Je(e,t,n){return(E(e)?Q(e,t,n):e)||b(n)}function Qe(e){return T(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var et={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=qe,qe.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=qe.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,qe.stop(),qe.interaction&&(qe.interaction=null)},"interactions:stop":qe.stop,"interactions:action-move":function(e){return qe.onInteractionMove(e)}}};function tt(e,t){var n=!1;return function(){return n||(v.console.warn(t),n=!0),e.apply(this,arguments)}}function nt(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function rt(e){return k(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor}function it(e){return O(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker}var ot={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(t,n,r,i){var o,s,a,l,c,u,p,d=(s=n,a=r,l=i,c=e,u=(o=this).getRect(l),p={action:null,interactable:o,interaction:a,element:l,rect:u,buttons:s.buttons||{0:1,1:4,3:8,4:16}[s.button]},c.fire("auto-start:check",p),p.action);return this.options.actionChecker?this.options.actionChecker(t,n,d,this,i,r):d},t.prototype.ignoreFrom=tt(function(e){return this._backCompatOption("ignoreFrom",e)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=tt(function(e){return this._backCompatOption("allowFrom",e)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=it,t.prototype.styleCursor=rt}};function st(e,t,n,r,i){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&ut(t,n,e,i)?e:null}function at(e,t,n,r,i,o,s){for(var a=0,l=r.length;a<l;a++){var c=r[a],u=i[a],p=c.getAction(t,n,e,u);if(p){var d=st(p,c,u,o,s);if(d)return{action:d,interactable:c,element:u}}}return{action:null,interactable:null,element:null}}function lt(e,t,n,r,i){var o=[],s=[],a=r;function l(e){o.push(e),s.push(a)}for(;P(a);){o=[],s=[],i.interactables.forEachMatch(a,l);var c=at(e,t,n,o,s,r,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=Y(a)}return{action:null,interactable:null,element:null}}function ct(e,t,n){var r=t.action,i=t.interactable,o=t.element;r=r||{name:null},e.interactable=i,e.element=o,nt(e.prepared,r),e.rect=i&&r.name?i.getRect(o):null,ht(e,n),n.fire("autoStart:prepared",{interaction:e})}function ut(e,t,n,r){var i=e.options,o=i[n.name].max,s=i[n.name].maxPerElement,a=r.autoStart.maxInteractions,l=0,c=0,u=0;if(!(o&&s&&a))return!1;for(var p=0,d=r.interactions.list;p<d.length;p++){var h=d[p],f=h.prepared.name;if(h.interacting()&&(++l>=a||h.interactable===e&&((c+=f===n.name?1:0)>=o||h.element===t&&(u++,f===n.name&&u>=s))))return!1}return a>0}function pt(e,t){return _(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function dt(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function ht(e,t){var n=e.interactable,r=e.element,i=e.prepared;if("mouse"===e.pointerType&&n&&n.options.styleCursor){var o="";if(i.name){var s=n.options[i.name].cursorChecker;o=O(s)?s(i,n,r,e._interacting):t.actions.map[i.name].getCursor(i)}dt(e.element,o||"",t)}else t.autoStart.cursorElement&&dt(t.autoStart.cursorElement,"",t)}var ft={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(ot),n.base.actionChecker=null,n.base.styleCursor=!0,J(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(t){return pt(t,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:ut,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;n.interacting()||ct(n,lt(n,r,i,o,t),t)},"interactions:move":function(e,t){var n,r,i,o,s,a;r=t,i=(n=e).interaction,o=n.pointer,s=n.event,a=n.eventTarget,"mouse"!==i.pointerType||i.pointerIsDown||i.interacting()||ct(i,lt(i,o,s,a,r),r),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!ut(r,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,r,n.element),ht(n,t)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&dt(n.element,"",t)}},maxInteractions:pt,withinInteractionLimit:ut,validateAction:st},mt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,i=e.dx,o=e.dy;if("drag"===n.prepared.name){var s=Math.abs(i),a=Math.abs(o),l=n.interactable.options.drag,c=l.startAxis,u=s>a?"x":s<a?"y":"xy";if(n.prepared.axis="start"===l.lockAxis?u[0]:l.lockAxis,"xy"!==u&&"xy"!==c&&c!==u){n.prepared.name=null;for(var p=r,d=function(e){if(e!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&e.testIgnoreAllow(i,p,r)){var o=e.getAction(n.downPointer,n.downEvent,n,p);if(o&&"drag"===o.name&&function(e,t){if(!t)return!1;var n=t.options.drag.startAxis;return"xy"===e||"xy"===n||n===e}(u,e)&&ft.validateAction(o,e,p,r,t))return e}}};P(p);){var h=t.interactables.forEachMatch(p,d);if(h){n.prepared.name="drag",n.interactable=h,n.element=p;break}p=Y(p)}}}}}};function vt(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}var gt={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(ft),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=vt(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;vt(t)>0&&(t.prepared.name=null)}},getHoldDuration:vt},bt={id:"auto-start",install:function(e){e.usePlugin(ft),e.usePlugin(gt),e.usePlugin(mt)}},yt=function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):k(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault};function xt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}var Tt={id:"core/interactablePreventDefault",install:function(e){var t=e.Interactable;t.prototype.preventDefault=yt,t.prototype.checkAndPreventDefault=function(t){return function(e,t,n){var r=e.options.preventDefault;if("never"!==r)if("always"!==r){if(t.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var i=b(n.target).document,o=t.getDocOptions(i);if(!o||!o.events||!1!==o.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||P(n.target)&&N(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,e,t)},e.interactions.docEvents.push({type:"dragstart",listener:function(t){for(var n=0,r=e.interactions.list;n<r.length;n++){var i=r[n];if(i.element&&(i.element===t.target||W(i.element,t.target)))return void i.interactable.checkAndPreventDefault(t)}}})},listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=xt,e},{})};function wt(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(0===e.indexOf(n)&&e.substr(n.length)in t.phases)return!0;return!1}function St(e){var t={};for(var n in e){var r=e[n];M(r)?t[n]=St(r):I(r)?t[n]=_e(r):t[n]=r}return t}var Ot=function(){function e(t){r(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=_t(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return i(e,[{key:"start",value:function(e,t){var n,r,i,o,s,a=e.phase,l=this.interaction,c=(s=(o=(i=l).interactable.options[i.prepared.name]).modifiers)&&s.length?s:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(e){var t=o[e];return t&&t.enabled&&{options:t,methods:t._methods}}).filter(function(e){return!!e});this.prepareStates(c),this.startEdges=J({},l.edges),this.edges=J({},this.startEdges),this.startOffset=(r=t,(n=l.rect)?{left:r.x-n.left,top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var u=this.fillArg({phase:a,pageCoords:t,preEnd:!1});return this.result=_t(),this.startAll(u),this.result=this.setAll(u)}},{key:"fillArg",value:function(e){var t=this.interaction;return e.interaction=t,e.interactable=t.interactable,e.element=t.element,e.rect||(e.rect=t.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var t=0,n=this.states;t<n.length;t++){var r=n[t];r.methods.start&&(e.state=r,r.methods.start(e))}}},{key:"setAll",value:function(e){var t=e.phase,n=e.preEnd,r=e.skipModifiers,i=e.rect,o=e.edges;e.coords=J({},e.pageCoords),e.rect=J({},i),e.edges=J({},o);for(var s=r?this.states.slice(r):this.states,a=_t(e.coords,e.rect),l=0;l<s.length;l++){var c,u=s[l],p=u.options,d=J({},e.coords),h=null;null!=(c=u.methods)&&c.set&&this.shouldDo(p,n,t)&&(e.state=u,h=u.methods.set(e),re(e.edges,e.rect,{x:e.coords.x-d.x,y:e.coords.y-d.y})),a.eventProps.push(h)}J(this.edges,e.edges),a.delta.x=e.coords.x-e.pageCoords.x,a.delta.y=e.coords.y-e.pageCoords.y,a.rectDelta.left=e.rect.left-i.left,a.rectDelta.right=e.rect.right-i.right,a.rectDelta.top=e.rect.top-i.top,a.rectDelta.bottom=e.rect.bottom-i.bottom;var f=this.result.coords,m=this.result.rect;if(f&&m){var v=a.rect.left!==m.left||a.rect.right!==m.right||a.rect.top!==m.top||a.rect.bottom!==m.bottom;a.changed=v||f.x!==a.coords.x||f.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(e){var t=this.interaction,n=e.phase,r=t.coords.cur,i=t.coords.start,o=this.result,s=this.startDelta,a=o.delta;"start"===n&&J(this.startDelta,o.delta);for(var l=0,c=[[i,s],[r,a]];l<c.length;l++){var u=c[l],p=u[0],d=u[1];p.page.x+=d.x,p.page.y+=d.y,p.client.x+=d.x,p.client.y+=d.y}var h=this.result.rectDelta,f=e.rect||t.rect;f.left+=h.left,f.right+=h.right,f.top+=h.top,f.bottom+=h.bottom,f.width=f.right-f.left,f.height=f.bottom-f.top}},{key:"setAndApply",value:function(e){var t=this.interaction,n=e.phase,r=e.preEnd,i=e.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:e.modifiedCoords||t.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&t.interacting())return!1;if(e.modifiedCoords){var s=t.coords.cur.page,a={x:e.modifiedCoords.x-s.x,y:e.modifiedCoords.y-s.y};o.coords.x+=a.x,o.coords.y+=a.y,o.delta.x+=a.x,o.delta.y+=a.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var t=e.interaction,n=e.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var s=r[o];e.state=s;var a=s.options,l=s.methods,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;i=i||!i&&this.shouldDo(a,!0,e.phase,!0)}i&&t.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var t=e.interaction;if(this.states&&this.states.length){var n=J({states:this.states,interactable:t.interactable,element:t.element,rect:null},e);this.fillArg(n);for(var r=0,i=this.states;r<i.length;r++){var o=i[r];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:t,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var t=e.interaction,n=t.coords,r=t.rect,i=t.modification;if(i.result){for(var o=i.startDelta,s=i.result,a=s.delta,l=s.rectDelta,c=0,u=[[n.start,o],[n.cur,a]];c<u.length;c++){var p=u[c],d=p[0],h=p[1];d.page.x-=h.x,d.page.y-=h.y,d.client.x-=h.x,d.client.y-=h.y}r.left-=l.left,r.right-=l.right,r.top-=l.top,r.bottom-=l.bottom}}},{key:"shouldDo",value:function(e,t,n,r){return!(!e||!1===e.enabled||r&&!e.endOnly||e.endOnly&&!t||"start"===n&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(e){return St(e)}),this.result=_t(J({},e.result.coords),J({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),e}();function _t(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function kt(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(e){var i=e||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var s={options:i,methods:r,name:t,enable:function(){return i.enabled=!0,s},disable:function(){return i.enabled=!1,s}};return s};return t&&"string"==typeof t&&(i._defaults=n,i._methods=r),i}function Et(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}var Pt={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Ot(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,r=n.setAndApply(e);return t.edges=n.edges,r},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,r=n.beforeEnd(e);return t.edges=n.startEdges,r},"interactions:action-start":Et,"interactions:action-move":Et,"interactions:action-end":Et,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Mt={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},It=function(e){s(n,e);var t=u(n);function n(e,i,o,s,a,l,u){var p;r(this,n),(p=t.call(this,e)).relatedTarget=null,p.screenX=void 0,p.screenY=void 0,p.button=void 0,p.buttons=void 0,p.ctrlKey=void 0,p.shiftKey=void 0,p.altKey=void 0,p.metaKey=void 0,p.page=void 0,p.client=void 0,p.delta=void 0,p.rect=void 0,p.x0=void 0,p.y0=void 0,p.t0=void 0,p.dt=void 0,p.duration=void 0,p.clientX0=void 0,p.clientY0=void 0,p.velocity=void 0,p.speed=void 0,p.swipe=void 0,p.axes=void 0,p.preEnd=void 0,a=a||e.element;var d=e.interactable,h=(d&&d.options||Mt).deltaSource,f=ie(d,a,o),m="start"===s,v="end"===s,g=m?c(p):e.prevEvent,b=m?e.coords.start:v?{page:g.page,client:g.client,timeStamp:e.coords.cur.timeStamp}:e.coords.cur;return p.page=J({},b.page),p.client=J({},b.client),p.rect=J({},e.rect),p.timeStamp=b.timeStamp,v||(p.page.x-=f.x,p.page.y-=f.y,p.client.x-=f.x,p.client.y-=f.y),p.ctrlKey=i.ctrlKey,p.altKey=i.altKey,p.shiftKey=i.shiftKey,p.metaKey=i.metaKey,p.button=i.button,p.buttons=i.buttons,p.target=a,p.currentTarget=a,p.preEnd=l,p.type=u||o+(s||""),p.interactable=d,p.t0=m?e.pointers[e.pointers.length-1].downTime:g.t0,p.x0=e.coords.start.page.x-f.x,p.y0=e.coords.start.page.y-f.y,p.clientX0=e.coords.start.client.x-f.x,p.clientY0=e.coords.start.client.y-f.y,p.delta=m||v?{x:0,y:0}:{x:p[h].x-g[h].x,y:p[h].y-g[h].y},p.dt=e.coords.delta.timeStamp,p.duration=p.timeStamp-p.t0,p.velocity=J({},e.coords.velocity[h]),p.speed=ae(p.velocity.x,p.velocity.y),p.swipe=v||"inertiastart"===s?p.getSwipe():null,p}return i(n,[{key:"getSwipe",value:function(){var e=this._interaction;if(e.prevEvent.speed<600||this.timeStamp-e.prevEvent.timeStamp>150)return null;var t=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;t<0&&(t+=360);var n=112.5<=t&&t<247.5,r=202.5<=t&&t<337.5;return{up:r,down:!r&&22.5<=t&&t<157.5,left:n,right:!n&&(292.5<=t||t<67.5),angle:t,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(Se);Object.defineProperties(It.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Dt,Ct=i(function e(t,n,i,o,s){r(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=o,this.downTarget=s}),jt=((Dt={}).interactable="",Dt.element="",Dt.prepared="",Dt.pointerIsDown="",Dt.pointerWasMoved="",Dt._proxy="",Dt),zt=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),Rt=0,Lt=function(){function e(t){var n=this,i=t.pointerType,o=t.scopeFire;r(this,e),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=tt(function(e){this.move(e)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Rt++,this._scopeFire=o,this.pointerType=i;var s=this;this._proxy={};var a=function(e){Object.defineProperty(n._proxy,e,{get:function(){return s[e]}})};for(var l in jt)a(l);var c=function(e){Object.defineProperty(n._proxy,e,{value:function(){return s[e].apply(s,arguments)}})};for(var u in zt)c(u);this._scopeFire("interactions:new",{interaction:this})}return i(e,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,t,n){var r=this.updatePointer(e,t,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:t,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(e,t,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===e.name?2:1)||!t.options[e.name].enabled)&&(nt(this.prepared,e),this.interactable=t,this.element=n,this.rect=t.getRect(n),this.edges=this.prepared.edges?J({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,t,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,t,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ae(r,i)>this.pointerMoveTolerance);var s,a,l,c=this.getPointerIndex(e),u={pointer:e,pointerIndex:c,pointerInfo:this.pointers[c],event:t,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||(s=this.coords.velocity,a=this.coords.delta,l=Math.max(a.timeStamp/1e3,.001),s.page.x=a.page.x/l,s.page.y=a.page.y/l,s.client.x=a.client.x/l,s.client.y=a.client.y/l,s.timeStamp=l),this._scopeFire("interactions:move",u),o||this.simulation||(this.interacting()&&(u.type=null,this.move(u)),this.pointerWasMoved&&ue(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||pe(this.coords.delta),(e=J({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,t,n,r){var i=this.getPointerIndex(e);-1===i&&(i=this.updatePointer(e,t,n,!1));var o=/cancel$/i.test(t.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:e,pointerIndex:i,pointerInfo:this.pointers[i],event:t,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(t),this.removePointer(e,t)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var t;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(t=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,!0===t&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var t=me(e);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:ke(this.pointers,function(e){return e.id===t})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,t,n,r){var i,o,s,a=me(e),l=this.getPointerIndex(e),c=this.pointers[l];return r=!1!==r&&(r||/(down|start)$/i.test(t.type)),c?c.pointer=e:(c=new Ct(a,e,t,null,null),l=this.pointers.length,this.pointers.push(c)),function(e,t,n){var r,i,o=t.length>1?ge(t):t[0];fe(o,e.page),r=o,i=(i=e.client)||{},H.isOperaMobile&&de(r)?he("screen",r,i):he("client",r,i),e.timeStamp=n}(this.coords.cur,this.pointers.map(function(e){return e.pointer}),this._now()),i=this.coords.delta,o=this.coords.prev,s=this.coords.cur,i.page.x=s.page.x-o.page.x,i.page.y=s.page.y-o.page.y,i.client.x=s.client.x-o.client.x,i.client.y=s.client.y-o.client.y,i.timeStamp=s.timeStamp-o.timeStamp,r&&(this.pointerIsDown=!0,c.downTime=this.coords.cur.timeStamp,c.downTarget=n,ce(this.downPointer,e),this.interacting()||(ue(this.coords.start,this.coords.cur),ue(this.coords.prev,this.coords.cur),this.downEvent=t,this.pointerWasMoved=!1)),this._updateLatestPointer(e,t,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:t,eventTarget:n,down:r,pointerInfo:c,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(e,t){var n=this.getPointerIndex(e);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:t,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,t,n){this._latestPointer.pointer=e,this._latestPointer.event=t,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,t,n,r){return new It(this,e,this.prepared.name,t,this.element,n,r)}},{key:"_fireEvent",value:function(e){var t;null==(t=this.interactable)||t.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var t=e.event,n=e.phase,r=e.preEnd,i=e.type,o=this.rect;if(o&&"move"===n&&(re(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),e))return!1;var s=e.iEvent=this._createPreparedEvent(t,n,r,i);return this._scopeFire("interactions:action-".concat(n),e),"start"===n&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();function At(e){$t(e.interaction)}function $t(e){if(!(t=e).offset.pending.x&&!t.offset.pending.y)return!1;var t,n=e.offset.pending;return Wt(e.coords.cur,n),Wt(e.coords.delta,n),re(e.edges,e.rect,n),n.x=0,n.y=0,!0}function Ht(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Wt(e,t){var n=e.page,r=e.client,i=t.x,o=t.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}zt.offsetBy="";var Ft={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Ht},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){var t;(t=e.interaction).pointerIsDown&&(Wt(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)},"interactions:before-action-start":At,"interactions:before-action-move":At,"interactions:before-action-end":function(e){var t=e.interaction;if($t(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Yt=function(){function e(t){r(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return i(e,[{key:"start",value:function(e){var t=this.interaction,n=Nt(t);if(!n||!n.enabled)return!1;var r=t.coords.velocity.client,i=ae(r.x,r.y),o=this.modification||(this.modification=new Ot(t));if(o.copyFrom(t.modification),this.t0=t._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=t.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-t.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return t.modification.result.rect=null,t.offsetBy(this.targetOffset),t._doPhase({interaction:t,event:e,phase:"inertiastart"}),t.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),t.modification.result.rect=null,this.active=!0,t.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,t=this.interaction.coords.velocity.client,n=Nt(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(t.x-i)/r,y:(t.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,s=this.modifierArg;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(s),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var t=this;this.timeout=Be(function(){t.active&&e()})}},{key:"inertiaTick",value:function(){var e,t,n,r,i,o=this,s=this.interaction,a=Nt(s).resistance,l=(s._now()-this.t0)/1e3;if(l<this.te){var c,u=1-(Math.exp(-a*l)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=this.targetOffset.x,t=this.targetOffset.y,n=this.modifiedOffset.x,r=this.modifiedOffset.y,c={x:Ut(i=u,0,e,n),y:Ut(i,0,t,r)}):c={x:this.targetOffset.x*u,y:this.targetOffset.y*u};var p={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=p.x,this.currentOffset.y+=p.y,s.offsetBy(p),s.move(),this.onNextFrame(function(){return o.inertiaTick()})}else s.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,t=this.interaction,n=t._now()-this.t0,r=Nt(t).smoothEndDuration;if(n<r){var i={x:Gt(n,0,this.targetOffset.x,r),y:Gt(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,t.offsetBy(o),t.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else t.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var t=e.pointer,n=e.event,r=e.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(t,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),ue(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ve(this.timeout)}}]),e}();function Nt(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}function Ut(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function Gt(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Kt={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Ft),e.usePlugin(Pt),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Yt(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var i=n;P(i);){if(i===t.element){r.resume(e);break}i=Y(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Et,"interactions:action-inertiastart":Et,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}var Bt=function(){function e(t){r(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=J({},t||{})}return i(e,[{key:"fire",value:function(e){var t,n=this.global;(t=this.types[e.type])&&Xt(e,t),!e.propagationStopped&&n&&(t=n[e.type])&&Xt(e,t)}},{key:"on",value:function(e,t){var n=oe(e,t);for(e in n)this.types[e]=Oe(this.types[e]||[],n[e])}},{key:"off",value:function(e,t){var n=oe(e,t);for(e in n){var r=this.types[e];if(r&&r.length)for(var i=0,o=n[e];i<o.length;i++){var s=o[i],a=r.indexOf(s);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(e){return null}}]),e}(),Vt=function(){function e(t){r(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,ce(this,t)}return i(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();function Zt(e){return S(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function qt(e,t){return e===t||("boolean"==typeof e?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive)}var Jt={id:"events",install:function(e){var t,n=[],r={},i=[],o={add:s,remove:a,addDelegate:function(e,t,n,o,a){var u=Zt(a);if(!r[n]){r[n]=[];for(var p=0;p<i.length;p++){var d=i[p];s(d,n,l),s(d,n,c,!0)}}var h=r[n],f=Ee(h,function(n){return n.selector===e&&n.context===t});f||(f={selector:e,context:t,listeners:[]},h.push(f)),f.listeners.push({func:o,options:u})},removeDelegate:function(e,t,n,i,o){var s,u=Zt(o),p=r[n],d=!1;if(p)for(s=p.length-1;s>=0;s--){var h=p[s];if(h.selector===e&&h.context===t){for(var f=h.listeners,m=f.length-1;m>=0;m--){var v=f[m];if(v.func===i&&qt(v.options,u)){f.splice(m,1),f.length||(p.splice(s,1),a(t,n,l),a(t,n,c,!0)),d=!0;break}}if(d)break}}},delegateListener:l,delegateUseCapture:c,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function s(e,t,r,i){if(e.addEventListener){var s=Zt(i),a=Ee(n,function(t){return t.eventTarget===e});a||(a={eventTarget:e,events:{}},n.push(a)),a.events[t]||(a.events[t]=[]),Ee(a.events[t],function(e){return e.func===r&&qt(e.options,s)})||(e.addEventListener(t,r,o.supportsOptions?s:s.capture),a.events[t].push({func:r,options:s}))}}function a(e,t,r,i){if(e.addEventListener&&e.removeEventListener){var s=ke(n,function(t){return t.eventTarget===e}),l=n[s];if(l&&l.events)if("all"!==t){var c=!1,u=l.events[t];if(u){if("all"===r){for(var p=u.length-1;p>=0;p--){var d=u[p];a(e,t,d.func,d.options)}return}for(var h=Zt(i),f=0;f<u.length;f++){var m=u[f];if(m.func===r&&qt(m.options,h)){e.removeEventListener(t,r,o.supportsOptions?h:h.capture),u.splice(f,1),0===u.length&&(delete l.events[t],c=!0);break}}}c&&!Object.keys(l.events).length&&n.splice(s,1)}else for(t in l.events)l.events.hasOwnProperty(t)&&a(e,t,"all")}}function l(e,t){for(var n=Zt(t),i=new Vt(e),o=r[e.type],s=we(e)[0],a=s;P(a);){for(var l=0;l<o.length;l++){var c=o[l],u=c.selector,p=c.context;if(N(a,u)&&W(p,s)&&W(p,a)){var d=c.listeners;i.currentTarget=a;for(var h=0;h<d.length;h++){var f=d[h];qt(f.options,n)&&f.func(i)}}}a=Y(a)}}function c(e){return l(e,!0)}return null==(t=e.document)||t.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),e.events=o,o}},Qt={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0,n=Qt.methodOrder;t<n.length;t++){var r=n[t],i=Qt[r](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,i=e.scope;if(!/down|start/i.test(n))return null;for(var o=0,s=i.interactions.list;o<s.length;o++){var a=s[o],l=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===t)for(;l;){if(l===a.element)return a;l=Y(l)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,i=e.eventType,o=e.scope;if("mouse"!==r&&"pen"!==r)return null;for(var s=0,a=o.interactions.list;s<a.length;s++){var l=a[s];if(l.pointerType===r){if(l.simulation&&!en(l,n))continue;if(l.interacting())return l;t||(t=l)}}if(t)return t;for(var c=0,u=o.interactions.list;c<u.length;c++){var p=u[c];if(!(p.pointerType!==r||/down/i.test(i)&&p.simulation))return p}return null},hasPointer:function(e){for(var t=e.pointerId,n=0,r=e.scope.interactions.list;n<r.length;n++){var i=r[n];if(en(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,n=0,r=e.scope.interactions.list;n<r.length;n++){var i=r[n];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function en(e,t){return e.pointers.some(function(e){return e.id===t})}var tn=Qt,nn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function rn(e,t){return function(n){var r=t.interactions.list,i=Te(n),o=we(n),s=o[0],a=o[1],l=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var c=0,u=n.changedTouches;c<u.length;c++){var p=u[c],d={pointer:p,pointerId:me(p),pointerType:i,eventType:n.type,eventTarget:s,curEventTarget:a,scope:t},h=on(d);l.push([d.pointer,d.eventTarget,d.curEventTarget,h])}}else{var f=!1;if(!H.supportsPointerEvent&&/mouse/.test(n.type)){for(var m=0;m<r.length&&!f;m++)f="mouse"!==r[m].pointerType&&r[m].pointerIsDown;f=f||t.now()-t.prevTouchTime<500||0===n.timeStamp}if(!f){var v={pointer:n,pointerId:me(n),pointerType:i,eventType:n.type,curEventTarget:a,eventTarget:s,scope:t},g=on(v);l.push([v.pointer,v.eventTarget,v.curEventTarget,g])}}for(var b=0;b<l.length;b++){var y=l[b],x=y[0],T=y[1],w=y[2];y[3][e](x,n,T,w)}}}function on(e){var t=e.pointerType,n=e.scope,r={interaction:tn.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function sn(e,t){var n=e.doc,r=e.scope,i=e.options,o=r.interactions.docEvents,s=r.events,a=s[t];for(var l in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),s.delegatedEvents)a(n,l,s.delegateListener),a(n,l,s.delegateUseCapture,!0);for(var c=i&&i.events,u=0;u<o.length;u++){var p=o[u];a(n,p.type,p.listener,c)}}var an={id:"core/interactions",install:function(e){for(var t={},n=0;n<nn.length;n++){var o=nn[n];t[o]=rn(o,e)}var a,l=H.pEventTypes;function c(){for(var t=0,n=e.interactions.list;t<n.length;t++){var r=n[t];if(r.pointerIsDown&&"touch"===r.pointerType&&!r._interacting)for(var i=function(){var t=s[o];e.documents.some(function(e){return W(e.doc,t.downTarget)})||r.removePointer(t.pointer,t.event)},o=0,s=r.pointers;o<s.length;o++)i()}}(a=A.PointerEvent?[{type:l.down,listener:c},{type:l.down,listener:t.pointerDown},{type:l.move,listener:t.pointerMove},{type:l.up,listener:t.pointerUp},{type:l.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(t){for(var n=0,r=e.interactions.list;n<r.length;n++)r[n].documentBlur(t)}}),e.prevTouchTime=0,e.Interaction=function(t){s(o,t);var n=u(o);function o(){return r(this,o),n.apply(this,arguments)}return i(o,[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(t){e.interactions.pointerMoveTolerance=t}},{key:"_now",value:function(){return e.now()}}]),o}(Lt),e.interactions={list:[],new:function(t){t.scopeFire=function(t,n){return e.fire(t,n)};var n=new e.Interaction(t);return e.interactions.list.push(n),n},listeners:t,docEvents:a,pointerMoveTolerance:1},e.usePlugin(Tt)},listeners:{"scope:add-document":function(e){return sn(e,"add")},"scope:remove-document":function(e){return sn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var i=t.interactions.list[r];i.interactable===n&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:sn,doOnInteractions:rn,methodNames:nn},ln=an,cn=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(cn||{}),un=function(){function e(t,n,i,o){r(this,e),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Bt,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=b(q(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}return i(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,t){return O(t.onstart)&&this.on("".concat(e,"start"),t.onstart),O(t.onmove)&&this.on("".concat(e,"move"),t.onmove),O(t.onend)&&this.on("".concat(e,"end"),t.onend),O(t.oninertiastart)&&this.on("".concat(e,"inertiastart"),t.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,t,n){var r,i=this,o=null==(r=this._actions.map[e])?void 0:r.filterEventType,s=function(e){return(null==o||o(e))&&wt(e,i._actions)};(I(t)||S(t))&&this._onOff(cn.Off,e,t,void 0,s),(I(n)||S(n))&&this._onOff(cn.On,e,n,void 0,s)}},{key:"setPerAction",value:function(e,t){var n=this._defaults;for(var r in t){var i=r,o=this.options[e],s=t[i];"listeners"===i&&this.updatePerActionListeners(e,o.listeners,s),I(s)?o[i]=_e(s):M(s)?(o[i]=J(o[i]||{},St(s)),S(n.perAction[i])&&"enabled"in n.perAction[i]&&(o[i].enabled=!1!==s.enabled)):k(s)&&S(n.perAction[i])?o[i].enabled=s:o[i]=s}}},{key:"getRect",value:function(e){return e=e||(P(this.target)?this.target:null),E(this.target)&&(e=e||this._context.querySelector(this.target)),V(e)}},{key:"rectChecker",value:function(e){var t=this;return O(e)?(this.getRect=function(n){var r=J({},e.apply(t,n));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):null===e?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,t){if(q(t)||S(t)){for(var n in this.options[e]=t,this._actions.map)this.options[n][e]=t;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return E(e)?Array.from(this._context.querySelectorAll(e)):O(e)&&e.getAllElements?e.getAllElements():P(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||W(this._context,e)}},{key:"testIgnoreAllow",value:function(e,t,n){return!this.testIgnore(e.ignoreFrom,t,n)&&this.testAllow(e.allowFrom,t,n)}},{key:"testAllow",value:function(e,t,n){return!e||!!P(n)&&(E(e)?K(n,e,t):!!P(e)&&W(e,n))}},{key:"testIgnore",value:function(e,t,n){return!(!e||!P(n))&&(E(e)?K(n,e,t):!!P(e)&&W(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,t,n,r,i){S(t)&&!I(t)&&(r=n,n=null);var o=oe(t,n,i);for(var s in o){"wheel"===s&&(s=H.wheelEvent);for(var a=0,l=o[s];a<l.length;a++){var c=l[a];wt(s,this._actions)?this.events[e===cn.On?"on":"off"](s,c):E(this.target)?this._scopeEvents[e===cn.On?"addDelegate":"removeDelegate"](this.target,this._context,s,c,r):this._scopeEvents[e===cn.On?"add":"remove"](this.target,s,c,r)}}return this}},{key:"on",value:function(e,t,n){return this._onOff(cn.On,e,t,n)}},{key:"off",value:function(e,t,n){return this._onOff(cn.Off,e,t,n)}},{key:"set",value:function(e){var t=this._defaults;for(var n in S(e)||(e={}),this.options=St(t.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,J(J({},t.perAction),t.actions[r])),this[i](e[r])}for(var o in e)"getRect"!==o?O(this[o])&&this[o](e[o]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(E(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var t=this._scopeEvents.delegatedEvents[e],n=t.length-1;n>=0;n--){var r=t[n],i=r.selector,o=r.context,s=r.listeners;i===this.target&&o===this._context&&t.splice(n,1);for(var a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[a][0],s[a][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}(),pn=function(){function e(t){var n=this;r(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(e){var t=e.interactable,r=t.target,i=E(r)?n.selectorMap[r]:r[n.scope.id],o=ke(i,function(e){return e===t});i.splice(o,1)}})}return i(e,[{key:"new",value:function(e,t){t=J(t||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,t,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),E(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(n)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(n)),this.scope.fire("interactable:new",{target:e,options:t,interactable:n,win:this.scope._win}),n}},{key:"getExisting",value:function(e,t){var n=t&&t.context||this.scope.document,r=E(e),i=r?this.selectorMap[e]:e[this.scope.id];if(i)return Ee(i,function(t){return t._context===n&&(r||t.inContext(e))})}},{key:"forEachMatch",value:function(e,t){for(var n=0,r=this.list;n<r.length;n++){var i=r[n],o=void 0;if((E(i.target)?P(e)&&N(e,i.target):e===i.target)&&i.inContext(e)&&(o=t(i)),void 0!==o)return o}}}]),e}(),dn=function(){function e(){var t,n,o=this;r(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=H,this.defaults=St(Mt),this.Eventable=Bt,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(t=this,(n=function e(n,r){var i=t.interactables.getExisting(n,r);return i||((i=t.interactables.new(n,r)).events.global=e.globalEvents),i}).getPointerAverage=ge,n.getTouchBBox=be,n.getTouchDistance=ye,n.getTouchAngle=xe,n.getElementRect=V,n.getElementClientRect=B,n.matchesSelector=N,n.closest=F,n.globalEvents={},n.version="1.10.27",n.scope=t,n.use=function(e,t){return this.scope.usePlugin(e,t),this},n.isSet=function(e,t){return!!this.scope.interactables.get(e,t&&t.context)},n.on=tt(function(e,t,n){if(E(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),I(e)){for(var r=0,i=e;r<i.length;r++){var o=i[r];this.on(o,t,n)}return this}if(S(e)){for(var s in e)this.on(s,e[s],t);return this}return wt(e,this.scope.actions)?this.globalEvents[e]?this.globalEvents[e].push(t):this.globalEvents[e]=[t]:this.scope.events.add(this.scope.document,e,t,{options:n}),this},"The interact.on() method is being deprecated"),n.off=tt(function(e,t,n){if(E(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),I(e)){for(var r=0,i=e;r<i.length;r++){var o=i[r];this.off(o,t,n)}return this}if(S(e)){for(var s in e)this.off(s,e[s],t);return this}var a;return wt(e,this.scope.actions)?e in this.globalEvents&&-1!==(a=this.globalEvents[e].indexOf(t))&&this.globalEvents[e].splice(a,1):this.scope.events.remove(this.scope.document,e,t,n),this},"The interact.off() method is being deprecated"),n.debug=function(){return this.scope},n.supportsTouch=function(){return H.supportsTouch},n.supportsPointerEvent=function(){return H.supportsPointerEvent},n.stop=function(){for(var e=0,t=this.scope.interactions.list;e<t.length;e++)t[e].stop();return this},n.pointerMoveTolerance=function(e){return _(e)?(this.scope.interactions.pointerMoveTolerance=e,this):this.scope.interactions.pointerMoveTolerance},n.addDocument=function(e,t){this.scope.addDocument(e,t)},n.removeDocument=function(e){this.scope.removeDocument(e)},n),this.InteractEvent=It,this.Interactable=void 0,this.interactables=new pn(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(e){return o.removeDocument(e.target)};var l=this;this.Interactable=function(e){s(n,e);var t=u(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"_defaults",get:function(){return l.defaults}},{key:"set",value:function(e){return d(a(n.prototype),"set",this).call(this,e),l.fire("interactable:set",{options:e,interactable:this}),this}},{key:"unset",value:function(){d(a(n.prototype),"unset",this).call(this);var e=l.interactables.list.indexOf(this);e<0||(l.interactables.list.splice(e,1),l.fire("interactable:unset",{interactable:this}))}}]),n}(un)}return i(e,[{key:"addListeners",value:function(e,t){this.listenerMaps.push({id:t,map:e})}},{key:"fire",value:function(e,t){for(var n=0,r=this.listenerMaps;n<r.length;n++){var i=r[n].map[e];if(i&&!1===i(t,this,e))return!1}}},{key:"init",value:function(e){return this.isInitialized?this:(n=e,(t=this).isInitialized=!0,T(n)&&g(n),A.init(n),H.init(n),Ze(n),t.window=n,t.document=n.document,t.usePlugin(ln),t.usePlugin(Jt),t);var t,n}},{key:"pluginIsInstalled",value:function(e){var t=e.id;return t?!!this._plugins.map[t]:-1!==this._plugins.list.indexOf(e)}},{key:"usePlugin",value:function(e,t){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,t),e.listeners&&e.before){for(var n=0,r=this.listenerMaps.length,i=e.before.reduce(function(e,t){return e[t]=!0,e[hn(t)]=!0,e},{});n<r;n++){var o=this.listenerMaps[n].id;if(o&&(i[o]||i[hn(o)]))break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,t){if(-1!==this.getDocIndex(e))return!1;var n=b(e);t=t?J({},t):{},this.documents.push({doc:e,options:t}),this.events.documents.push(e),e!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:n,scope:this,options:t})}},{key:"removeDocument",value:function(e){var t=this.getDocIndex(e),n=b(e),r=this.documents[t].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(t,1),this.events.documents.splice(t,1),this.fire("scope:remove-document",{doc:e,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var t=0;t<this.documents.length;t++)if(this.documents[t].doc===e)return t;return-1}},{key:"getDocOptions",value:function(e){var t=this.getDocIndex(e);return-1===t?null:this.documents[t].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function hn(e){return e&&e.replace(/\/.*$/,"")}var fn=new dn,mn=fn.interactStatic,vn=typeof globalThis<"u"?globalThis:window;fn.init(vn);var gn=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(t){var n=t[0],r=t[1];return n in e||r in e}),n=function(n,r){for(var i=e.range,o=e.limits,s=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,a=e.offset,l=void 0===a?{x:0,y:0}:a,c={range:i,grid:e,x:null,y:null},u=0;u<t.length;u++){var p=t[u],d=p[0],h=p[1],f=Math.round((n-l.x)/e[d]),m=Math.round((r-l.y)/e[h]);c[d]=Math.max(s.left,Math.min(s.right,f*e[d]+l.x)),c[h]=Math.max(s.top,Math.min(s.bottom,m*e[h]+l.y))}return c};return n.grid=e,n.coordFields=t,n}}),bn={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=J(t.snappers||{},gn),t.createSnapGrid=t.snappers.grid}},yn={start:function(e){var n=e.state,r=e.rect,i=e.edges,o=e.pageCoords,s=n.options,a=s.ratio,l=s.enabled,c=n.options,u=c.equalDelta,p=c.modifiers;"preserve"===a&&(a=r.width/r.height),n.startCoords=J({},o),n.startRect=J({},r),n.ratio=a,n.equalDelta=u;var d=n.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(n.xIsPrimaryAxis=!(!i.left&&!i.right),n.equalDelta){var h=(d.left?1:-1)*(d.top?1:-1);n.edgeSign={x:h,y:h}}else n.edgeSign={x:d.left?-1:1,y:d.top?-1:1};if(!1!==l&&J(i,d),null!=p&&p.length){var f=new Ot(e.interaction);f.copyFrom(e.interaction.modification),f.prepareStates(p),n.subModification=f,f.startAll(t({},e))}},set:function(e){var n=e.state,r=e.rect,i=e.coords,o=n.linkedEdges,s=J({},i),a=n.equalDelta?xn:Tn;if(J(e.edges,o),a(n,n.xIsPrimaryAxis,i,r),!n.subModification)return null;var l=J({},r);re(o,l,{x:i.x-s.x,y:i.y-s.y});var c=n.subModification.setAll(t(t({},e),{},{rect:l,edges:o,pageCoords:i,prevCoords:i,prevRect:l})),u=c.delta;return c.changed&&(a(n,Math.abs(u.x)>Math.abs(u.y),c.coords,c.rect),J(i,c.coords)),c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function xn(e,t,n){var r=e.startCoords,i=e.edgeSign;t?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x}function Tn(e,t,n,r){var i=e.startRect,o=e.startCoords,s=e.ratio,a=e.edgeSign;if(t){var l=r.width/s;n.y=o.y+(l-i.height)*a.y}else{var c=r.height*s;n.x=o.x+(c-i.width)*a.x}}var wn=kt(yn,"aspectRatio"),Sn=function(){};Sn._defaults={};var On=Sn;function _n(e,t,n){return O(e)?ee(e,t.interactable,t.element,[n.x,n.y,t]):ee(e,t.interactable,t.element)}var kn={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,i=e.interaction,o=e.pageCoords,s=r.options,a=s.elementRect,l=J({left:0,top:0,right:0,bottom:0},s.offset||{});if(t&&a){var c=_n(s.restriction,i,o);if(c){var u=c.right-c.left-t.width,p=c.bottom-c.top-t.height;u<0&&(l.left+=u,l.right+=u),p<0&&(l.top+=p,l.bottom+=p)}l.left+=n.left-t.width*a.left,l.top+=n.top-t.height*a.top,l.right+=n.right-t.width*(1-a.right),l.bottom+=n.bottom-t.height*(1-a.bottom)}r.offset=l},set:function(e){var t,n=e.coords,r=e.interaction,i=e.state,o=i.options,s=i.offset,a=_n(o.restriction,r,n);if(a){var l=(!(t=a)||"left"in t&&"top"in t||((t=J({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t);n.x=Math.max(Math.min(l.right-s.right,n.x),l.left+s.left),n.y=Math.max(Math.min(l.bottom-s.bottom,n.y),l.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},En=kt(kn,"restrict"),Pn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Mn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function In(e,t){for(var n=0,r=["top","left","bottom","right"];n<r.length;n++){var i=r[n];i in e||(e[i]=t[i])}return e}var Dn={noInner:Pn,noOuter:Mn,start:function(e){var t,n=e.interaction,r=e.startOffset,i=e.state,o=i.options;o&&(t=te(_n(o.offset,n,n.coords.start.page))),t=t||{x:0,y:0},i.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,i=e.state,o=i.offset,s=i.options;if(n){var a=J({},t),l=_n(s.inner,r,a)||{},c=_n(s.outer,r,a)||{};In(l,Pn),In(c,Mn),n.top?t.y=Math.min(Math.max(c.top+o.top,a.y),l.top+o.top):n.bottom&&(t.y=Math.max(Math.min(c.bottom+o.bottom,a.y),l.bottom+o.bottom)),n.left?t.x=Math.min(Math.max(c.left+o.left,a.x),l.left+o.left):n.right&&(t.x=Math.max(Math.min(c.right+o.right,a.x),l.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Cn=kt(Dn,"restrictEdges"),jn=J({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},kn.defaults),zn=kt({start:kn.start,set:kn.set,defaults:jn},"restrictRect"),Rn={width:-1/0,height:-1/0},Ln={width:1/0,height:1/0},An=kt({start:function(e){return Dn.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,i=e.edges,o=n.options;if(i){var s=ne(_n(o.min,t,e.coords))||Rn,a=ne(_n(o.max,t,e.coords))||Ln;n.options={endOnly:o.endOnly,inner:J({},Dn.noInner),outer:J({},Dn.noOuter)},i.top?(n.options.inner.top=r.bottom-s.height,n.options.outer.top=r.bottom-a.height):i.bottom&&(n.options.inner.bottom=r.top+s.height,n.options.outer.bottom=r.top+a.height),i.left?(n.options.inner.left=r.right-s.width,n.options.outer.left=r.right-a.width):i.right&&(n.options.inner.right=r.left+s.width,n.options.outer.right=r.left+a.width),Dn.set(e),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),$n={start:function(e){var t,n,r,i=e.interaction,o=e.interactable,s=e.element,a=e.rect,l=e.state,c=e.startOffset,u=l.options,p=u.offsetWithOrigin?(r=(n=e).interaction.element,te(ee(n.state.options.origin,null,null,[r]))||ie(n.interactable,r,n.interaction.prepared.name)):{x:0,y:0};if("startCoords"===u.offset)t={x:i.coords.start.page.x,y:i.coords.start.page.y};else{var d=ee(u.offset,o,s,[i]);(t=te(d)||{x:0,y:0}).x+=p.x,t.y+=p.y}var h=u.relativePoints;l.offsets=a&&h&&h.length?h.map(function(e,n){return{index:n,relativePoint:e,x:c.left-a.width*e.x+t.x,y:c.top-a.height*e.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,i=r.options,o=r.offsets,s=ie(t.interactable,t.element,t.prepared.name),a=J({},n),l=[];i.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(var c=0,u=o;c<u.length;c++)for(var p=u[c],d=a.x-p.x,h=a.y-p.y,f=0,m=i.targets.length;f<m;f++){var v,g=i.targets[f];(v=O(g)?g(d,h,t._proxy,p,f):g)&&l.push({x:(_(v.x)?v.x:d)+p.x,y:(_(v.y)?v.y:h)+p.y,range:_(v.range)?v.range:i.range,source:g,index:f,offset:p})}for(var b={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},y=0;y<l.length;y++){var x=l[y],T=x.range,w=x.x-a.x,S=x.y-a.y,k=ae(w,S),E=k<=T;T===1/0&&b.inRange&&b.range!==1/0&&(E=!1),b.target&&!(E?b.inRange&&T!==1/0?k/T<b.distance/b.range:T===1/0&&b.range!==1/0||k<b.distance:!b.inRange&&k<b.distance)||(b.target=x,b.distance=k,b.range=T,b.inRange=E,b.delta.x=w,b.delta.y=S)}return b.inRange&&(n.x=b.target.x,n.y=b.target.y),r.closest=b,b},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Hn=kt($n,"snap"),Wn={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],$n.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,n=e.state,r=e.coords,i=n.options,o=n.offsets,s={x:r.x-o[0].x,y:r.y-o[0].y};n.options=J({},i),n.options.targets=[];for(var a=0,l=i.targets||[];a<l.length;a++){var c=l[a],u=void 0;if(u=O(c)?c(s.x,s.y,t):c){for(var p=0,d=n.targetFields;p<d.length;p++){var h=d[p],f=h[0],m=h[1];if(f in u||m in u){u.x=u[f],u.y=u[m];break}}n.options.targets.push(u)}}var v=$n.set(e);return n.options=i,v},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Fn=kt(Wn,"snapSize"),Yn={aspectRatio:wn,restrictEdges:Cn,restrict:En,restrictRect:zn,restrictSize:An,snapEdges:kt({start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Wn.start(e)):null},set:Wn.set,defaults:J(St(Wn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Hn,snapSize:Fn,spring:On,avoid:On,transform:On,rubberband:On},Nn={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Pt),e.usePlugin(bn),t.modifiers=Yn,Yn){var r=Yn[n],i=r._defaults,o=r._methods;i._methods=o,e.defaults.perAction[n]=i}}},Un=function(e){s(n,e);var t=u(n);function n(e,i,o,s,a,l){var u;if(r(this,n),ce(c(u=t.call(this,a)),o),o!==i&&ce(c(u),i),u.timeStamp=l,u.originalEvent=o,u.type=e,u.pointerId=me(i),u.pointerType=Te(i),u.target=s,u.currentTarget=null,"tap"===e){var p=a.getPointerIndex(i);u.dt=u.timeStamp-a.pointers[p].downTime;var d=u.timeStamp-a.tapTime;u.double=!!a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===u.target&&d<500}else"doubletap"===e&&(u.dt=i.timeStamp-a.tapTime,u.double=!0);return u}return i(n,[{key:"_subtractOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX-=t,this.pageY-=n,this.clientX-=t,this.clientY-=n,this}},{key:"_addOrigin",value:function(e){var t=e.x,n=e.y;return this.pageX+=t,this.pageY+=n,this.clientX+=t,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(Se),Gn={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Gn,e.defaults.actions.pointerEvents=Gn.defaults,J(e.actions.phaselessTypes,Gn.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Bn(e),Kn({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){(function(e,t){for(var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,s=e.pointerIndex,a=n.pointers[s].hold,l=Z(o),c={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:l,node:null},u=0;u<l.length;u++){var p=l[u];c.node=p,t.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var d=1/0,h=0,f=c.targets;h<f.length;h++){var m=f[h].eventable.options.holdDuration;m<d&&(d=m)}a.duration=d,a.timeout=setTimeout(function(){Kn({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},t)},d)}})(e,t),Kn(e,t)},"interactions:up":function(e,t){var n,r,i,o,s,a;Bn(e),Kn(e,t),r=t,i=(n=e).interaction,o=n.pointer,s=n.event,a=n.eventTarget,i.pointerWasMoved||Kn({interaction:i,eventTarget:a,pointer:o,event:s,type:"tap"},r)},"interactions:cancel":function(e,t){Bn(e),Kn(e,t)}},PointerEvent:Un,fire:Kn,collectEventTargets:Xn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Kn(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,s=e.type,a=e.targets,l=void 0===a?Xn(e,t):a,c=new Un(s,r,i,o,n,t.now());t.fire("pointerEvents:new",{pointerEvent:c});for(var u={interaction:n,pointer:r,event:i,eventTarget:o,targets:l,type:s,pointerEvent:c},p=0;p<l.length;p++){var d=l[p];for(var h in d.props||{})c[h]=d.props[h];var f=ie(d.eventable,d.node);if(c._subtractOrigin(f),c.eventable=d.eventable,c.currentTarget=d.node,d.eventable.fire(c),c._addOrigin(f),c.immediatePropagationStopped||c.propagationStopped&&p+1<l.length&&l[p+1].node!==c.currentTarget)break}if(t.fire("pointerEvents:fired",u),"tap"===s){var m=c.double?Kn({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},t):c;n.prevTap=m,n.tapTime=m.timeStamp}return c}function Xn(e,t){var n=e.interaction,r=e.pointer,i=e.event,o=e.eventTarget,s=e.type,a=n.getPointerIndex(r),l=n.pointers[a];if("tap"===s&&(n.pointerWasMoved||!l||l.downTarget!==o))return[];for(var c=Z(o),u={interaction:n,pointer:r,event:i,eventTarget:o,type:s,path:c,targets:[],node:null},p=0;p<c.length;p++){var d=c[p];u.node=d,t.fire("pointerEvents:collect-targets",u)}return"hold"===s&&(u.targets=u.targets.filter(function(e){var t,r;return e.eventable.options.holdDuration===(null==(t=n.pointers[a])||null==(r=t.hold)?void 0:r.duration)})),u.targets}function Bn(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Vn=Object.freeze({__proto__:null,default:Gn});function Zn(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var qn={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Gn);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Zn,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;"hold"===t.type&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,i=e.eventTarget,o=e.targets;if("hold"===r.type&&o.length){var s=o[0].eventable.options.holdRepeatInterval;s<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},t)},s))}}})},Jn={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=function(e){return J(this.events.options,e),this};var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(e,t){var r=n.call(this,e,t);return r===this&&(this.events.options[e]=t),r}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(r,function(e){var t=e.events,s=t.options;t.types[i]&&t.types[i].length&&e.testIgnoreAllow(s,r,o)&&n.push({node:r,eventable:t,props:{interactable:e}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;J(n.events.options,t.pointerEvents.defaults),J(n.events.options,r.pointerEvents||{})}}},Qn={id:"pointer-events",install:function(e){e.usePlugin(Vn),e.usePlugin(qn),e.usePlugin(Jn)}},er={id:"reflow",install:function(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(t){return function(e,t,n){for(var r=e.getAllElements(),i=n.window.Promise,o=i?[]:null,s=function(){var s=r[a],l=e.getRect(s);if(!l)return 1;var c,u=Ee(n.interactions.list,function(n){return n.interacting()&&n.interactable===e&&n.element===s&&n.prepared.name===t.name});if(u)u.move(),o&&(c=u._reflowPromise||new i(function(e){u._reflowResolve=e}));else{var p=ne(l),d=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:p.x,y:p.y},client:{x:p.x,y:p.y},timeStamp:n.now()});c=function(e,t,n,r,i){var o=e.interactions.new({pointerType:"reflow"}),s={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=t,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),pe(o.coords.delta),nt(o.prepared,r),o._doPhase(s);var a=e.window.Promise,l=a?new a(function(e){o._reflowResolve=e}):void 0;return o._reflowPromise=l,o.start(r,t,n),o._interacting?(o.move(s),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),l}(n,e,s,t,d)}o&&o.push(c)},a=0;a<r.length&&!s();a++);return o&&i.all(o).then(function(){return e})}(this,t,e)}},listeners:{"interactions:stop":function(e,t){var n,r,i=e.interaction;"reflow"===i.pointerType&&(i._reflowResolve&&i._reflowResolve(),r=i,(n=t.interactions.list).splice(n.indexOf(r),1))}}};if(mn.use(Tt),mn.use(Ft),mn.use(Qn),mn.use(Kt),mn.use(Nn),mn.use(bt),mn.use(Ke),mn.use(et),mn.use(er),mn.default=mn,"object"===n(p)&&p)try{p.exports=mn}catch{}return mn.default=mn,mn}();const h=u(d.exports);var f={exports:{}};!function(e){e.exports=function(){var e=6e4,t=36e5,n="millisecond",r="second",i="minute",o="hour",s="day",a="week",l="month",c="quarter",u="year",p="date",d="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},g={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),o=n-i<0,s=t.clone().add(r+(o?-1:1),l);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:a,d:s,D:p,h:o,m:i,s:r,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=m;var x="$isDayjsObject",T=function(e){return e instanceof _||!(!e||!e[x])},w=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();y[o]&&(i=o),n&&(y[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;y[a]=t,i=a}return!r&&i&&(b=i),i||!r&&b},S=function(e,t){if(T(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new _(n)},O=g;O.l=w,O.i=T,O.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function m(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var v=m.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(O.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return O},v.isValid=function(){return this.$d.toString()!==d},v.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return S(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<S(e)},v.$g=function(e,t,n){return O.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,c=!!O.u(t)||t,d=O.p(e),h=function(e,t){var r=O.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return c?r:r.endOf(s)},f=function(e,t){return O.w(n.toDate()[e].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,v=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case u:return c?h(1,0):h(31,11);case l:return c?h(1,v):h(0,v+1);case a:var y=this.$locale().weekStart||0,x=(m<y?m+7:m)-y;return h(c?g-x:g+(6-x),v);case s:case p:return f(b+"Hours",0);case o:return f(b+"Minutes",1);case i:return f(b+"Seconds",2);case r:return f(b+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var a,c=O.p(e),d="set"+(this.$u?"UTC":""),h=(a={},a[s]=d+"Date",a[p]=d+"Date",a[l]=d+"Month",a[u]=d+"FullYear",a[o]=d+"Hours",a[i]=d+"Minutes",a[r]=d+"Seconds",a[n]=d+"Milliseconds",a)[c],f=c===s?this.$D+(t-this.$W):t;if(c===l||c===u){var m=this.clone().set(p,1);m.$d[h](f),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[O.p(e)]()},v.add=function(n,c){var p,d=this;n=Number(n);var h=O.p(c),f=function(e){var t=S(d);return O.w(t.date(t.date()+Math.round(e*n)),d)};if(h===l)return this.set(l,this.$M+n);if(h===u)return this.set(u,this.$y+n);if(h===s)return f(1);if(h===a)return f(7);var m=(p={},p[i]=e,p[o]=t,p[r]=1e3,p)[h]||1,v=this.$d.getTime()+n*m;return O.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,p=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return O.s(o%12||12,e,"0")},m=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(f,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return O.s(t.$y,4,"0");case"M":return a+1;case"MM":return O.s(a+1,2,"0");case"MMM":return p(n.monthsShort,a,c,3);case"MMMM":return p(c,a);case"D":return t.$D;case"DD":return O.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(n.weekdaysMin,t.$W,l,2);case"ddd":return p(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return O.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(o,s,!0);case"A":return m(o,s,!1);case"m":return String(s);case"mm":return O.s(s,2,"0");case"s":return String(t.$s);case"ss":return O.s(t.$s,2,"0");case"SSS":return O.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,p,d){var h,f=this,m=O.p(p),v=S(n),g=(v.utcOffset()-this.utcOffset())*e,b=this-v,y=function(){return O.m(f,v)};switch(m){case u:h=y()/12;break;case l:h=y();break;case c:h=y()/3;break;case a:h=(b-g)/6048e5;break;case s:h=(b-g)/864e5;break;case o:h=b/t;break;case i:h=b/e;break;case r:h=b/1e3;break;default:h=b}return d?h:O.a(h)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return y[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=w(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return O.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},m}(),k=_.prototype;return S.prototype=k,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",s],["$M",l],["$y",u],["$D",p]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,_,S),e.$i=!0),S},S.locale=w,S.isDayjs=T,S.unix=function(e){return S(1e3*e)},S.en=y[b],S.Ls=y,S.p={},S}()}(f);const m=u(f.exports);var v={exports:{}};!function(e){var t,n,r;e.exports=(t="minute",n=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g,function(e,i,o){var s=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(e){var n=o(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var l=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(e,i){var o=this.$utils().u;if(o(e))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof e&&null===(e=function(e){void 0===e&&(e="");var t=e.match(n);if(!t)return null;var i=(""+t[0]).match(r)||["-",0,0],o=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===o?s:-s}(e)))return this;var s=Math.abs(e)<=16?60*e:e,a=this;if(i)return a.$offset=s,a.$u=0===e,a;if(0!==e){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,t)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var u=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var p=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var d=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var r=this.local(),i=o(e).local();return d.call(r,i,t,n)}})}(v);const g=u(v.exports);var b=function(e,t){return e===t||e!=e&&t!=t},y=b,x=function(e,t){for(var n=e.length;n--;)if(y(e[n][0],t))return n;return-1},T=x,w=Array.prototype.splice,S=x,O=x,_=x,k=function(){this.__data__=[],this.size=0},E=function(e){var t=this.__data__,n=T(t,e);return!(n<0||(n==t.length-1?t.pop():w.call(t,n,1),--this.size,0))},P=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]},M=function(e){return O(this.__data__,e)>-1},I=function(e,t){var n=this.__data__,r=_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function D(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}D.prototype.clear=k,D.prototype.delete=E,D.prototype.get=P,D.prototype.has=M,D.prototype.set=I;var C=D,j=C,z="object"==typeof c&&c&&c.Object===Object&&c,R=z,L="object"==typeof self&&self&&self.Object===Object&&self,A=R||L||Function("return this")(),$=A.Symbol,H=$,W=Object.prototype,F=W.hasOwnProperty,Y=W.toString,N=H?H.toStringTag:void 0,U=Object.prototype.toString,G=function(e){var t=F.call(e,N),n=e[N];try{e[N]=void 0;var r=!0}catch{}var i=Y.call(e);return r&&(t?e[N]=n:delete e[N]),i},K=function(e){return U.call(e)},X=$?$.toStringTag:void 0,B=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?G(e):K(e)},V=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Z=B,q=V,J=function(e){if(!q(e))return!1;var t=Z(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Q=A["__core-js_shared__"],ee=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),te=Function.prototype.toString,ne=function(e){if(null!=e){try{return te.call(e)}catch{}try{return e+""}catch{}}return""},re=J,ie=function(e){return!!ee&&ee in e},oe=V,se=ne,ae=/^\[object .+?Constructor\]$/,le=Function.prototype,ce=Object.prototype,ue=le.toString,pe=ce.hasOwnProperty,de=RegExp("^"+ue.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),he=function(e){return!(!oe(e)||ie(e))&&(re(e)?de:ae).test(se(e))},fe=function(e,t){return null==e?void 0:e[t]},me=function(e,t){var n=fe(e,t);return he(n)?n:void 0},ve=me(A,"Map"),ge=me(Object,"create"),be=ge,ye=ge,xe=Object.prototype.hasOwnProperty,Te=ge,we=Object.prototype.hasOwnProperty,Se=ge,Oe=function(){this.__data__=be?be(null):{},this.size=0},_e=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ke=function(e){var t=this.__data__;if(ye){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},Ee=function(e){var t=this.__data__;return Te?void 0!==t[e]:we.call(t,e)},Pe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Se&&void 0===t?"__lodash_hash_undefined__":t,this};function Me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Me.prototype.clear=Oe,Me.prototype.delete=_e,Me.prototype.get=ke,Me.prototype.has=Ee,Me.prototype.set=Pe;var Ie=Me,De=C,Ce=ve,je=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},ze=function(e,t){var n=e.__data__;return je(t)?n["string"==typeof t?"string":"hash"]:n.map},Re=ze,Le=ze,Ae=ze,$e=ze,He=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},We=function(e){return Le(this,e).get(e)},Fe=function(e){return Ae(this,e).has(e)},Ye=function(e,t){var n=$e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ne.prototype.clear=function(){this.size=0,this.__data__={hash:new Ie,map:new(Ce||De),string:new Ie}},Ne.prototype.delete=He,Ne.prototype.get=We,Ne.prototype.has=Fe,Ne.prototype.set=Ye;var Ue=Ne,Ge=C,Ke=ve,Xe=Ue,Be=C,Ve=function(){this.__data__=new j,this.size=0},Ze=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qe=function(e){return this.__data__.get(e)},Je=function(e){return this.__data__.has(e)},Qe=function(e,t){var n=this.__data__;if(n instanceof Ge){var r=n.__data__;if(!Ke||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xe(r)}return n.set(e,t),this.size=n.size,this};function et(e){var t=this.__data__=new Be(e);this.size=t.size}et.prototype.clear=Ve,et.prototype.delete=Ze,et.prototype.get=qe,et.prototype.has=Je,et.prototype.set=Qe;var tt=et,nt=Ue,rt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},it=function(e){return this.__data__.has(e)};function ot(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new nt;++t<n;)this.add(e[t])}ot.prototype.add=ot.prototype.push=rt,ot.prototype.has=it;var st=ot,at=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},lt=function(e,t){return e.has(t)},ct=function(e,t,n,r,i,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var p=-1,d=!0,h=2&n?new st:void 0;for(o.set(e,t),o.set(t,e);++p<a;){var f=e[p],m=t[p];if(r)var v=s?r(m,f,p,t,e,o):r(f,m,p,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(h){if(!at(t,function(e,t){if(!lt(h,t)&&(f===e||i(f,e,n,r,o)))return h.push(t)})){d=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d},ut=A.Uint8Array,pt=b,dt=ct,ht=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},ft=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},mt=$?$.prototype:void 0,vt=mt?mt.valueOf:void 0,gt=Array.isArray,bt=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},yt=gt,xt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o},Tt=Object.prototype.propertyIsEnumerable,wt=Object.getOwnPropertySymbols,St=wt?function(e){return null==e?[]:(e=Object(e),xt(wt(e),function(t){return Tt.call(e,t)}))}:function(){return[]},Ot=St,_t=function(e){return null!=e&&"object"==typeof e},kt=B,Et=_t,Pt=function(e){return Et(e)&&"[object Arguments]"==kt(e)},Mt=_t,It=Object.prototype,Dt=It.hasOwnProperty,Ct=It.propertyIsEnumerable,jt=Pt(function(){return arguments}())?Pt:function(e){return Mt(e)&&Dt.call(e,"callee")&&!Ct.call(e,"callee")},zt=jt,Rt={exports:{}},Lt=function(){return!1};!function(e,t){var n=A,r=Lt,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?n.Buffer:void 0,a=(s?s.isBuffer:void 0)||r;e.exports=a}(Rt,Rt.exports);var At=Rt.exports,$t=/^(?:0|[1-9]\d*)$/,Ht=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Wt=B,Ft=Ht,Yt=_t,Nt={};Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var Ut={exports:{}};!function(e,t){var n=z,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(Ut,Ut.exports);var Gt=Ut.exports,Kt=function(e){return Yt(e)&&Ft(e.length)&&!!Nt[Wt(e)]},Xt=function(e){return function(t){return e(t)}},Bt=Gt&&Gt.isTypedArray,Vt=Bt?Xt(Bt):Kt,Zt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},qt=zt,Jt=gt,Qt=At,en=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&("number"==n||"symbol"!=n&&$t.test(e))&&e>-1&&e%1==0&&e<t},tn=Vt,nn=Object.prototype.hasOwnProperty,rn=Object.prototype,on=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),sn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rn)},an=on,ln=Object.prototype.hasOwnProperty,cn=J,un=Ht,pn=function(e,t){var n=Jt(e),r=!n&&qt(e),i=!n&&!r&&Qt(e),o=!n&&!r&&!i&&tn(e),s=n||r||i||o,a=s?Zt(e.length,String):[],l=a.length;for(var c in e)(t||nn.call(e,c))&&(!s||!("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||en(c,l)))&&a.push(c);return a},dn=function(e){if(!sn(e))return an(e);var t=[];for(var n in Object(e))ln.call(e,n)&&"constructor"!=n&&t.push(n);return t},hn=function(e){return null!=e&&un(e.length)&&!cn(e)},fn=function(e,t,n){var r=t(e);return yt(e)?r:bt(r,n(e))},mn=Ot,vn=function(e){return hn(e)?pn(e):dn(e)},gn=function(e){return fn(e,vn,mn)},bn=Object.prototype.hasOwnProperty,yn=me(A,"DataView"),xn=ve,Tn=me(A,"Promise"),wn=me(A,"Set"),Sn=me(A,"WeakMap"),On=B,_n=ne,kn="[object Map]",En="[object Promise]",Pn="[object Set]",Mn="[object WeakMap]",In="[object DataView]",Dn=_n(yn),Cn=_n(xn),jn=_n(Tn),zn=_n(wn),Rn=_n(Sn),Ln=On;(yn&&Ln(new yn(new ArrayBuffer(1)))!=In||xn&&Ln(new xn)!=kn||Tn&&Ln(Tn.resolve())!=En||wn&&Ln(new wn)!=Pn||Sn&&Ln(new Sn)!=Mn)&&(Ln=function(e){var t=On(e),n="[object Object]"==t?e.constructor:void 0,r=n?_n(n):"";if(r)switch(r){case Dn:return In;case Cn:return kn;case jn:return En;case zn:return Pn;case Rn:return Mn}return t});var An=tt,$n=ct,Hn=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new ut(e),new ut(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=ht;case"[object Set]":var l=1&r;if(a||(a=ft),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=dt(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(vt)return vt.call(e)==vt.call(t)}return!1},Wn=function(e,t,n,r,i,o){var s=1&n,a=gn(e),l=a.length;if(l!=gn(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:bn.call(t,u)))return!1}var p=o.get(e),d=o.get(t);if(p&&d)return p==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<l;){var m=e[u=a[c]],v=t[u];if(r)var g=s?r(v,m,u,t,e,o):r(m,v,u,e,t,o);if(!(void 0===g?m===v||i(m,v,n,r,o):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=e.constructor,y=t.constructor;b!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(e),o.delete(t),h},Fn=Ln,Yn=gt,Nn=At,Un=Vt,Gn="[object Arguments]",Kn="[object Array]",Xn="[object Object]",Bn=Object.prototype.hasOwnProperty,Vn=function(e,t,n,r,i,o){var s=Yn(e),a=Yn(t),l=s?Kn:Fn(e),c=a?Kn:Fn(t),u=(l=l==Gn?Xn:l)==Xn,p=(c=c==Gn?Xn:c)==Xn,d=l==c;if(d&&Nn(e)){if(!Nn(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new An),s||Un(e)?$n(e,t,n,r,i,o):Hn(e,t,l,n,r,i,o);if(!(1&n)){var h=u&&Bn.call(e,"__wrapped__"),f=p&&Bn.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,v=f?t.value():t;return o||(o=new An),i(m,v,n,r,o)}}return!!d&&(o||(o=new An),Wn(e,t,n,r,i,o))},Zn=_t,qn=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Zn(t)&&!Zn(n)?t!=t&&n!=n:Vn(t,n,r,i,e,o))},Jn=function(e,t){return qn(e,t)};const Qn=u(Jn);function er(e,t){return"function"==typeof e.get?e.get(t):e[t]}function tr(e){return"function"==typeof e.count?e.count():e.length}function nr(e,t){return tr(e)===tr(t)&&e.every((e,n)=>e===er(t,n.toString()))}function rr(){}function ir(...e){return(t,...n)=>{t.preventDefault(),e.forEach(e=>e&&e(t,...n))}}function or({item:e,itemContext:t,getItemProps:n,getResizeProps:o}){const{left:s,right:a}=o(),{key:l,ref:c,...u}=n(e.itemProps??{}),{useResizeHandle:p}=t;return(0,i.createElement)("div",{...u,ref:c,key:`${l}-outer`},p?(0,i.createElement)("div",{...s,key:`${l}-lr`}):null,(0,r.jsx)("div",{className:"rct-item-content",style:{maxHeight:`${t.dimensions.height}`},children:t.title},`${l}-content`),p?(0,i.createElement)("div",{...a,key:`${l}-rr`}):null)}function sr(e,t,n){return(t-e)/n}function ar(e,t,n,r){return n/(t-e)*(r-e)}function lr(e,t,n,r){return(t-e)/n*r+e}function cr(e,t,n,r,i){let o=m(e).startOf(n);if(r[n]&&r[n]>1){const e=o.get(n);o=o.set(n,e-e%r[n])}for(;o.valueOf()<t;){const e=m(o).add(r[n]||1,n).startOf(n);i(o,e),o=e}}function ur(e,t,n){const r={second:1e3,minute:60,hour:60,day:24,month:30,year:12};let i="year",o=e;return Object.keys(r).some(e=>{const s=e;o/=r[s];const a=o/n[s],l=n[s]&&n[s]>1?51:17;if(a<t/l)return i=e,!0}),i}const pr={second:"minute",minute:"hour",hour:"day",day:"month",month:"year",year:"year"};function dr(e){if(!pr[e])throw new Error(`unit ${e} is not acceptable`);return pr[e]}function hr({itemTimeStart:e,itemTimeEnd:t,dragTime:n,isDragging:r,isResizing:i,resizingEdge:o,resizeTime:s}){return[r&&n?n:i&&"left"===o&&s?s:e,r&&n?n+(t-e):i&&"right"===o&&s?s:t]}function fr({itemTimeStart:e,itemTimeEnd:t,canvasTimeStart:n,canvasTimeEnd:r,canvasWidth:i}){const o=t-e,s=Math.max(e,n),a=Math.min(t,r),l=ar(n,r,i,s),c=ar(n,r,i,a)-l;return{left:l,width:Math.max(c,3),collisionLeft:e,collisionWidth:o}}function mr(e,t){const{groupIdKey:n}=t,r={};for(let t=0;t<e.length;t++)r[er(e[t],n)]={index:t,group:e[t]};return r}function vr(e,t){var n,r;const i={},o=Object.keys(t);for(let e=0;e<o.length;e++){const n=t[o[e]];i[e]={index:n.index,group:n.group,items:[]}}for(let t=0;t<e.length;t++)if(void 0!==e[t].dimensions&&void 0!==(null==(n=e[t].dimensions)?void 0:n.order)){const n=i[(null==(r=e[t].dimensions)?void 0:r.order.index)??0];n&&n.items.push(e[t])}return i}function gr(e,t,n,r){const{itemTimeStartKey:i,itemTimeEndKey:o}=r;return e.filter(e=>{const r=m(er(e,i)).valueOf()<=n,s=m(er(e,o)).valueOf()>=t;return r&&s})}function br(e,t,n=.001){return e.collisionLeft+n<t.collisionLeft+t.collisionWidth&&e.collisionLeft+e.collisionWidth-n>t.collisionLeft&&e.top-0+n<t.top+t.height&&e.top+e.height+0-n>t.top}function yr(e,t,n,r,i,o){let s=r;const a=(e-t.dimensions.height)/2;if(t.dimensions.stack&&null===t.dimensions.top){t.dimensions.top=i+a,s=Math.max(s,e);do{var l=null;for(let e=o-1,r=0;e>=r;e--){const r=n[e];if(null!==r.dimensions.top&&r.dimensions.stack&&br(t.dimensions,r.dimensions)){l=r;break}}null!=l&&(t.dimensions.top=l.dimensions.top+e,s=Math.max(s,t.dimensions.top+t.dimensions.height+a-i))}while(l)}return{groupHeight:s,verticalMargin:a,itemTop:t.dimensions.top}}function xr(e,t,n,r){var i,o;const s=(e-((null==(i=t.dimensions)?void 0:i.height)??1))/2;return t.dimensions&&null===t.dimensions.top&&(t.dimensions.top=r+s,n=Math.max(n,e)),{groupHeight:n,verticalMargin:0,itemTop:(null==(o=t.dimensions)?void 0:o.top)??0}}function Tr(e=[]){return e.reduce((e,t)=>e+t,0)}function wr(e,t,n,r){const i=[],o=[],s=vr(e,t);for(const e in s){const t=s[e],{items:a,group:l}=t,c=Tr(i),u=void 0!==l.stackItems?l.stackItems:r,{groupHeight:p}=Sr(a,u,n,c);o.push(c),l.height?i.push(l.height):i.push(Math.max(p,n))}return{height:Tr(i),groupHeights:i,groupTops:o}}function Sr(e,t,n,r){let i=0,o=0;for(let s=0;s<e.length;s++){const a=t?yr(n,e[s],e,i,r,s):xr(n,e[s],i,r);i=a.groupHeight,o=a.verticalMargin}return{groupHeight:i,verticalMargin:o}}function Or(e,t,n,r,i,o,s,a,l,c,u,p,d,h,f){const m=gr(e,r,i,o).map(e=>Er({item:e,keys:o,draggingItem:c,resizingItem:u,dragTime:p,resizingEdge:d,resizeTime:h,groups:t,newGroupOrder:f}));if(0===t.length)return{dimensionItems:[],height:0,groupHeights:[],groupTops:[]};const v=mr(t,o),g=m.map(e=>kr({item:e,keys:o,canvasTimeStart:r,canvasTimeEnd:i,canvasWidth:n,groupOrders:v,lineHeight:s,itemHeightRatio:a})).filter(e=>!!e),{height:b,groupHeights:y,groupTops:x}=wr(g,v,s,l);return{dimensionItems:g,height:b,groupHeights:y,groupTops:x}}function _r(e,t){return e*t}function kr({item:e,keys:t,canvasTimeStart:n,canvasTimeEnd:r,canvasWidth:i,groupOrders:o,lineHeight:s,itemHeightRatio:a}){const l=er(e,t.itemIdKey),c=fr({itemTimeStart:er(e,t.itemTimeStartKey),itemTimeEnd:er(e,t.itemTimeEndKey),canvasTimeStart:n,canvasTimeEnd:r,canvasWidth:i});if(c)return c.top=null,c.order=o[er(e,t.itemGroupKey)],c.stack=!e.isOverlay,c.height=s*a,{id:l,dimensions:c}}function Er({item:e,keys:t,draggingItem:n,resizingItem:r,dragTime:i,resizingEdge:o,resizeTime:s,groups:a,newGroupOrder:l}){if(!r&&!n)return e;const c=er(e,t.itemIdKey),u=c===n,p=c===r,[d,h]=hr({itemTimeStart:er(e,t.itemTimeStartKey),itemTimeEnd:er(e,t.itemTimeEndKey),isDragging:u,isResizing:p,dragTime:i,resizingEdge:o,resizeTime:s});return{...e,[t.itemTimeStartKey]:d,[t.itemTimeEndKey]:h,[t.itemGroupKey]:u?er(a[l],t.groupIdKey):er(e,t.itemGroupKey)}}function Pr(e,t,n){const r=t-e,i=e-r*(n-1)/2;return[i,i+r*n]}function Mr(e,t,n,r,i,o,s){const a=o.buffer,l=s.canvasTimeStart,c=s.canvasTimeEnd,u=s.visibleTimeEnd-s.visibleTimeStart,p=t-e,d={...s,visibleTimeStart:e,visibleTimeEnd:t},h=u*(a-1)*.25;if(p!==u||e<=l+h||t>=c-h||n){const[n,l]=Pr(e,t,a);d.canvasTimeStart=n,d.canvasTimeEnd=l;const c={...s,...d},u=_r(c.width,o.buffer);Object.assign(d,Or(r,i,u,c.canvasTimeStart,c.canvasTimeEnd,o.keys,o.lineHeight,o.itemHeightRatio,o.stackItems,c.draggingItem,c.resizingItem,c.dragTime,c.resizingEdge,c.resizeTime,c.newGroupOrder))}return d}const Ir=Object.freeze(Object.defineProperty({__proto__:null,NEXT_UNITS:pr,calculateDimensions:fr,calculateInteractionNewTimes:hr,calculateScrollCanvas:Mr,calculateTimeForXPosition:lr,calculateXPositionForTime:ar,collision:br,coordinateToTimeRatio:sr,getCanvasBoundariesFromVisibleTime:Pr,getCanvasWidth:_r,getGroupOrders:mr,getGroupedItems:vr,getItemDimensions:kr,getItemWithInteractions:Er,getMinUnit:ur,getNextUnit:dr,getVisibleItems:gr,groupNoStack:xr,groupStack:yr,iterateTimes:cr,minCellWidth:17,stackAll:wr,stackGroup:Sr,stackTimelineItems:Or},Symbol.toStringTag,{value:"Module"})),Dr={fontSize:12,color:"white",cursor:"pointer",background:"#2196f3",borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderStyle:"solid",borderColor:"#1a6fb3",zIndex:80},Cr={background:"#ffc107",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderStyle:"solid",borderColor:"#ff9800",zIndex:82},jr={willChange:"left, top, width",cursor:"move"},zr={borderLeftWidth:3},Rr={cursor:"w-resize"},Lr={borderRightWidth:"3px"},Ar={cursor:"e-resize"},$r={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,left:0,cursor:"pointer",zIndex:88},Hr={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,right:0,cursor:"pointer",zIndex:88},Wr={getTimelineState:()=>(console.warn('"getTimelineState" default func is being used'),{}),getLeftOffsetFromDate:()=>(console.warn('"getLeftOffsetFromDate" default func is being used'),0),getDateFromLeftOffsetPosition:()=>(console.warn('"getDateFromLeftOffsetPosition" default func is being used'),0),showPeriod:()=>{console.warn('"showPeriod" default func is being used')}},Fr=o().createContext(Wr),{Consumer:Yr,Provider:Nr}=Fr;class Ur extends o().Component{constructor(e){super(e),Object.defineProperty(this,"getTimelineState",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{visibleTimeStart:e,visibleTimeEnd:t,canvasTimeStart:n,canvasTimeEnd:r,canvasWidth:i,timelineUnit:o,timelineWidth:s}=this.props;return{visibleTimeStart:e,visibleTimeEnd:t,canvasTimeStart:n,canvasTimeEnd:r,canvasWidth:i,timelineUnit:o,timelineWidth:s}}}),Object.defineProperty(this,"getLeftOffsetFromDate",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{canvasTimeStart:t,canvasTimeEnd:n,canvasWidth:r}=this.props;return ar(t,n,r,e)}}),Object.defineProperty(this,"getDateFromLeftOffsetPosition",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{canvasTimeStart:t,canvasTimeEnd:n,canvasWidth:r}=this.props;return lr(t,n,r,e)}}),this.state={timelineContext:{getTimelineState:this.getTimelineState,getLeftOffsetFromDate:this.getLeftOffsetFromDate,getDateFromLeftOffsetPosition:this.getDateFromLeftOffsetPosition,showPeriod:this.props.showPeriod}}}render(){return(0,r.jsx)(Nr,{value:this.state.timelineContext,children:this.props.children})}}const Gr=Yr,Kr=()=>(0,i.useContext)(Fr);m.extend(g);class Xr extends i.Component{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{interactMounted:!1,dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:!1,resizeEdge:null,resizeStart:null,resizeTime:null}}),Object.defineProperty(this,"itemId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemTitle",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemDivTitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemRef",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.createRef)()}),Object.defineProperty(this,"dragLeft",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dragRight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startedClicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedTouching",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"dragInProgress",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"fireInteractEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;if(this.itemRef&&this.itemRef.current){const n=new CustomEvent("itemInteraction",{bubbles:!0,detail:{itemInteraction:e}});null==(t=this.itemRef.current)||t.dispatchEvent(n)}}}),Object.defineProperty(this,"onMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.interactMounted||(e.preventDefault(),this.startedClicking=!0)}}),Object.defineProperty(this,"onMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:e=>{!this.state.interactMounted&&this.startedClicking&&(this.startedClicking=!1,this.actualClick(e,"click"))}}),Object.defineProperty(this,"onTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.interactMounted||(e.preventDefault(),this.startedTouching=!0)}}),Object.defineProperty(this,"onTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:e=>{!this.state.interactMounted&&this.startedTouching&&(this.startedTouching=!1,this.actualClick(e,"touch"))}}),Object.defineProperty(this,"handleDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:e=>{e.stopPropagation(),this.props.onItemDoubleClick&&this.props.onItemDoubleClick(this.itemId,e)}}),Object.defineProperty(this,"handleContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.props.onContextMenu&&(e.preventDefault(),e.stopPropagation(),this.props.onContextMenu(this.itemId,e))}}),Object.defineProperty(this,"getDragLeftRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.dragLeft=e}),Object.defineProperty(this,"getDragRightRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.dragRight=e}),Object.defineProperty(this,"getItemProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const t="rct-item"+(this.props.item.className?` ${this.props.item.className}`:"");return{key:this.itemId,ref:this.itemRef,title:this.itemDivTitle,className:t+` ${e.className?e.className:""}`,onMouseDown:ir(this.onMouseDown,e.onMouseDown),onMouseUp:ir(this.onMouseUp,e.onMouseUp),onTouchStart:ir(this.onTouchStart,e.onTouchStart),onTouchEnd:ir(this.onTouchEnd,e.onTouchEnd),onDoubleClick:ir(this.handleDoubleClick,e.onDoubleClick),onContextMenu:ir(this.handleContextMenu,e.onContextMenu),style:Object.assign({},this.getItemStyle(e))}}}),Object.defineProperty(this,"getResizeProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{let t="rct-item-handler rct-item-handler-left rct-item-handler-resize-left";e.leftClassName&&(t+=` ${e.leftClassName}`);let n="rct-item-handler rct-item-handler-right rct-item-handler-resize-right";return e.rightClassName&&(n+=` ${e.rightClassName}`),{left:{ref:this.getDragLeftRef,className:t,style:Object.assign({},$r,e.leftStyle)},right:{ref:this.getDragRightRef,className:n,style:Object.assign({},Hr,e.rightStyle)}}}}),this.cacheDataFromProps(e)}shouldComponentUpdate(e,t){return!Qn(this.props,e)||!Qn(this.state,t)}cacheDataFromProps(e){this.itemId=er(e.item,e.keys.itemIdKey),this.itemTitle=er(e.item,e.keys.itemTitleKey),this.itemDivTitle=e.keys.itemDivTitleKey?er(e.item,e.keys.itemDivTitleKey):this.itemTitle,this.itemTimeStart=er(e.item,e.keys.itemTimeStartKey),this.itemTimeEnd=er(e.item,e.keys.itemTimeEndKey)}getTimeRatio(){const{canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:n}=this.props;return sr(e,t,n)}dragTimeSnap(e,t){const{dragSnap:n}=this.props;if(n){const r=t?60*m().utcOffset()*1e3:0;return Math.round(e/n)*n-r%n}return e}resizeTimeSnap(e){const{dragSnap:t}=this.props;if(t){const n=this.itemTimeEnd%t;return Math.round((e-n)/t)*t+n}return e}dragTime(e){const t=m(this.itemTimeStart);return this.state.dragging?this.dragTimeSnap(this.timeFor(e)+this.state.dragStart.offset,!0):t.valueOf()}timeFor(e){const t=sr(this.props.canvasTimeStart,this.props.canvasTimeEnd,this.props.canvasWidth),n=l(this.props.scrollRef).offsetLeft,r=a(this.props.scrollRef);return(e.pageX-n+r.scrollLeft)*t+this.props.canvasTimeStart}dragGroupDelta(e){const{groupTops:t,order:n}=this.props;if(this.state.dragging){if(!this.props.canChangeGroup)return 0;let r=0;const i=l(this.props.scrollRef).offsetTop,o=a(this.props.scrollRef);for(const s of Object.keys(t)){const a=t[s];if(!(e.pageY-i+o.scrollTop>a))break;r=parseInt(s,10)-n.index}return this.props.order.index+r<0?0-this.props.order.index:r}return 0}resizeTimeDelta(e,t){const n=this.itemTimeEnd-this.itemTimeStart,r=this.dragTimeSnap((e.pageX-this.state.resizeStart)*this.getTimeRatio());return n+("left"===t?-r:r)<(this.props.dragSnap||1e3)?"left"===t?n-(this.props.dragSnap||1e3):(this.props.dragSnap||1e3)-n:r}mountInteract(){const e=!this.props.useResizeHandle||".rct-item-handler-resize-left",t=!this.props.useResizeHandle||".rct-item-handler-resize-right";h(this.itemRef.current).resizable({edges:{left:this.canResizeLeft()&&e,right:this.canResizeRight()&&t,top:!1,bottom:!1},enabled:this.props.selected&&(this.canResizeLeft()||this.canResizeRight())}).draggable({enabled:this.props.selected&&this.canMove()}).styleCursor(!1).on("dragstart",e=>{if(!this.props.selected)return!1;{this.dragInProgress=!0,this.fireInteractEvent(!0);const t=this.timeFor(e);this.setState({dragging:!0,dragStart:{x:e.pageX,y:e.pageY,offset:this.itemTimeStart-t},preDragPosition:{x:e.target.offsetLeft,y:e.target.offsetTop},dragTime:this.itemTimeStart,dragGroupDelta:0})}}).on("dragmove",e=>{this.state.dragging&&this.setState(t=>{if(!this.dragInProgress)return{...t};let n=this.dragTime(e);const r=this.dragGroupDelta(e);return this.props.moveResizeValidator&&(n=this.props.moveResizeValidator("move",this.props.item,n)),this.props.onDrag&&this.props.onDrag(this.itemId,n,this.props.order.index+r),{dragTime:n,dragGroupDelta:r}})}).on("dragend",e=>{if(this.state.dragging){if(this.props.onDrop){this.dragInProgress=!1,this.fireInteractEvent(!1);let t=this.dragTime(e);this.props.moveResizeValidator&&(t=this.props.moveResizeValidator("move",this.props.item,t)),this.props.onDrop(this.itemId,t,this.props.order.index+this.dragGroupDelta(e))}this.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",e=>{if(!this.props.selected)return!1;this.fireInteractEvent(!0),this.setState({resizing:!0,resizeEdge:null,resizeStart:e.pageX,resizeTime:0})}).on("resizemove",e=>{if(this.state.resizing){let t=this.state.resizeEdge;t||(t=0!==e.deltaRect.left?"left":"right",this.setState({resizeEdge:t}));let n=this.resizeTimeSnap(this.timeFor(e));this.props.moveResizeValidator&&(n=this.props.moveResizeValidator("resize",this.props.item,n,t)),this.props.onResizing&&this.props.onResizing(this.itemId,n,t),this.setState({resizeTime:n})}}).on("resizeend",e=>{if(this.state.resizing){this.fireInteractEvent(!1);const{resizeEdge:t}=this.state;let n=this.resizeTimeSnap(this.timeFor(e));this.props.moveResizeValidator&&(n=this.props.moveResizeValidator("resize",this.props.item,n,t)),this.props.onResized&&this.props.onResized(this.itemId,n,t,this.resizeTimeDelta(e,t)),this.setState({resizing:!1,resizeStart:null,resizeEdge:null,resizeTime:null})}}).on("tap",e=>{this.actualClick(e,"mouse"===e.pointerType?"click":"touch")}),this.setState({interactMounted:!0})}canResizeLeft(e=this.props){var t;return!(!e.canResizeLeft||void 0===e.minResizeWidth)&&parseInt(null==(t=e.dimensions.width)?void 0:t.toString(),10)>=e.minResizeWidth}canResizeRight(e=this.props){var t;return!(!e.canResizeRight||void 0===e.minResizeWidth)&&parseInt(null==(t=e.dimensions.width)?void 0:t.toString(),10)>=e.minResizeWidth}canMove(e=this.props){return!!e.canMove}componentDidUpdate(e){this.cacheDataFromProps(this.props);let{interactMounted:t}=this.state;const n=e.selected&&this.canMove(e),r=e.selected&&this.canResizeLeft(e),i=e.selected&&this.canResizeRight(e),o=this.props.selected&&this.canMove(this.props),s=this.props.selected&&this.canResizeLeft(this.props),a=this.props.selected&&this.canResizeRight(this.props);if(this.itemRef&&this.itemRef.current){if(this.props.selected&&!t&&(this.mountInteract(),t=!0),t&&(r!==s||i!==a)){const e=!this.props.useResizeHandle||this.dragLeft,t=!this.props.useResizeHandle||this.dragRight;h(this.itemRef.current).resizable({enabled:s||a,edges:{top:!1,bottom:!1,left:s&&e,right:a&&t}})}t&&n!==o&&h(this.itemRef.current).draggable({enabled:o})}else t=!1;t!==this.state.interactMounted&&this.setState({interactMounted:t})}actualClick(e,t){this.props.canSelect&&this.props.onSelect&&this.props.onSelect(this.itemId,t,e)}getItemStyle(e){const t=this.props.dimensions,n={position:"absolute",boxSizing:"border-box",left:`${t.left}px`,top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`,lineHeight:`${t.height}px`};return Object.assign({},Dr,this.props.selected?Cr:{},this.props.selected&&this.canMove(this.props)?jr:{},this.props.selected&&this.canResizeLeft(this.props)?zr:{},this.props.selected&&this.canResizeLeft(this.props)&&this.state.dragging?Rr:{},this.props.selected&&this.canResizeRight(this.props)?Lr:{},this.props.selected&&this.canResizeRight(this.props)&&this.state.dragging?Ar:{},e.style,n)}render(){if(typeof this.props.order>"u"||null===this.props.order)return null;const e=this.context,t={dimensions:this.props.dimensions,useResizeHandle:!!this.props.useResizeHandle,title:this.itemTitle,canMove:this.canMove(this.props),canResizeLeft:this.canResizeLeft(this.props),canResizeRight:this.canResizeRight(this.props),selected:this.props.selected,dragging:this.state.dragging,dragStart:this.state.dragStart,dragTime:this.state.dragTime,dragGroupDelta:this.state.dragGroupDelta,resizing:this.state.resizing,resizeEdge:this.state.resizeEdge,resizeStart:this.state.resizeStart,resizeTime:this.state.resizeTime};return this.props.itemRenderer?this.props.itemRenderer({item:this.props.item,timelineContext:e,itemContext:t,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps}):or({item:this.props.item,itemContext:t,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps})}}function Br(e,t){const n=void 0!==er(e,"canResize")?er(e,"canResize"):t;return"left"===n||"both"===n}function Vr(e,t){const n=void 0!==er(e,"canResize")?er(e,"canResize"):t;return"right"===n||"both"===n||!0===n}Object.defineProperty(Xr,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{selected:!1,itemRenderer:or}}),Object.defineProperty(Xr,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:Fr});class Zr extends i.Component{shouldComponentUpdate(e){return!(nr(e.groups,this.props.groups)&&nr(e.items,this.props.items)&&nr(e.dimensionItems,this.props.dimensionItems)&&e.keys===this.props.keys&&e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.selectedItem===this.props.selectedItem&&e.selected===this.props.selected&&e.dragSnap===this.props.dragSnap&&e.minResizeWidth===this.props.minResizeWidth&&e.canChangeGroup===this.props.canChangeGroup&&e.canMove===this.props.canMove&&e.canResize===this.props.canResize&&e.canSelect===this.props.canSelect)}isSelected(e,t){if(this.props.selected){const n=er(e,t);return this.props.selected.includes(n)}return this.props.selectedItem===er(e,t)}getVisibleItems(e,t){const{keys:n,items:r}=this.props;return gr(r,e,t,n)}render(){const{canvasTimeStart:e,canvasTimeEnd:t,dimensionItems:n,keys:i,groups:o}=this.props,{itemIdKey:s,itemGroupKey:a}=i,l=mr(o,i),c=this.getVisibleItems(e,t),u=function(e){const t={};return e.forEach(e=>{t[e.id]=e}),t}(n);return(0,r.jsx)("div",{className:"rct-items",children:c.filter(e=>u[er(e,s)]).map(e=>(0,r.jsx)(Xr,{itemProps:e.itemProps,item:e,keys:this.props.keys,order:l[er(e,a)],dimensions:u[er(e,s)].dimensions,selected:this.isSelected(e,s),canChangeGroup:void 0!==er(e,"canChangeGroup")?er(e,"canChangeGroup"):this.props.canChangeGroup,canMove:void 0!==er(e,"canMove")?er(e,"canMove"):this.props.canMove,canResizeLeft:Br(e,this.props.canResize),canResizeRight:Vr(e,this.props.canResize),canSelect:void 0!==er(e,"canSelect")?er(e,"canSelect"):this.props.canSelect,useResizeHandle:this.props.useResizeHandle,groupTops:this.props.groupTops,canvasTimeStart:this.props.canvasTimeStart,canvasTimeEnd:this.props.canvasTimeEnd,canvasWidth:this.props.canvasWidth,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,onResizing:this.props.itemResizing,onResized:this.props.itemResized,moveResizeValidator:this.props.moveResizeValidator,onDrag:this.props.itemDrag,onDrop:this.props.itemDrop,onItemDoubleClick:this.props.onItemDoubleClick,onContextMenu:this.props.onItemContextMenu,onSelect:this.props.itemSelect,itemRenderer:this.props.itemRenderer,scrollRef:this.props.scrollRef},er(e,s)))})}}class qr extends i.Component{shouldComponentUpdate(e){return!(e.keys===this.props.keys&&e.width===this.props.width&&e.height===this.props.height&&nr(e.groups,this.props.groups)&&nr(e.groupHeights,this.props.groupHeights))}renderGroupContent(e,t=!1,n,r){return this.props.groupRenderer?o().createElement(this.props.groupRenderer,{group:e,isRightSidebar:t}):er(e,t?r:n)}render(){const{width:e,groupHeights:t,height:n,isRightSidebar:i}=this.props,{groupIdKey:o,groupTitleKey:s,groupRightTitleKey:a}=this.props.keys,l={width:`${e}px`,height:`${n}px`},c={width:`${e}px`},u=this.props.groups.map((e,n)=>{const l={height:`${t[n]}px`,lineHeight:`${t[n]}px`};return(0,r.jsx)("div",{className:"rct-sidebar-row rct-sidebar-row-"+(n%2==0?"even":"odd"),style:l,children:this.renderGroupContent(e,i,s,a)},er(e,o))});return(0,r.jsx)("div",{className:"rct-sidebar"+(i?" rct-sidebar-right":""),style:l,children:(0,r.jsx)("div",{style:c,children:u})})}}class Jr extends i.Component{shouldComponentUpdate(e){return!(e.canvasTimeStart===this.props.canvasTimeStart&&e.canvasTimeEnd===this.props.canvasTimeEnd&&e.canvasWidth===this.props.canvasWidth&&e.lineCount===this.props.lineCount&&e.minUnit===this.props.minUnit&&e.timeSteps===this.props.timeSteps&&e.height===this.props.height&&e.verticalLineClassNamesForTime===this.props.verticalLineClassNamesForTime)}render(){const{canvasTimeStart:e,canvasTimeEnd:t,minUnit:n,timeSteps:i,height:o,verticalLineClassNamesForTime:s,getLeftOffsetFromDate:a}=this.props,l=[];return cr(e,t,n,i,(e,t)=>{const i=e.get("day"===n?"date":n)===("day"===n?1:0);let c=[];s&&(c=s(1e3*e.unix(),1e3*t.unix()-1));const u="rct-vl"+(i?" rct-vl-first":"")+("day"===n||"hour"===n||"minute"===n?` rct-day-${e.day()} `:" ")+c.join(" "),p=a(e.valueOf()),d=a(t.valueOf());l.push((0,r.jsx)("div",{className:u,style:{pointerEvents:"none",top:"0px",left:`${p}px`,width:d-p+"px",height:`${o}px`}},`line-${e.valueOf()}`))}),(0,r.jsx)("div",{className:"rct-vertical-lines",children:l})}}const Qr=({...e})=>(0,r.jsx)(Gr,{children:({getLeftOffsetFromDate:t})=>(0,r.jsx)(Jr,{getLeftOffsetFromDate:t,...e})});class ei extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.originClickX=e.clientX}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:e=>{void 0!==this.props.clickTolerance&&Math.abs(this.originClickX-e.clientX)>this.props.clickTolerance&&(this.cancelClick=!0)}}),Object.defineProperty(this,"handleClick",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.cancelClick||this.props.onClick(e),this.cancelClick=!1,this.originClickX=null}}),Object.defineProperty(this,"originClickX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cancelClick",{enumerable:!0,configurable:!0,writable:!0,value:!1})}render(){const e=o().Children.only(this.props.children);return o().cloneElement(e,{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick})}}class ti extends i.Component{render(){const{onContextMenu:e,onDoubleClick:t,isEvenRow:n,style:i,onClick:o,clickTolerance:s,horizontalLineClassNamesForGroup:a,group:l}=this.props;let c=[];return a&&(c=a(l)),(0,r.jsx)(ei,{clickTolerance:s,onClick:o,children:(0,r.jsx)("div",{onContextMenu:e,onDoubleClick:t,className:(n?"rct-hl-even ":"rct-hl-odd ")+(c?c.join(" "):""),style:i})})}}class ni extends i.Component{shouldComponentUpdate(e){return!(e.canvasWidth===this.props.canvasWidth&&e.lineCount===this.props.lineCount&&e.groupHeights===this.props.groupHeights&&e.groups===this.props.groups)}render(){const{canvasWidth:e,lineCount:t,groupHeights:n,onRowClick:i,onRowDoubleClick:o,clickTolerance:s,groups:a,horizontalLineClassNamesForGroup:l,onRowContextClick:c}=this.props,u=[];for(let p=0;p<t;p++)u.push((0,r.jsx)(ti,{clickTolerance:s,onContextMenu:e=>c(e,p),onClick:e=>i(e,p),onDoubleClick:e=>o(e,p),isEvenRow:p%2==0,group:a[p],horizontalLineClassNamesForGroup:l,style:{width:`${e}px`,height:`${n[p]}px`}},`horizontal-line-${p}`));return(0,r.jsx)("div",{className:"rct-horizontal-lines",children:u})}}class ri extends i.Component{constructor(e){super(e),Object.defineProperty(this,"scrollComponentRef",{enumerable:!0,configurable:!0,writable:!0,value:(0,i.createRef)()}),Object.defineProperty(this,"dragLastPosition",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastTouchDistance",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"singleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastSingleTouch",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isItemInteraction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"handleScroll",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=this.scrollComponentRef.current.scrollLeft;this.props.onScroll(e)}}),Object.defineProperty(this,"handleWheel",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(e.ctrlKey||e.metaKey||e.altKey){e.preventDefault();const t=s(e.currentTarget),n=e.clientX-t.x,r=e.ctrlKey?10:e.metaKey?3:1;this.props.onWheelZoom(r,n,e.deltaY)}else e.shiftKey&&(e.preventDefault(),this.props.onScroll(this.scrollComponentRef.current.scrollLeft+(e.deltaY||e.deltaX)))}}),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:e=>{0===e.button&&(this.dragLastPosition=e.pageX,this.setState({isDragging:!0}))}}),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.state.isDragging&&!this.isItemInteraction&&(this.props.onScroll(this.scrollComponentRef.current.scrollLeft+this.dragLastPosition-e.pageX),this.dragLastPosition=e.pageX)}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(2===e.touches.length)e.preventDefault(),this.lastTouchDistance=Math.abs(e.touches[0].screenX-e.touches[1].screenX),this.singleTouchStart=null,this.lastSingleTouch=null;else if(1===e.touches.length){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY;this.lastTouchDistance=null,this.singleTouchStart={x:t,y:n,screenY:window.pageYOffset},this.lastSingleTouch={x:t,y:n,screenY:window.pageYOffset}}}}),Object.defineProperty(this,"handleTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{width:t,onZoom:n}=this.props;if(this.isItemInteraction)e.preventDefault();else if(this.lastTouchDistance&&2===e.touches.length){e.preventDefault();const r=Math.abs(e.touches[0].screenX-e.touches[1].screenX),i=s(e.currentTarget),o=(e.touches[0].screenX+e.touches[1].screenX)/2-i.x;0!==r&&0!==this.lastTouchDistance&&(n(this.lastTouchDistance/r,o/t),this.lastTouchDistance=r)}else if(this.lastSingleTouch&&1===e.touches.length){e.preventDefault();const t=e.touches[0].clientX,n=e.touches[0].clientY,r=t-this.lastSingleTouch.x,i=t-this.singleTouchStart.x,o=n-this.singleTouchStart.y;this.lastSingleTouch={x:t,y:n,screenY:window.pageYOffset};const s=3*Math.abs(i)>Math.abs(o),a=3*Math.abs(o)>Math.abs(i);0!==r&&s&&this.props.onScroll(this.scrollComponentRef.current.scrollLeft-r),a&&window.scrollTo(window.scrollX,this.singleTouchStart.screenY-o)}}}),Object.defineProperty(this,"handleTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.lastTouchDistance&&(this.lastTouchDistance=null),this.lastSingleTouch&&(this.lastSingleTouch=null,this.singleTouchStart=null)}}),Object.defineProperty(this,"handleItemInteract",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.isItemInteraction=e.detail.itemInteraction}}),this.state={isDragging:!1}}componentDidMount(){this.scrollComponentRef.current&&(this.props.scrollRef(this.scrollComponentRef.current),this.scrollComponentRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.scrollComponentRef.current.addEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.scrollComponentRef.current.addEventListener("touchmove",this.handleTouchMove,{passive:!1}))}componentWillUnmount(){this.scrollComponentRef.current&&(this.scrollComponentRef.current.removeEventListener("wheel",this.handleWheel),this.scrollComponentRef.current.removeEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.removeEventListener("touchstart",this.handleTouchStart),this.scrollComponentRef.current.removeEventListener("touchmove",this.handleTouchMove))}render(){const{width:e,height:t,children:n}=this.props,{isDragging:i}=this.state,o={width:`${e}px`,height:`${t+20}px`,cursor:i?"move":"default",position:"relative"};return(0,r.jsx)("div",{ref:this.scrollComponentRef,"data-testid":"scroll-element",className:"rct-scroll",style:o,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onTouchEnd:this.handleTouchEnd,onScroll:this.handleScroll,children:n})}}const ii={subscribeToMouseOver:()=>(console.warn('"subscribeToMouseOver" default func is being used'),()=>{})},{Consumer:oi,Provider:si}=o().createContext(ii),ai=si,li=oi,ci={markers:[],subscribeMarker:()=>(console.warn("default subscribe marker used"),{unsubscribe:rr,getMarker:rr}),updateMarker:()=>(console.warn("default subscribe marker used"),rr)},{Consumer:ui,Provider:pi}=o().createContext(ci);let di=0;class hi extends o().Component{constructor(e){super(e),Object.defineProperty(this,"handleSubscribeToMarker",{enumerable:!0,configurable:!0,writable:!0,value:e=>(e={...e,id:(di+=1,di+1)},this.setState(t=>({markers:[...t.markers,e]})),{unsubscribe:()=>{this.setState(t=>({markers:t.markers.filter(t=>t.id!==e.id)}))},getMarker:()=>e})}),Object.defineProperty(this,"handleUpdateMarker",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.state.markers.findIndex(t=>t.id===e.id);t<0||this.setState(n=>({markers:[...n.markers.slice(0,t),e,...n.markers.slice(t+1)]}))}}),this.state={markers:[],subscribeMarker:this.handleSubscribeToMarker,updateMarker:this.handleUpdateMarker}}render(){return(0,r.jsx)(pi,{value:this.state,children:this.props.children})}}const fi=ui;var mi;!function(e){e.Today="Today",e.Custom="Custom",e.Cursor="Cursor"}(mi||(mi={}));const vi={position:"absolute",top:0,bottom:0,width:"2px",backgroundColor:"black",pointerEvents:"none"},gi=e=>({...vi,left:e}),bi=e=>function({styles:t}){return(0,r.jsx)("div",{style:t,"data-testid":e})},yi=bi("default-today-line");let xi=class extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{date:Date.now()}}),Object.defineProperty(this,"intervalToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}componentDidMount(){this.intervalToken=this.createIntervalUpdater(this.props.interval)}componentDidUpdate(e){e.interval!==this.props.interval&&(clearInterval(this.intervalToken),this.intervalToken=this.createIntervalUpdater(this.props.interval))}createIntervalUpdater(e){return setInterval(()=>{this.setState({date:Date.now()})},e)}componentWillUnmount(){clearInterval(this.intervalToken)}render(){const{date:e}=this.state,t=this.props.getLeftOffsetFromDate(e),n=gi(t);return this.props.renderer({styles:n,date:e})}};Object.defineProperty(xi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:yi}});const Ti=bi("default-customer-marker-id");let wi=class extends o().Component{render(){const{date:e}=this.props,t=this.props.getLeftOffsetFromDate(e),n=gi(t);return this.props.renderer({styles:n,date:e})}};Object.defineProperty(wi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:Ti}});const Si=bi("default-cursor-marker");let Oi=class extends o().Component{constructor(e){super(e),Object.defineProperty(this,"handleCanvasMouseOver",{enumerable:!0,configurable:!0,writable:!0,value:({leftOffset:e,date:t,isCursorOverCanvas:n})=>{this.setState({leftOffset:e,date:t,isShowingCursor:n})}}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state={leftOffset:0,date:0,isShowingCursor:!1}}componentDidMount(){this.unsubscribe=this.props.subscribeToCanvasMouseOver(this.handleCanvasMouseOver)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){const{isShowingCursor:e,leftOffset:t,date:n}=this.state;if(!e)return null;const r=gi(t);return this.props.renderer?this.props.renderer({styles:r,date:n}):null}};Object.defineProperty(Oi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:Si}});const _i=e=>(0,r.jsx)(li,{children:({subscribeToMouseOver:t})=>(0,r.jsx)(Oi,{subscribeToCanvasMouseOver:t,...e})});_i.displayName="CursorMarkerWrapper";const ki=()=>(0,r.jsx)(Gr,{children:({getLeftOffsetFromDate:e,getTimelineState:t})=>(0,r.jsx)(fi,{children:({markers:n})=>{const i=t();return n.map(t=>{switch(t.type){case mi.Today:return(new Date).valueOf()>=i.canvasTimeStart&&(new Date).valueOf()<=i.canvasTimeEnd?(0,r.jsx)(xi,{getLeftOffsetFromDate:e,renderer:t.renderer,interval:t.interval},t.id):null;case mi.Custom:return t.date>=i.canvasTimeStart&&t.date<=i.canvasTimeEnd?(0,r.jsx)(wi,{renderer:t.renderer,date:t.date,getLeftOffsetFromDate:e},t.id):null;case mi.Cursor:return(0,r.jsx)(_i,{renderer:t.renderer,getLeftOffsetFromDate:e},t.id);default:return null}})}})}),Ei={position:"absolute",left:0,right:0,top:0,bottom:0};class Pi extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;if(null!==this.subscription){const{pageX:n}=e,{left:r}=(null==(t=this.containerEl.current)?void 0:t.getBoundingClientRect())??{left:0},i=n-r,o=this.props.getDateFromLeftOffsetPosition(i);this.subscription({leftOffset:i,date:o,isCursorOverCanvas:!0})}}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{null!==this.subscription&&this.subscription({leftOffset:0,date:0,isCursorOverCanvas:!1})}}),Object.defineProperty(this,"handleMouseMoveSubscribe",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.subscription=e,()=>{this.subscription=null})}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{subscribeToMouseOver:this.handleMouseMoveSubscribe}}),Object.defineProperty(this,"containerEl",{enumerable:!0,configurable:!0,writable:!0,value:o().createRef()}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:null})}render(){return(0,r.jsx)(ai,{value:this.state,children:(0,r.jsxs)("div",{style:Ei,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,ref:this.containerEl,children:[(0,r.jsx)(ki,{}),this.props.children]})})}}const Mi=e=>(0,r.jsx)(Gr,{children:({getDateFromLeftOffsetPosition:t})=>(0,r.jsx)(Pi,{getDateFromLeftOffsetPosition:t,...e})}),Ii=function(e){e._resizeEventListener=()=>e.resize(),window.addEventListener("resize",e._resizeEventListener)},Di=function(e){window.removeEventListener("resize",e._resizeEventListener)},Ci={year:{long:"YYYY",mediumLong:"YYYY",medium:"YYYY",short:"YY"},month:{long:"MMMM YYYY",mediumLong:"MMMM",medium:"MMMM",short:"MM/YY"},week:{long:"w",mediumLong:"w",medium:"w",short:"w"},day:{long:"dddd, LL",mediumLong:"dddd, LL",medium:"dd D",short:"D"},hour:{long:"dddd, LL, HH:00",mediumLong:"L, HH:00",medium:"HH:00",short:"HH"},minute:{long:"HH:mm",mediumLong:"HH:mm",medium:"HH:mm",short:"mm"},second:{long:"mm:ss",mediumLong:"mm:ss",medium:"mm:ss",short:"ss"}},ji={registerScroll:()=>(console.warn("default registerScroll header used"),rr),rightSidebarWidth:0,leftSidebarWidth:150,timeSteps:{}},zi=o().createContext(ji);class Ri extends o().Component{render(){const e={rightSidebarWidth:this.props.rightSidebarWidth,leftSidebarWidth:this.props.leftSidebarWidth,timeSteps:this.props.timeSteps,registerScroll:this.props.registerScroll};return(0,r.jsx)(zi.Provider,{value:e,children:this.props.children})}}const Li=zi,Ai=()=>(0,i.useContext)(Li);var $i={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var o in e)t.call(e,o)&&e[o]&&(r=i(r,o));return r}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}($i);const Hi=u($i.exports),Wi="left",Fi="right";class Yi extends i.PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const{style:t}=e,n=this.props.variant===Fi?this.props.rightSidebarWidth:this.props.leftSidebarWidth;return{style:{color:(null==t?void 0:t.color)??"#fff",...t,width:n}}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>({getRootProps:this.getRootProps,data:this.props.headerData})})}render(){const e=this.getStateAndHelpers();return this.props.children(e)}}const Ni=({getRootProps:e})=>(0,r.jsx)("div",{"data-testid":"sidebarHeader",...e()}),Ui=e=>{const{children:t,variant:n=Wi,headerData:i}=e,{leftSidebarWidth:o,rightSidebarWidth:s}=Ai();return(0,r.jsx)(Yi,{leftSidebarWidth:o,rightSidebarWidth:s,variant:n,headerData:i,children:t||Ni})};Ui.secretKey="SidebarHeader";class Gi extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>({...this.props.style,display:"flex",width:"100%"})}),Object.defineProperty(this,"getCalendarHeaderStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{leftSidebarWidth:e,rightSidebarWidth:t,calendarHeaderStyle:n}=this.props;return{...n,overflow:"hidden",width:`calc(100% - ${e+t}px)`}}}),Object.defineProperty(this,"isSidebarHeader",{enumerable:!0,configurable:!0,writable:!0,value:e=>void 0!==e.type&&e.type.secretKey===Ui.secretKey})}render(){let e,t;const n=[],i=Array.isArray(this.props.children)?this.props.children.filter(e=>e):[this.props.children];return o().Children.map(i,r=>{var i;this.isSidebarHeader(r)?(null==(i=null==r?void 0:r.props)?void 0:i.variant)===Fi?e=r:t=r:n.push(r)}),t||(t=(0,r.jsx)(Ui,{})),!e&&this.props.rightSidebarWidth&&(e=(0,r.jsx)(Ui,{variant:"right"})),(0,r.jsxs)("div",{"data-testid":"headerRootDiv",style:this.getRootStyle(),className:Hi("rct-header-root",this.props.className),children:[t,(0,r.jsx)("div",{ref:this.props.registerScroll,style:this.getCalendarHeaderStyle(),className:Hi("rct-calendar-header",this.props.calendarHeaderClassName),"data-testid":"headerContainer",children:n}),e]})}}const Ki=({children:e,style:t,className:n,calendarHeaderStyle:i,calendarHeaderClassName:o})=>{const{leftSidebarWidth:s,rightSidebarWidth:a,registerScroll:l}=Ai();return(0,r.jsx)(Gi,{leftSidebarWidth:s,rightSidebarWidth:a,registerScroll:l,style:t,className:n,calendarHeaderStyle:i,calendarHeaderClassName:o,children:e})};Ki.secretKey="TimelineHeaders";class Xi extends o().Component{constructor(e){super(e),Object.defineProperty(this,"getHeaderIntervals",{enumerable:!0,configurable:!0,writable:!0,value:({canvasTimeStart:e,canvasTimeEnd:t,unit:n,timeSteps:r,getLeftOffsetFromDate:i})=>{const o=[];return cr(e,t,n,r,(e,t)=>{const n=i(e.valueOf()),r=i(t.valueOf())-n;o.push({startTime:e,endTime:t,labelWidth:r,left:n})}),o}}),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const{style:t}=e;return{style:Object.assign({},t||{},{position:"relative",width:this.props.canvasWidth,height:this.props.height})}}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>{const{interval:t,style:n}=e;if(!t)throw new Error("you should provide interval to the prop getter");const{startTime:r,labelWidth:i,left:o}=t;return{style:{...n,left:o,width:i,position:"absolute"},key:`label-${r.valueOf()}`}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{unit:e,showPeriod:t,headerData:n}=this.props;return{headerContext:{unit:e,intervals:this.state.intervals},getRootProps:this.getRootProps,getIntervalProps:this.getIntervalProps,showPeriod:t,data:n}}});const{canvasTimeStart:t,canvasTimeEnd:n,unit:r,timeSteps:i,getLeftOffsetFromDate:o}=e,s=this.getHeaderIntervals({canvasTimeStart:t,canvasTimeEnd:n,unit:r,timeSteps:i,getLeftOffsetFromDate:o});this.state={intervals:s}}componentDidUpdate(e){if(!Qn(e,this.props)){const{canvasTimeStart:e,canvasTimeEnd:t,unit:n,timeSteps:r,getLeftOffsetFromDate:i}=this.props,o=this.getHeaderIntervals({canvasTimeStart:e,canvasTimeEnd:t,unit:n,timeSteps:r,getLeftOffsetFromDate:i});this.setState({intervals:o})}}render(){const e=this.getStateAndHelpers();return this.props.children(e)}}function Bi({children:e,unit:t,headerData:n,height:i}){const{getTimelineState:o,showPeriod:s,getLeftOffsetFromDate:a}=Kr(),l=o(),{timeSteps:c}=Ai();return(0,r.jsx)(Xi,{children:e,timeSteps:c,showPeriod:s,unit:t||l.timelineUnit,...l,headerData:n,getLeftOffsetFromDate:a,height:i})}Object.defineProperty(Xi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{height:30}});var Vi=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Zi(e,t){return!!(e===t||Vi(e)&&Vi(t))}function qi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Zi(e[n],t[n]))return!1;return!0}function Ji(e,t){void 0===t&&(t=qi);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}class Qi extends o().PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"onIntervalClick",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{primaryHeader:e,interval:t,unit:n,showPeriod:r}=this.props;if(e){const e=dr(n);r(t.startTime.clone().startOf(e),t.startTime.clone().endOf(e))}else r(t.startTime,t.endTime)}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(e={})=>({...this.props.getIntervalProps({interval:this.props.interval,...e}),onClick:ir(this.onIntervalClick,e.onClick)})})}render(){const{intervalText:e,interval:t,intervalRenderer:n,headerData:o}=this.props;if(n)return n({getIntervalProps:this.getIntervalProps,intervalContext:{interval:t,intervalText:e},data:o});const{key:s,...a}=this.getIntervalProps();return(0,i.createElement)("div",{"data-testid":"dateHeaderInterval",...a,key:s,className:"rct-dateHeader "+(this.props.primaryHeader?"rct-dateHeader-primary":"")},(0,r.jsx)("span",{children:e}))}}function eo({headerContext:{intervals:e,unit:t},getRootProps:n,getIntervalProps:i,showPeriod:o,data:{style:s,intervalRenderer:a,className:l,getLabelFormat:c,unitProp:u,headerData:p}}){return(0,r.jsx)("div",{"data-testid":"dateHeader",className:l,...n({style:s}),children:e.map(e=>{const n=c([e.startTime,e.endTime],t,e.labelWidth);return(0,r.jsx)(Qi,{unit:t,interval:e,showPeriod:o,intervalText:n,primaryHeader:"primaryHeader"===u,getIntervalProps:i,intervalRenderer:a,headerData:p},`label-${e.startTime.valueOf()}`)})})}class to extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"getHeaderUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>"primaryHeader"===this.props.unit?dr(this.props.timelineUnit):this.props.unit?this.props.unit:this.props.timelineUnit}),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:Ji(e=>({height:30,...e}))}),Object.defineProperty(this,"getLabelFormat",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n)=>{const{labelFormat:r}=this.props;if("string"==typeof r)return e[0].format(r);if("function"==typeof r)return r(e,t,n);throw new Error("labelFormat should be function or string")}}),Object.defineProperty(this,"getHeaderData",{enumerable:!0,configurable:!0,writable:!0,value:Ji((e,t,n,r,i,o)=>({intervalRenderer:e,style:t,className:n,getLabelFormat:r,unitProp:i,headerData:o}))})}render(){const e=this.getHeaderUnit(),{height:t}=this.props;return(0,r.jsx)(Bi,{children:eo,unit:e,height:t,headerData:this.getHeaderData(this.props.intervalRenderer,this.getRootStyle(this.props.style),this.props.className,this.getLabelFormat,this.props.unit,this.props.headerData)})}}function no({labelFormat:e,unit:t,style:n,className:i,intervalRenderer:o,headerData:s,height:a}){return(0,r.jsx)(Gr,{children:({getTimelineState:l})=>{const c=l();return(0,r.jsx)(to,{timelineUnit:c.timelineUnit,unit:t,labelFormat:e||ro,style:n,className:i,intervalRenderer:o,headerData:s,height:a})}})}const ro=([e],t,n=150,r=Ci)=>{let i;return i=n>=150?r[t].long:n>=100?r[t].mediumLong:n>=50?r[t].medium:r[t].short,e.format(i)};var io={exports:{}};!function(e){var t;e.exports=(t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,n,r){var i=n.prototype,o=i.format;r.en.formats=t,i.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var n,r=this.$locale().formats,i=(n=void 0===r?{}:r,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,r,i){var o=i&&i.toUpperCase();return r||n[i]||t[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})}));return o.call(this,i)}})}(io);const oo=u(io.exports);m.extend(oo);class so extends i.Component{constructor(e){super(e),Object.defineProperty(this,"getTimelineContext",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{width:e,visibleTimeStart:t,visibleTimeEnd:n,canvasTimeStart:r,canvasTimeEnd:i}=this.state,o=n-t;return{canvasWidth:_r(e,this.props.buffer),timelineUnit:ur(o,e,this.props.timeSteps),timelineWidth:e,visibleTimeStart:t,visibleTimeEnd:n,canvasTimeStart:r,canvasTimeEnd:i}}}),Object.defineProperty(this,"getTimelineUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{width:e,visibleTimeStart:t,visibleTimeEnd:n}=this.state,{timeSteps:r}=this.props;return ur(n-t,e,r)}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollComponent",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"scrollHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resize",{enumerable:!0,configurable:!0,writable:!0,value:(e=this.props)=>{var t;const{width:n}=(null==(t=this.container.current)?void 0:t.getBoundingClientRect())??{width:0},r=n-e.sidebarWidth-e.rightSidebarWidth,i=_r(r,e.buffer),{dimensionItems:o,height:s,groupHeights:a,groupTops:l}=Or(e.items,e.groups,i,this.state.canvasTimeStart,this.state.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder);this.setState({width:r,dimensionItems:o,height:s,groupHeights:a,groupTops:l});const c=r*((e.buffer-1)/2);this.scrollComponent&&(this.scrollComponent.scrollLeft=c),this.scrollHeaderRef&&(this.scrollHeaderRef.scrollLeft=c)}}),Object.defineProperty(this,"onScroll",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t,n;const r=this.state.width,i=this.state.canvasTimeStart,o=this.state.visibleTimeEnd-this.state.visibleTimeStart,s=i+o*e/r;(this.state.visibleTimeStart!==s||this.state.visibleTimeEnd!==s+o)&&(null==(n=(t=this.props).onTimeChange)||n.call(t,s,s+o,this.updateScrollCanvas,this.getTimelineUnit()))}}),Object.defineProperty(this,"updateScrollCanvas",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n=!1,r=this.props.items,i=this.props.groups)=>{this.setState(Mr(e,t,n,r,i,this.props,this.state))}}),Object.defineProperty(this,"handleWheelZoom",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n)=>{this.changeZoom(1+e*n/500,t/this.state.width)}}),Object.defineProperty(this,"changeZoom",{enumerable:!0,configurable:!0,writable:!0,value:(e,t=.5)=>{const{minZoom:n,maxZoom:r}=this.props,i=this.state.visibleTimeEnd-this.state.visibleTimeStart,o=Math.min(Math.max(Math.round(i*e),n),r),s=Math.round(this.state.visibleTimeStart+(i-o)*t);this.props.onTimeChange&&this.props.onTimeChange(s,s+o,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"showPeriod",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{var n,r;const i=e.valueOf(),o=t.valueOf()-i;o<this.props.minZoom||null==(r=(n=this.props).onTimeChange)||r.call(n,i,i+o,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"selectItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n)=>{if(this.isItemSelected(e)||this.props.itemTouchSendsClick&&"touch"===t){if(e&&this.props.onItemClick){const t=this.timeFromItemEvent(n);this.props.onItemClick(e,n,t)}}else if(this.setState({selectedItem:e}),e&&this.props.onItemSelect){const t=this.timeFromItemEvent(n);this.props.onItemSelect(e,n,t)}else null===e&&this.props.onItemDeselect&&this.props.onItemDeselect(n)}}),Object.defineProperty(this,"doubleClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(this.props.onItemDoubleClick){const n=this.timeFromItemEvent(t);this.props.onItemDoubleClick(e,t,n)}}}),Object.defineProperty(this,"contextMenuClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(this.props.onItemContextMenu){const n=this.timeFromItemEvent(t);this.props.onItemContextMenu(e,t,n)}}}),Object.defineProperty(this,"getTimeFromRowClickEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{dragSnap:t,buffer:n}=this.props,{width:r,canvasTimeStart:i,canvasTimeEnd:o}=this.state,{offsetX:s}=e.nativeEvent;let a=lr(i,o,_r(r,n),s);return a=Math.floor(a/t)*t,a}}),Object.defineProperty(this,"timeFromItemEvent",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const{width:t,visibleTimeStart:n,visibleTimeEnd:r}=this.state,i=this.props.dragSnap,o=this.scrollComponent,{left:s}=o.getBoundingClientRect(),a=(e.clientX-s)/t*(r-n);let l=Math.round(n+a);return l=Math.floor(l/i)*i,l}}),Object.defineProperty(this,"dragItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n)=>{const r=this.props.groups[n],i=this.props.keys;this.setState({draggingItem:e,dragTime:t,newGroupOrder:n,dragGroupTitle:r?er(r,i.groupLabelKey):""}),this.updatingItem({eventType:"move",itemId:e,time:t,newGroupOrder:n})}}),Object.defineProperty(this,"dropItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n)=>{this.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),this.props.onItemMove&&this.props.onItemMove(e,t,n)}}),Object.defineProperty(this,"resizingItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n)=>{this.setState({resizingItem:e,resizingEdge:n,resizeTime:t}),this.updatingItem({eventType:"resize",itemId:e,time:t,edge:n||void 0})}}),Object.defineProperty(this,"resizedItem",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,n,r)=>{this.setState({resizingItem:null,resizingEdge:null,resizeTime:null}),this.props.onItemResize&&0!==r&&this.props.onItemResize(e,t,n)}}),Object.defineProperty(this,"updatingItem",{enumerable:!0,configurable:!0,writable:!0,value:({eventType:e,itemId:t,time:n,edge:r,newGroupOrder:i})=>{this.props.onItemDrag&&("move"===e?this.props.onItemDrag({eventType:e,itemId:t,time:n,newGroupOrder:i}):this.props.onItemDrag({eventType:e,itemId:t,time:n,edge:r}))}}),Object.defineProperty(this,"handleRowClick",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(this.hasSelectedItem()&&this.selectItem(null,"click",e),null==this.props.onCanvasClick)return;const n=this.getTimeFromRowClickEvent(e),r=er(this.props.groups[t],this.props.keys.groupIdKey);this.props.onCanvasClick(r,n,e)}}),Object.defineProperty(this,"handleRowDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(null==this.props.onCanvasDoubleClick)return;const n=this.getTimeFromRowClickEvent(e),r=er(this.props.groups[t],this.props.keys.groupIdKey);this.props.onCanvasDoubleClick(r,n,e)}}),Object.defineProperty(this,"handleScrollContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{if(null==this.props.onCanvasContextMenu)return;const n=this.getTimeFromRowClickEvent(e),r=er(this.props.groups[t],this.props.keys.groupIdKey);this.props.onCanvasContextMenu&&(e.preventDefault(),this.props.onCanvasContextMenu(r,n,e))}}),Object.defineProperty(this,"handleHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.scrollHeaderRef=e,this.props.headerRef&&this.props.headerRef(e)}}),Object.defineProperty(this,"isTimelineHeader",{enumerable:!0,configurable:!0,writable:!0,value:e=>void 0!==e.type&&e.type.secretKey===Ki.secretKey}),Object.defineProperty(this,"renderHeaders",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.props.children){let e;if(o().Children.map(this.props.children,t=>{this.isTimelineHeader(t)&&(e=t)}),e)return e}return(0,r.jsxs)(Ki,{children:[(0,r.jsx)(no,{unit:"primaryHeader"}),(0,r.jsx)(no,{})]})}}),Object.defineProperty(this,"getScrollElementRef",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.props.scrollRef&&this.props.scrollRef(e),this.scrollComponent=e}}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:o().createRef()}),Object.defineProperty(this,"getBoundingClientRect",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.scrollComponent.getBoundingClientRect()}),Object.defineProperty(this,"calculateDropCoordinatesToTimeAndGroup",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const n=_r(this.state.width,this.props.buffer),r=sr(this.state.canvasTimeStart,this.state.canvasTimeEnd,n),i=(e-l(this.scrollComponent).offsetLeft+a(this.scrollComponent).scrollLeft)*r+this.state.canvasTimeStart;let o=0;for(const e of this.state.groupTops){if(!(t>Number(e)))break;o=this.state.groupTops.indexOf(e)}if(!this.props.dragSnap)return{time:i,groupIndex:o};const s=60*m().utcOffset()*1e3;return{time:Math.round(i/this.props.dragSnap)*this.props.dragSnap-s%this.props.dragSnap,groupIndex:o}}}),this.getSelected=this.getSelected.bind(this),this.hasSelectedItem=this.hasSelectedItem.bind(this),this.isItemSelected=this.isItemSelected.bind(this);let t=null,n=null;if(this.props.defaultTimeStart&&this.props.defaultTimeEnd)t=this.props.defaultTimeStart,n=this.props.defaultTimeEnd;else{if(!this.props.visibleTimeStart||!this.props.visibleTimeEnd)throw new Error('You must provide either "defaultTimeStart" and "defaultTimeEnd" or "visibleTimeStart" and "visibleTimeEnd" to initialize the Timeline');t=this.props.visibleTimeStart,n=this.props.visibleTimeEnd}const[i,s]=Pr(t,n,e.buffer),c={width:1e3,visibleTimeStart:t,visibleTimeEnd:n,canvasTimeStart:i,canvasTimeEnd:s,selectedItem:null,dragTime:null,dragGroupTitle:null,resizeTime:null,resizingItem:null,resizingEdge:null,newGroupOrder:0},u=_r(c.width,e.buffer),{dimensionItems:p,height:d,groupHeights:h,groupTops:f}=Or(e.items,e.groups,u,c.canvasTimeStart,c.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,c.draggingItem,c.resizingItem,c.dragTime,c.resizingEdge,c.resizeTime,c.newGroupOrder);c.dimensionItems=p,c.height=d,c.groupHeights=h,c.groupTops=f,this.state=c}componentDidMount(){this.resize(this.props),this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.addListener(this),Ii(this)}componentWillUnmount(){this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.removeListener(this),Di(this)}static getDerivedStateFromProps(e,t){const{visibleTimeStart:n,visibleTimeEnd:r,items:i,groups:o}=e,s={items:i,groups:o},a=i!==t.items||o!==t.groups;if(n&&r)Object.assign(s,Mr(n,r,a,i,o,e,t));else if(a){const n=_r(t.width,e.buffer);Object.assign(s,Or(i,o,n,t.canvasTimeStart,t.canvasTimeEnd,e.keys,e.lineHeight,e.itemHeightRatio,e.stackItems,t.draggingItem,t.resizingItem,t.dragTime,t.resizingEdge,t.resizeTime,t.newGroupOrder))}return s}componentDidUpdate(e,t){const n=this.state.visibleTimeEnd-this.state.visibleTimeStart,r=t.visibleTimeEnd-t.visibleTimeStart;this.props.onZoom&&n!==r&&this.props.onZoom(this.getTimelineContext(),this.getTimelineUnit()),this.props.onBoundsChange&&this.state.canvasTimeStart!==t.canvasTimeStart&&this.props.onBoundsChange(this.state.canvasTimeStart,this.state.canvasTimeStart+3*n);const i=Math.round(this.state.width*(this.state.visibleTimeStart-this.state.canvasTimeStart)/n);(Math.round(t.width*(t.visibleTimeStart-t.canvasTimeStart)/r)!==i||this.scrollComponent.scrollLeft!==i)&&(this.scrollComponent.scrollLeft=i,this.scrollHeaderRef.scrollLeft=i)}columns(e,t,n,i,o,s){var a;return(0,r.jsx)(Qr,{canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:n,lineCount:(null==(a=this.props.groups)?void 0:a.length)||0,minUnit:i,timeSteps:o,height:s,verticalLineClassNamesForTime:this.props.verticalLineClassNamesForTime})}rows(e,t,n){var i;return(0,r.jsx)(ni,{groups:n,canvasWidth:e,lineCount:(null==(i=this.props.groups)?void 0:i.length)||0,groupHeights:t,clickTolerance:this.props.clickTolerance,onRowClick:this.handleRowClick,onRowDoubleClick:this.handleRowDoubleClick,horizontalLineClassNamesForGroup:this.props.horizontalLineClassNamesForGroup,onRowContextClick:this.handleScrollContextMenu})}items({canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:n,dimensionItems:i,groupTops:o}){return(0,r.jsx)(Zr,{canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:n,dimensionItems:i,groupTops:o,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem||void 0,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,useResizeHandle:this.props.useResizeHandle,canSelect:this.props.canSelect,moveResizeValidator:this.props.moveResizeValidator,itemSelect:this.selectItem,itemDrag:this.dragItem,itemDrop:this.dropItem,onItemDoubleClick:this.doubleClickItem,onItemContextMenu:this.props.onItemContextMenu?this.contextMenuClickItem:void 0,itemResizing:this.resizingItem,itemResized:this.resizedItem,itemRenderer:this.props.itemRenderer,selected:this.props.selected,scrollRef:this.scrollComponent})}sidebar(e,t){const{sidebarWidth:n}=this.props;return n&&(0,r.jsx)(qr,{groups:this.props.groups,groupRenderer:this.props.groupRenderer,keys:this.props.keys,width:n,groupHeights:t,height:e})}rightSidebar(e,t){const{rightSidebarWidth:n}=this.props;return n&&(0,r.jsx)(qr,{groups:this.props.groups,keys:this.props.keys,groupRenderer:this.props.groupRenderer,isRightSidebar:!0,width:n,groupHeights:t,height:e})}childrenWithProps(e,t,n,r,i,s,a,l,c,u,p){if(!this.props.children)return null;const d=Array.isArray(this.props.children)?this.props.children.filter(e=>e):[this.props.children],h={canvasTimeStart:e,canvasTimeEnd:t,canvasWidth:n,visibleTimeStart:l,visibleTimeEnd:c,dimensionItems:r,items:this.props.items,groups:this.props.groups,keys:this.props.keys,groupHeights:i,groupTops:s,selected:this.getSelected(),height:a,minUnit:u,timeSteps:p};return o().Children.map(d,e=>this.isTimelineHeader(e)?null:o().cloneElement(e,h))}getSelected(){return this.state.selectedItem&&!this.props.selected?[this.state.selectedItem]:this.props.selected||[]}hasSelectedItem(){return Array.isArray(this.props.selected)?this.props.selected.length>0:!!this.state.selectedItem}isItemSelected(e){return this.getSelected().some(t=>t===e)}render(){const{items:e,groups:t,sidebarWidth:n,rightSidebarWidth:i,timeSteps:o,traditionalZoom:s,buffer:a}=this.props,{draggingItem:l,resizingItem:c,width:u,visibleTimeStart:p,visibleTimeEnd:d,canvasTimeStart:h,canvasTimeEnd:f}=this.state;let{dimensionItems:m,height:v,groupHeights:g,groupTops:b}=this.state;const y=d-p,x=_r(u,a),T=ur(y,u,o);if(l||c){const n=Or(e,t,x,this.state.canvasTimeStart,this.state.canvasTimeEnd,this.props.keys,this.props.lineHeight,this.props.itemHeightRatio,this.props.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder);m=n.dimensionItems,v=n.height,g=n.groupHeights,b=n.groupTops}const w={height:`${v}px`};return(0,r.jsx)(Ur,{visibleTimeStart:p,visibleTimeEnd:d,canvasTimeStart:h,canvasTimeEnd:f,canvasWidth:x,showPeriod:this.showPeriod,timelineUnit:T,timelineWidth:this.state.width,children:(0,r.jsx)(hi,{children:(0,r.jsx)(Ri,{registerScroll:this.handleHeaderRef,timeSteps:o,leftSidebarWidth:this.props.sidebarWidth,rightSidebarWidth:this.props.rightSidebarWidth,children:(0,r.jsxs)("div",{style:this.props.style,ref:this.container,className:`react-calendar-timeline ${this.props.className}`,children:[this.renderHeaders(),(0,r.jsxs)("div",{style:w,className:"rct-outer",children:[n>0?this.sidebar(v,g):null,(0,r.jsx)(ri,{scrollRef:this.getScrollElementRef,width:u,height:v,onZoom:this.changeZoom,onWheelZoom:this.handleWheelZoom,traditionalZoom:!!s,onScroll:this.onScroll,children:(0,r.jsxs)(Mi,{children:[this.columns(h,f,x,T,o,v),this.rows(x,g,t),this.items({canvasTimeStart:h,canvasTimeEnd:f,canvasWidth:x,dimensionItems:m,groupTops:b}),this.childrenWithProps(h,f,x,m,g,b,v,p,d,T,o)]})}),i>0?this.rightSidebar(v,g):null]})]})})})})}}Object.defineProperty(so,"setDayjsLocale",{enumerable:!0,configurable:!0,writable:!0,value:m.locale}),Object.defineProperty(so,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{sidebarWidth:150,rightSidebarWidth:0,dragSnap:9e5,minResizeWidth:20,lineHeight:30,itemHeightRatio:.65,buffer:3,minZoom:36e5,maxZoom:15778368e4,clickTolerance:3,canChangeGroup:!0,canMove:!0,canResize:"right",useResizeHandle:!1,canSelect:!0,stackItems:!1,traditionalZoom:!1,horizontalLineClassNamesForGroup:null,onItemMove:null,onItemResize:null,onItemClick:null,onItemSelect:null,onItemDeselect:null,onItemDrag:null,onCanvasClick:null,onItemDoubleClick:null,onItemContextMenu:null,onZoom:null,verticalLineClassNamesForTime:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},className:"",keys:{groupIdKey:"id",groupTitleKey:"title",groupRightTitleKey:"rightTitle",groupLabelKey:"title",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},timeSteps:{second:1,minute:1,hour:1,day:1,month:1,year:1},headerRef:()=>{},scrollRef:()=>{},visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(e,t,n){n(e,t)},onBoundsChange:null,children:null,selected:null}});const ao=e=>e.children||null;class lo extends o().Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){const{unsubscribe:e,getMarker:t}=this.props.subscribeMarker({type:mi.Today,renderer:this.props.children,interval:this.props.interval});this.unsubscribe=e,this.getMarker=t}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}componentDidUpdate(e){if(e.interval!==this.props.interval&&this.getMarker){const e=this.getMarker();this.props.updateMarker({...e,interval:this.props.interval})}}render(){return null}}Object.defineProperty(lo,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{interval:1e4}});const co=e=>(0,r.jsx)(fi,{children:({subscribeMarker:t,updateMarker:n})=>(0,r.jsx)(lo,{subscribeMarker:t,updateMarker:n,...e})});co.displayName="TodayMarkerWrapper";class uo extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidUpdate(e){if(e.date!==this.props.date&&this.getMarker){const e=this.getMarker();this.props.updateMarker({...e,date:this.props.date})}}componentDidMount(){const{unsubscribe:e,getMarker:t}=this.props.subscribeMarker({type:mi.Custom,renderer:this.props.children,date:this.props.date});this.unsubscribe=e,this.getMarker=t}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}render(){return null}}const po=e=>(0,r.jsx)(fi,{children:({subscribeMarker:t,updateMarker:n})=>(0,r.jsx)(uo,{subscribeMarker:t,updateMarker:n,...e})});po.displayName="CustomMarkerWrapper";class ho extends i.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){const{unsubscribe:e}=this.props.subscribeMarker({type:mi.Cursor,renderer:this.props.children});this.unsubscribe=e}componentWillUnmount(){null!=this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}render(){return null}}const fo=e=>(0,r.jsx)(fi,{children:({subscribeMarker:t})=>(0,r.jsx)(ho,{subscribeMarker:t,...e})});fo.displayName="CursorMarkerWrapper"},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},541:function(e,t,n){var r,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),i=0;i<n.length;i++)"default"!==n[i]&&o(t,e,n[i]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedItemInfo=function(e){var t=e.item,n=e.setProps,r=e.selectedItemProps,o=e.onDelete,s=e.onItemFix,a=e.onSkuChange,c=(0,l.useState)((null==t?void 0:t.sku)||0),u=c[0],p=c[1],d=(0,l.useState)((null==t?void 0:t.is_fixed)||!1),h=d[0],f=d[1];if((0,l.useEffect)(function(){p((null==t?void 0:t.sku)||0),f((null==t?void 0:t.is_fixed)||!1)},[t]),void 0===t)return l.default.createElement(l.default.Fragment,null);var m=t.mousePosition.x+5,v=t.mousePosition.y+5;return l.default.createElement("div",{style:{position:"absolute",left:m,top:v},className:"selected-item-info"},l.default.createElement("div",{className:"selected-item-info-inputs"},l.default.createElement("button",{type:"button",onClick:function(){return o(t.id)}},"🗑"),l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"is-fixed-check"},"Is Fixed"),l.default.createElement("input",{type:"checkbox",name:"Is Fixed",id:"is-fixed-check",checked:h,onChange:function(e){f(e.target.checked),n({isFixedChanged:e.target.checked}),s(t.id,e.target.checked)}})),l.default.createElement("div",null,l.default.createElement("label",{htmlFor:"sku-input"},"SKU"),l.default.createElement("input",{type:"number",name:"SKU",id:"sku-input",value:u,onChange:function(e){p(Number(e.target.value)),n({skuChanged:Number(e.target.value)}),a(t.id,Number(e.target.value))}}))),t.hoverInfo&&l.default.createElement("div",{dangerouslySetInnerHTML:{__html:t.hoverInfo}}),t.inputs&&Object.entries(t.inputs).map(function(e,t){var o=e[0],s=e[1];return l.default.createElement("div",{key:t},l.default.createElement("label",{htmlFor:s.id},o),l.default.createElement("input",i({},s,{onChange:function(e){var t;s.onChange&&s.onChange(e);var a="checkbox"===e.target.type?e.target.checked:e.target.value;n({selectedItemInput:i(i({},r),(t={},t[o]=a,t))})}})))}))};var l=a(n(295))},601:e=>{e.exports=function(e){return e[1]}},628:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(72),i=n.n(r),o=n(825),s=n.n(o),a=n(56),l=n.n(a),c=n(540),u=n.n(c),p=n(113),d=n.n(p),h=n(415),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){var t=document.querySelector("head"),n=window._lastElementInsertedByStyleLoader;n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},f.domAPI=s(),f.insertStyleElement=u(),i()(h.A,f);const m=h.A&&h.A.locals?h.A.locals:void 0},722:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RightClickOutsideHandler=function(e){var t=e.contextItems,n=e.mouseEvent,r=(e.time,e.groupId,e.onClickEvent);return i.default.createElement("div",{style:{position:"absolute",top:n.clientY,left:n.clientX,backgroundColor:"white",border:"1px solid black",zIndex:1e3},className:"dash-rct-right-click-menu"},t.map(function(e,t){return i.default.createElement("div",{key:t,onClick:function(){return r(e)},className:"dash-rct-right-click-menu-option"},e)}))};var i=r(n(295))},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},832:function(e,t,n){var r,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),i=0;i<n.length;i++)"default"!==n[i]&&o(t,e,n[i]);return s(t,e),t}),l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=a(n(295)),d=u(n(448));n(921),n(438),n(628);var h=n(541),f=n(722);function m(e){return e.map(function(e){return i({canResize:"both"},e)})}t.default=function(e){var t=e.id,n=e.setProps,r=(0,p.useState)(m(e.items)),o=r[0],s=r[1],a=(0,p.useState)(e.visible_time_start),u=a[0],v=a[1],g=(0,p.useState)(e.visible_time_end),b=g[0],y=g[1],x=(0,p.useState)(void 0),T=x[0],w=x[1],S=(0,p.useState)(!1),O=S[0],_=S[1],k=(0,p.useState)(void 0),E=k[0],P=k[1],M=(0,p.useRef)(null);(0,p.useEffect)(function(){s(m(e.items))},[e.items]),(0,p.useEffect)(function(){void 0!==e.visible_time_start&&(v(e.visible_time_start),n({visible_time_start:void 0})),void 0!==e.visible_time_end&&(y(e.visible_time_end),n({visible_time_end:void 0}))},[e.visible_time_start,e.visible_time_end]);var I=Math.max(Math.min.apply(Math,o.map(function(e){return e.start_time})),1),D=Math.max.apply(Math,c(c([],o.map(function(e){return e.end_time}),!1),[864e5],!1)),C=e.default_time_start||I-432e5,j=e.default_time_end||D+432e5,z=function(){O||w(void 0)};return(0,p.useEffect)(function(){var t;if(e.enable_external_drop){var r=null===(t=M.current)||void 0===t?void 0:t.querySelector(".rct-scroll");if(r&&n){var i=function(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},o=function(t){var i,o;t.preventDefault();var s=null===(i=t.dataTransfer)||void 0===i?void 0:i.getData("application/json");if(s&&0!==e.groups.length){console.log(t);var a=JSON.parse(s),l=r.getBoundingClientRect(),c=null!==(o=e.line_height)&&void 0!==o?o:60,p=t.clientX-l.left,d=t.clientY-l.top,h=Math.min(Math.floor(d/c),e.groups.length-1),f=(e.groups[h].id,null!=u?u:C),m=null!=b?b:j,v=f+p/l.width*(m-f);n({externalDrop:{data:a,group_id:e.groups[h].id,time:v}})}};return r.addEventListener("dragover",i),r.addEventListener("drop",o),function(){r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}}},[e.enable_external_drop,e.groups,u,b,C,j,n]),p.default.createElement("div",{id:t,ref:M},p.default.createElement(d.default,{groups:e.groups,items:o,defaultTimeStart:C,defaultTimeEnd:j,dragSnap:e.drag_snap,minZoom:e.min_zoom,maxZoom:e.max_zoom,lineHeight:e.line_height,itemHeightRatio:e.item_height_ratio,useResizeHandle:!e.use_resize_handle,onItemMove:function(t,r,i){var a=e.groups[i],l=o.map(function(e){return e.id===t?Object.assign({},e,{start_time:r,end_time:r+(e.end_time-e.start_time),group:a.id}):e});s(l),n({items:l})},onItemSelect:function(e,t){if(0===t.button){if(!O&&(null==T?void 0:T.id)===e)return _(!0),void n({clickedItem:T});var r=o.find(function(t){return t.id===e});w(i(i({},r),{mousePosition:{x:t.clientX,y:t.clientY}})),n({clickedItem:r}),_(!0)}},onItemClick:function(e,t,r){if(0===t.button)if(O)w(void 0),n({clickedItem:void 0,selectedItemInput:void 0}),_(!1);else{var s=o.find(function(t){return t.id===e});w(i(i({},s),{mousePosition:{x:t.clientX,y:t.clientY}})),n({clickedItem:s}),_(!0)}},onItemDeselect:function(){w(void 0),n({clickedItem:void 0,selectedItemInput:void 0}),_(!1)},onItemResize:function(e,t,r){var i=o.map(function(n){return n.id===e?Object.assign({},n,{start_time:"left"===r?t:n.start_time,end_time:"right"===r?t:n.end_time}):n});s(i),n({items:i})},onItemDrag:function(){_(!1),w(void 0)},itemRenderer:function(e){var t,n=e.item,r=e.itemContext,s=e.getItemProps,a=(0,e.getResizeProps)(),c=a.left,u=a.right,d=s(null!==(t=n.itemProps)&&void 0!==t?t:{}),h=d.key,f=d.ref,m=l(d,["key","ref"]),v=r.useResizeHandle;return p.default.createElement("div",i({onMouseEnter:function(e){return function(e,t){if(!O){var n=o.find(function(t){return t.id===e});w(i(i({},n),{mousePosition:{x:t.clientX,y:t.clientY}}))}}(n.id,e)},onMouseLeave:z},m,{ref:f,key:"".concat(h,"-outer"),isfixed:n.is_fixed?"true":"false"}),v?p.default.createElement("div",i({},c,{key:"".concat(h,"-lr")})):null,p.default.createElement("div",{className:"rct-item-content",style:{maxHeight:"".concat(r.dimensions.height)},key:"".concat(h,"-content")},r.title),v?p.default.createElement("div",i({},u,{key:"".concat(h,"-rr")})):null)},onCanvasContextMenu:function(t,r,i){e.context_menu_options&&(i.preventDefault(),P({contextItems:e.context_menu_options||[],mouseEvent:i,time:r,groupId:t,onClickEvent:function(e){P(void 0),n({rightClickedEvent:{time:r,group_id:t,option:e}})}}))},onCanvasClick:function(){P(void 0)},onTimeChange:function(e,t,n){v(e),y(t),n(e,t)},visibleTimeStart:u,visibleTimeEnd:b}),E&&p.default.createElement(f.RightClickOutsideHandler,i({},E)),p.default.createElement(h.SelectedItemInfo,{item:T,setProps:n,selectedItemProps:e.selectedItemInput,onDelete:function(e){var t=o.filter(function(t){return t.id!==e});s(t),n({items:t,clickedItem:void 0,selectedItemInput:void 0}),w(void 0)},onItemFix:function(e,t){var r=o.find(function(t){return t.id===e}),a=o.map(function(e){return e.group!==r.group?e:t?e.start_time<r.end_time?i(i({},e),{is_fixed:!0}):e:i(i({},e),{is_fixed:!1})});s(a),n({items:a})},onSkuChange:function(e,t){var r=o.map(function(n){return n.id===e?i(i({},n),{sku:t}):n});s(r),n({items:r})}}))}},848:(e,t,n)=>{e.exports=n(20)},867:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),i=n.n(r),o=n(314),s=n.n(o)()(i());s.push([e.id,".selected-item-info {\n  border: 1px solid black;\n  background-color: white;\n  padding: 5px;\n  z-index: 1000;\n}\n\n.selected-item-info-inputs {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n",""]);const a=s},921:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(72),i=n.n(r),o=n(825),s=n.n(o),a=n(56),l=n.n(a),c=n(540),u=n.n(c),p=n(113),d=n.n(p),h=n(220),f={};f.styleTagTransform=d(),f.setAttributes=l(),f.insert=function(e){var t=document.querySelector("head"),n=window._lastElementInsertedByStyleLoader;n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),window._lastElementInsertedByStyleLoader=e},f.domAPI=s(),f.insertStyleElement=u(),i()(h.A,f);const m=h.A&&h.A.locals?h.A.locals:void 0}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,r(80)})());